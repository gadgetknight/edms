2025-05-29 19:30:21,300 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:30:21,301 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:30:21,302 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:30:21,304 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:30:21,314 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:30:21,333 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:30:21,335 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:30:21,337 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:30:21,337 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:30:21,338 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:30:21,338 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:30:21,343 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:30:21,419 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:31:29,905 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:01,976 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,978 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,994 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:32:01,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:32:01,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:32:02,000 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:32:02,140 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:32:02,144 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:32:02,145 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:32:02,150 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:32:02,165 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:32:02,285 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:32:02,288 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:32:02,290 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:32:02,305 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:32:02,333 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:32:02,334 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:32:02,342 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:32:02,355 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:32:02,364 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:32:02,365 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:32:09,200 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:32:09,200 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:32:09,201 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:32:09,203 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:32:09,215 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:32:09,216 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:32:17,511 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:32:17,512 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:32:17,515 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:32:17,521 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:32:17,523 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:32:17,524 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:32:17,526 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:32:17,527 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:32:17,548 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:32:17,550 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:32:17,551 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:32:17,552 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:32:17,555 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:32:17,635 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:32:20,986 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:35,018 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:32:45,528 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:33:07,878 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:34:26,238 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:34:27,266 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:34:27,285 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:34:27,290 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:14,920 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:14,920 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:14,921 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:14,923 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:14,936 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:14,954 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:14,956 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:14,957 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:14,957 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:14,962 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:15,042 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:18,084 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:35,392 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:39:38,777 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:41,553 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:43,228 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:44,896 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:39:44,905 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:39:44,905 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:49,421 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:49,421 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:49,423 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:49,424 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:49,435 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:49,455 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:49,457 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:49,458 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:49,458 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:49,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:49,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:49,464 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:49,542 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:52,791 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:02,794 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:26,168 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:27,280 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:40:29,393 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:43,453 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,455 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,471 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:40:43,474 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:40:43,479 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:40:43,483 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:40:43,485 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:40:43,615 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:40:43,618 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:40:43,619 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:40:43,624 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:40:43,685 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:40:43,764 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:40:43,777 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:40:43,800 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:40:43,801 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:40:43,810 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:40:43,819 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:40:43,822 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:40:43,825 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:40:43,834 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:40:43,835 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:40:46,349 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:40:46,361 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:40:46,428 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 19:40:46,470 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:40:50,800 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:40:56,607 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:40:59,998 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete User 'ted mazz' (ID: tm)?
2025-05-29 19:41:01,872 - INFO - UserController - user_controller:596 - User 'tm' permanently deleted by admin 'ADMIN'.
2025-05-29 19:41:01,872 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' deleted successfully.
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:41:01,876 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:41:01,878 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 1 users into custom list.
2025-05-29 19:41:03,478 - INFO - AddEditUserDialog - add_edit_user_dialog:91 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 19:41:27,175 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-05-29 19:41:27,335 - INFO - UserController - user_controller:343 - User 'tm' created successfully by ADMIN.
2025-05-29 19:41:27,335 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-05-29 19:41:27,343 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-05-29 19:41:30,430 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:41:30,442 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:41:32,724 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:41:32,740 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:41:32,740 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:42:56,062 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:42:56,063 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:42:56,063 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:42:56,070 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:42:56,071 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:42:56,072 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:42:56,091 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:42:56,094 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:42:56,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:42:56,182 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:42:59,944 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:43:14,512 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:44:00,695 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:44:02,318 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:44:02,325 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:44:02,326 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:53:10,566 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:53:10,567 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:53:10,570 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:53:10,570 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:53:10,578 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:53:10,579 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:53:10,582 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:53:10,602 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:53:10,605 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:53:10,611 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:53:10,693 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:53:12,713 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:53:20,943 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:53:21,107 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:53:21,107 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:53:21,110 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:53:21,122 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:53:21,125 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:53:21,127 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:53:21,132 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:53:21,135 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:53:21,137 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:53:21,294 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:53:21,298 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:53:21,300 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:53:21,304 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:53:21,318 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:53:21,364 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:53:21,438 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:53:21,457 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:53:21,484 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:53:21,485 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:53:21,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:53:21,500 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:53:21,503 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:53:21,507 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:53:29,551 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:53:29,552 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:53:29,568 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:53:29,627 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:53:29,631 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:53:29,636 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:53:29,675 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:53:34,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:53:35,809 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:56:17,854 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:56:17,892 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:56:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:56:36,812 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:56:36,838 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:56:36,843 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:56:43,609 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:56:43,609 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:56:43,611 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:56:43,612 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:56:43,625 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:56:43,643 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:56:43,644 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:56:43,646 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:56:43,647 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:56:43,652 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:56:43,733 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:56:45,388 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:56:54,578 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:56:54,581 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:56:57,525 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:07,485 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:57:07,489 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:57:09,722 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:18,198 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:57:18,360 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:57:18,360 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:57:18,363 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:57:18,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:57:18,376 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:57:18,378 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:57:18,379 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:57:18,385 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:57:18,386 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:57:18,541 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:57:18,545 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:57:18,546 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:57:18,550 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:57:18,568 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:57:18,610 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:57:18,612 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:57:18,613 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:57:18,686 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:57:18,703 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:57:18,733 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:57:18,736 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:57:18,744 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:57:18,756 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:57:22,341 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:57:22,342 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:57:22,355 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:57:22,461 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:57:24,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:25,810 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 19:57:42,097 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:42,100 - WARNING - AddEditUserDialog - add_edit_user_dialog:391 - User operation failed: Validation failed: New password must be at least 6 characters long.
2025-05-29 19:57:50,044 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:50,209 - INFO - UserController - user_controller:480 - User 'tm' updated successfully by tm.
2025-05-29 19:57:50,211 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User updated successfully.
2025-05-29 19:57:50,217 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:50,221 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:50,222 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' updated.
2025-05-29 19:57:53,452 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:57:53,465 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:57:57,279 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:57:57,279 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:57:57,297 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:57:57,297 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:09:44,305 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:09:44,305 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:09:44,307 - INFO - DatabaseManager - database_config:74 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:87 - Database engine and session factory created
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:118 - Creating database tables...
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:122 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:201 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:09:44,335 - ERROR - DatabaseManager - database_config:289 - Error ensuring default admin user: Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\config\database_config.py", line 235, in _ensure_default_admin_user
    if not admin_user.check_password(default_password):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:44,338 - INFO - DatabaseManager - database_config:91 - Database initialization completed successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:09:44,341 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:09:44,346 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:09:44,430 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:09:46,964 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:09:56,730 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:09:56,731 - ERROR - UserController - user_controller:118 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 74, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:59,619 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 20:10:09,733 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:10:09,896 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:10:09,896 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:10:09,898 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:10:09,912 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:10:09,914 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:10:09,915 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:10:09,917 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:10:10,081 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:10:10,085 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:10:10,087 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:10:10,091 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:10:10,151 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:10:10,153 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:10:10,154 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:10:10,227 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:10:10,246 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:10:10,276 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:10:10,277 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:10:10,286 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:10:10,295 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:10:10,296 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:10:10,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:10:12,512 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:12,513 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:12,520 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:12,534 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:12,593 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:12,602 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:12,642 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:14,578 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 20:10:16,276 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:10:24,564 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:24,577 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:26,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:26,192 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:26,207 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:26,263 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:26,270 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:26,308 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:30,152 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:30,166 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:33,216 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:10:33,216 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:10:33,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:10:33,219 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:10:33,232 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:10:33,234 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:17:30,708 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:17:30,711 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:17:30,711 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:17:30,717 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:17:30,718 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:17:30,720 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:17:30,738 - WARNING - DatabaseManager - database_config:231 - ADMIN password hash not bcrypt/valid (Invalid salt). Resetting password.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:239 - ADMIN user password has been set/reset to a bcrypt hash.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:272 - ADMIN user record updated/verified.
2025-05-29 20:17:30,900 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:17:30,901 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:17:30,903 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:17:30,908 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:17:30,989 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:17:59,672 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:10,303 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:18:10,466 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:18:10,466 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,467 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,481 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:10,484 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:10,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:10,491 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:10,656 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:10,667 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:10,681 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:10,729 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:10,730 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:10,731 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:10,809 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:10,827 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:10,867 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:10,880 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:13,940 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:13,941 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:13,955 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 20:18:14,058 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:18:16,477 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: ADMIN
2025-05-29 20:18:17,784 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:18:29,945 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:18:29,956 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:18:31,951 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:18:31,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:18:31,967 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:18:31,967 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:18:39,145 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:18:39,147 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:18:39,148 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:18:39,150 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:18:39,161 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:18:39,162 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:18:39,163 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:18:39,340 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:18:39,341 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:18:39,343 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:18:39,344 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:18:39,349 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:18:39,433 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:18:42,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:50,232 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:18:50,395 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:18:50,395 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:18:50,398 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:18:50,411 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:50,418 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:50,583 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:50,587 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:50,589 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:50,593 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:50,612 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:50,614 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:50,654 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:50,656 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:50,657 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:50,732 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:50,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:50,791 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:50,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:50,802 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:50,807 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:52,657 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:52,714 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:18:52,759 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:25:41,187 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:25:41,239 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:25:43,929 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:25:43,939 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:25:43,948 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:25:43,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:25:43,960 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:25:43,971 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:25:44,027 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:25:44,033 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:26:24,254 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:26:24,254 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:26:24,255 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:26:24,257 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:26:24,270 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:26:24,445 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:26:24,449 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:26:24,455 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:26:24,539 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:26:26,694 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:26:33,841 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:26:34,005 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:26:34,006 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:26:34,008 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:26:34,022 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:26:34,024 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:26:34,025 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:26:34,027 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:26:34,032 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:26:34,034 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:26:34,196 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:26:34,201 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:26:34,202 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:26:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:26:34,268 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:26:34,271 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:26:34,272 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:26:34,343 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:26:34,360 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:26:34,389 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:26:34,390 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:26:34,397 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:26:34,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:26:34,408 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:26:34,413 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:26:34,420 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:26:34,422 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:26:36,635 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:26:36,697 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:26:36,736 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:26:54,002 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:26:56,475 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 3
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:945 - Loading master owners data for tab...
2025-05-29 20:26:57,764 - INFO - UserManagementScreen - user_management_screen:982 - Loaded 6 master owners.
2025-05-29 20:27:05,554 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:05,556 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:05,559 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:27:06,828 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:11,279 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:14,532 - INFO - UserManagementScreen - user_management_screen:788 - Location selected: 1
2025-05-29 20:27:19,482 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:32:01,712 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:32:01,725 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:32:27,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:32:27,641 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:32:27,646 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:32:27,648 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:32:27,661 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:32:27,720 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:32:27,724 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:32:27,725 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:32:27,765 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:32:31,764 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:40:34,906 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:40:34,943 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:40:36,927 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:40:36,927 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:40:36,929 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:40:36,930 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:40:36,930 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:40:36,932 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:40:36,954 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:40:36,957 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:40:53,807 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:40:53,807 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:40:53,811 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:40:53,812 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:40:53,822 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:40:53,823 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:40:53,825 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:40:54,000 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:40:54,003 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:40:54,005 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:40:54,005 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:40:54,009 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:40:54,089 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:40:55,989 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:41:05,147 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:41:05,311 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:41:05,311 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,314 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,326 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:41:05,326 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:41:05,328 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:41:05,332 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:41:05,449 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:41:05,453 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:41:05,455 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:41:05,458 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:41:05,519 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:41:05,593 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:41:05,612 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:41:05,642 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:41:05,645 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:41:05,652 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:41:05,664 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:41:07,837 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:41:07,839 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:41:07,840 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:41:07,856 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:41:07,913 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:41:07,922 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:41:07,962 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:41:11,269 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:41:18,111 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: 1
2025-05-29 20:41:21,123 - INFO - AddEditLocationDialog - add_edit_location_dialog:273 - Loaded 60 states into combobox.
2025-05-29 20:41:21,126 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: None
2025-05-29 20:41:28,947 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:28,948 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:35,470 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 20:41:35,483 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:46:11,587 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-29 20:46:11,588 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-29 20:46:11,593 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-29 20:46:14,524 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-29 20:46:14,524 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-29 20:46:14,530 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-29 20:46:27,843 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:46:27,844 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:46:27,862 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:46:27,920 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:46:27,968 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:46:42,606 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:56:43,199 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:56:43,201 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:56:43,209 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:38,100 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:06:38,135 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:06:40,655 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:06:40,657 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:06:40,660 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:06:40,661 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:06:40,688 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:06:40,692 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:06:46,313 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:06:46,313 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:06:46,316 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:06:46,329 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:06:46,503 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:06:46,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:06:46,506 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:06:46,508 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:06:46,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:06:46,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:06:48,725 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:06:55,362 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 21:06:55,526 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 21:06:55,526 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 21:06:55,528 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 21:06:55,542 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 21:06:55,544 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:06:55,547 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:06:55,550 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:06:55,710 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:06:55,713 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:06:55,715 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:06:55,719 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:06:55,783 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:06:55,784 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:06:55,786 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:06:55,859 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:06:55,878 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:06:55,908 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:06:55,909 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:06:55,918 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:06:55,931 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:06:57,598 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:06:57,599 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:06:57,616 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:06:57,673 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-29 21:06:57,723 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:07:02,297 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:02,299 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:02,303 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:05,055 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:05,056 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:05,061 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:09,066 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 2
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:847 - Loading charge codes data for tab...
2025-05-29 21:07:17,701 - INFO - UserManagementScreen - user_management_screen:880 - Loaded 3 charge codes.
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:19,186 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:21,322 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:42,261 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:48,813 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
2025-05-29 21:09:35,656 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:09:35,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:09:36,462 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:09:36,463 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:09:36,478 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:09:36,482 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:09:36,484 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:13:16,907 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:13:16,907 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:13:16,908 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:13:16,910 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:13:16,922 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:13:17,097 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:13:17,100 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:13:17,101 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:13:17,103 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:13:17,108 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:13:17,191 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:13:19,623 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:18:01,553 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:18:01,717 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:18:01,717 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,720 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:18:01,733 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:18:01,734 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:18:01,736 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:18:01,737 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:18:01,739 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:18:01,907 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:18:01,912 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:18:01,913 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:18:01,918 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:18:01,936 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:18:01,977 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:18:01,980 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:18:01,981 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:18:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:18:02,075 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:18:02,106 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:18:02,108 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:18:02,117 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:18:02,129 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:18:03,953 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:18:03,955 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,956 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:18:03,970 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,970 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:18:04,027 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:18:04,034 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:04,035 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:18:04,074 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:07,004 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:08,438 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:11,378 - INFO - UserManagementScreen - user_management_screen:596 - User selected from list: tm
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:13,365 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:15,088 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:18:18,929 - INFO - AddEditLocationDialog - add_edit_location_dialog:305 - Loaded 60 states into combobox.
2025-05-29 21:18:30,846 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:18:30,848 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:19:14,191 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:19:14,192 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:25:27,489 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-29 21:25:27,524 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:25:31,366 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:25:31,368 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:25:31,393 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:25:31,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:25:40,318 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:25:40,319 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:25:40,321 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:25:40,322 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:25:40,332 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:25:40,334 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:25:40,335 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:25:40,511 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:25:40,515 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:25:40,520 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:25:40,602 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:25:42,827 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:25:51,795 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:25:51,959 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:25:51,959 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,962 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,977 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:25:51,978 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:25:51,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:25:51,981 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:25:51,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:25:51,984 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:25:52,145 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:25:52,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:25:52,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:25:52,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:25:52,215 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:25:52,294 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:25:52,312 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:25:52,346 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:25:52,349 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:25:52,356 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:25:52,368 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:25:54,645 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:25:54,658 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,660 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:25:54,715 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:25:54,724 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,724 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:25:54,764 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:25:57,552 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:00,819 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:26:03,568 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-29 21:26:21,620 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-29 21:26:21,620 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-29 21:26:23,560 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:26:23,562 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-29 21:26:29,589 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:29,593 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable' updated.
2025-05-30 17:25:03,888 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-30 17:25:03,926 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-30 17:25:09,245 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-30 17:25:09,245 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-30 17:25:09,274 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-30 17:25:09,280 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:28:25,069 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:28:25,070 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:28:25,089 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:28:25,271 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:28:25,273 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:28:25,274 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:28:25,274 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:28:25,285 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:28:25,303 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:28:32,673 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:28:42,257 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 19:28:42,419 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 19:28:42,419 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,420 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,427 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 19:28:42,427 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 19:28:42,429 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:28:42,442 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:28:42,444 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:28:43,558 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:28:43,561 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:28:43,563 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:28:43,567 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:28:43,628 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:28:43,629 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:28:43,630 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:28:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:28:43,677 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:28:43,678 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:28:43,686 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:28:43,717 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:28:43,725 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:28:43,726 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:28:43,728 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:28:46,654 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-31 19:28:46,656 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-31 19:28:46,659 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-31 19:28:47,668 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 19:28:47,670 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 19:28:47,672 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 19:28:49,491 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 3
2025-05-31 19:28:49,492 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Streetwise
2025-05-31 19:28:49,495 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 3
2025-05-31 19:29:05,505 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:29:05,506 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:29:05,507 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:29:05,522 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,522 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:29:05,587 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:29:05,588 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 19:29:05,594 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:09,270 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:29:17,211 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:29:19,583 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:29:32,248 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-31 19:29:32,248 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:29:34,333 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:34,343 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:30:53,271 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:30:53,272 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:31:01,318 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:31:01,330 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:31:04,789 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 19:31:04,789 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:31:04,800 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:31:04,801 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:44:29,482 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:44:29,483 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:44:29,496 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:44:29,497 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:44:29,520 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:44:29,710 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:44:29,713 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:44:29,726 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:44:29,748 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:44:32,338 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:44:39,224 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:44:39,385 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:44:39,386 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:44:39,386 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:44:39,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:44:39,395 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:44:39,397 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:44:39,398 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:44:39,399 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:44:39,400 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:44:40,594 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:44:40,597 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:44:40,599 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:44:40,603 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:44:40,663 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:44:40,704 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:44:40,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:44:40,742 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:44:40,743 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:44:40,751 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:44:40,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:44:40,759 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:44:40,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:44:40,768 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:44:40,769 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:44:43,036 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,037 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:44:43,050 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,050 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:44:43,107 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:44:43,112 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,113 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:44:43,122 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:46,666 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:44:48,215 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:44:49,565 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:44:58,053 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:44:58,053 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:44:59,952 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:59,961 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:46:32,939 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:46:32,941 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:46:35,818 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:46:35,851 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:46:38,791 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:46:38,792 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:46:38,793 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:46:38,808 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:46:38,810 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:47:04,268 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:47:04,269 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:47:04,269 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:47:04,280 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:47:04,457 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:47:04,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:47:04,465 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:47:04,483 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:47:06,711 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:47:22,148 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:47:22,310 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:47:22,310 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:47:22,310 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:47:22,321 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:47:22,323 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:47:22,479 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:47:22,482 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:47:22,483 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:47:22,487 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:47:22,546 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:47:22,588 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:47:22,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:47:22,622 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:47:22,623 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:47:22,629 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:47:22,640 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:47:28,915 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,915 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:47:28,929 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,929 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:47:28,987 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:47:28,993 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:47:29,002 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:32,006 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:33,703 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:47:35,213 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:47:40,903 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:47:40,903 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:47:42,519 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:42,520 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:48:01,248 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:48:10,885 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:48:10,886 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:48:10,887 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:48:22,739 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Delanco
2025-05-31 19:48:22,743 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-05-31 19:48:40,721 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-05-31 19:48:48,671 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Delanco
2025-05-31 19:48:48,675 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:48:59,634 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-05-31 19:49:07,684 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:49:12,871 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:49:51,317 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 2
2025-05-31 19:49:59,051 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:50:00,979 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:50:06,387 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:50:06,395 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:50:08,713 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:50:08,713 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,714 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:50:08,726 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,726 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:50:08,782 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:50:08,787 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,788 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:50:08,796 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:50:10,628 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:50:10,629 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:50:10,630 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:51:38,827 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:51:38,837 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:51:57,191 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-05-31 19:52:06,189 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:52:06,190 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:52:06,191 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,192 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:52:06,205 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,206 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:52:06,261 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:52:06,266 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:52:06,275 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:52:10,839 - INFO - UserManagementScreen - user_management_screen:587 - User selected from list: ADMIN
2025-05-31 19:52:14,743 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:52:14,744 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:52:14,745 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:52:16,065 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:52:28,503 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:58:02,618 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:58:02,647 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:58:05,664 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:58:05,664 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:58:05,682 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:58:05,683 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:01:15,058 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:01:15,058 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:01:15,065 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:01:15,066 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:01:15,068 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:01:15,244 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:01:15,246 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:01:15,247 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:01:15,247 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:01:15,251 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:01:15,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:01:21,201 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:01:31,080 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:01:31,239 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:01:31,239 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,240 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,248 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:01:31,250 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:01:31,251 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:01:31,252 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:01:31,253 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:01:31,254 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:01:31,258 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:01:31,259 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:01:31,405 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:01:31,408 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:01:31,409 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:01:31,413 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:01:31,428 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:01:31,470 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:01:31,528 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:01:31,540 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:01:31,567 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:01:31,576 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:01:31,584 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:01:31,585 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:01:34,409 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:01:34,410 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:01:34,413 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,413 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:01:34,429 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,429 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:01:34,486 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:01:34,492 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:01:34,500 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:01:38,361 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:01:42,225 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:01:43,666 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:09,322 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 20:02:19,465 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-05-31 20:02:20,209 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-05-31 20:02:22,443 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:22,449 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:24,220 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:02:41,842 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:02:44,269 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:50,181 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:50,185 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:57,678 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:03:00,475 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:03:02,085 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 20:03:04,104 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:04:33,542 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 1
2025-05-31 20:04:35,368 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:08:30,682 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:08:30,693 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:08:31,414 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:08:31,414 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:08:31,424 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:08:31,426 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:08:31,427 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:23:16,275 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:23:16,275 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:23:16,276 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:23:16,287 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:23:16,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:23:16,466 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:23:16,467 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:23:16,467 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:23:16,472 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:23:16,498 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:23:21,030 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:23:30,585 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:23:30,745 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:23:30,745 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,746 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,755 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:23:30,755 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:23:30,757 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:23:30,760 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:23:30,761 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:23:30,882 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:23:30,885 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:23:30,886 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:23:30,890 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:23:30,905 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:23:30,907 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:23:30,960 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:23:31,007 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:23:31,021 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:23:31,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:23:31,056 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:23:31,057 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:23:31,059 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:23:34,228 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:23:34,229 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,230 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:23:34,247 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,248 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:23:34,304 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:23:34,309 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:23:34,310 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:23:34,323 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:23:36,415 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:23:42,089 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:23:43,769 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:23:43,770 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:27:15,259 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:27:15,270 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:27:19,379 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:27:19,381 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:27:21,621 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:27:21,621 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:27:21,630 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:27:21,633 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:27:21,633 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:37:38,572 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:37:38,573 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:37:38,573 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:37:38,581 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:37:38,582 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:37:38,586 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:37:38,761 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:37:38,762 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:37:38,763 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:37:38,764 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:37:38,768 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:37:38,788 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:37:40,865 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:37:50,810 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:37:50,972 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:37:50,972 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,972 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,986 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:37:50,986 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:37:50,988 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:37:51,146 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:37:51,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:37:51,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:37:51,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:37:51,210 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:37:51,253 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:37:51,266 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:37:51,291 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:37:51,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:37:51,307 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:37:51,309 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:37:55,071 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:37:55,072 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:37:55,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:37:55,073 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:37:55,088 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,088 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:37:55,146 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:37:55,152 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,153 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:37:55,163 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:37:57,093 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:38:00,714 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:38:00,773 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:40:47,405 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:40:47,407 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:12,701 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:42:12,702 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:42:12,711 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:42:12,885 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:42:12,888 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:42:12,892 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:42:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:42:16,304 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:42:26,061 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:42:26,225 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:42:26,225 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,226 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,236 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:42:26,237 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:42:26,238 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:42:26,239 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:42:26,244 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:42:26,245 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:42:26,394 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:42:26,397 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:42:26,399 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:42:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:42:26,463 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:42:26,514 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:42:26,516 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:42:26,517 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:42:26,526 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:42:26,552 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:42:26,559 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:42:26,560 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:42:26,563 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:42:45,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,617 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:42:45,632 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,632 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:42:45,689 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:42:45,696 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,696 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:42:45,705 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:42:47,371 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:47,375 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:44:38,762 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:44:38,765 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 21:15:03,132 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:15:03,141 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:15:04,874 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:15:04,874 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:15:04,883 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:15:04,885 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 21:15:12,802 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:15:12,802 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:15:12,803 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:15:12,990 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:15:12,993 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:15:12,998 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:15:13,019 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:15:14,962 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:15:23,502 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:15:23,666 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:15:23,667 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,667 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,678 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:15:23,678 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:15:23,679 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:15:23,680 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:15:23,686 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:15:23,687 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:15:23,854 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:15:23,857 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:15:23,858 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:15:23,862 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:15:23,921 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:15:23,965 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:15:23,978 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:15:24,004 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 21:15:24,015 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:15:26,144 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,144 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:15:26,159 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,159 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:15:26,216 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:15:26,219 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:15:26,223 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,223 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:15:26,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:15:28,835 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:17:40,086 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: charge_codes.charge_code_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-31 21:36:48,863 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:36:48,864 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:36:48,865 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:36:48,865 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:36:48,874 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:36:49,051 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:36:49,053 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:36:49,054 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:36:49,054 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:36:49,058 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:36:49,079 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:36:55,187 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:37:03,041 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:37:03,203 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:37:03,203 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,204 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,213 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:37:03,215 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:37:03,219 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:37:03,220 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:37:03,383 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:37:03,386 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:37:03,387 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:37:03,391 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:37:03,448 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:37:03,496 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:37:03,510 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:37:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:37:03,531 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:03,534 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-05-31 21:37:03,536 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:37:11,571 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 21:37:11,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 21:37:11,579 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 21:37:33,058 - INFO - HorseUnifiedManagement - horse_unified_management:1118 - save_changes: START
2025-05-31 21:37:33,059 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,070 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-05-31 21:37:33,070 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:33,071 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:34,951 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 21:37:34,951 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:34,953 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 21:37:34,956 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:34,957 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:34,958 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:40,336 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:40,339 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:1240 - save_changes: FINISHED
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:37:43,395 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,395 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:37:43,410 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,410 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:37:43,456 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:37:43,457 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:37:43,462 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:37:43,471 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:37:46,729 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:40:22,925 - INFO - ChargeCodeController - charge_code_controller:113 - Charge Code '991' created successfully (ID: 4).
2025-05-31 21:40:24,797 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-05-31 21:48:53,412 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 21:49:17,394 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:49:17,413 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:49:20,376 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:49:20,395 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:49:20,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:02:06,980 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:02:06,980 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:02:06,981 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:02:06,992 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:02:07,169 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:02:07,171 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:02:07,177 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:02:07,198 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:02:09,138 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:02:18,149 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:02:18,314 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:02:18,314 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,315 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,325 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:02:18,325 - INFO - HorseUnifiedManagement - horse_unified_management:100 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:02:18,327 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:02:18,329 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:747 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:754 - QTabWidget created and styled.
2025-05-31 22:02:18,484 - INFO - HorseUnifiedManagement - horse_unified_management:760 - BasicInfoTab created.
2025-05-31 22:02:18,487 - INFO - HorseUnifiedManagement - horse_unified_management:771 - OwnersTab created.
2025-05-31 22:02:18,488 - INFO - HorseUnifiedManagement - horse_unified_management:782 - LocationTab created.
2025-05-31 22:02:18,492 - INFO - HorseUnifiedManagement - horse_unified_management:789 - Tabs added.
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1635 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting BasicInfoTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting OwnersTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting LocationTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1732 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:02:18,548 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - horse_unified_management:148 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:02:18,593 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement showEvent: START
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:328 - display_empty_state: FINISHED
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:208 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:02:18,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:02:18,628 - INFO - HorseUnifiedManagement - horse_unified_management:464 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:02:18,629 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:18,635 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 22:02:18,639 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 22:02:18,640 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:02:18,643 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:02:18,644 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:18,645 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:24,401 - INFO - HorseUnifiedManagement - horse_unified_management:467 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:02:32,756 - INFO - HorseUnifiedManagement - horse_unified_management:995 - add_new_horse: START
2025-05-31 22:02:32,757 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:02:32,762 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - add_new_horse: FINISHED
2025-05-31 22:02:51,191 - INFO - HorseUnifiedManagement - horse_unified_management:1100 - save_changes: START
2025-05-31 22:02:51,191 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,200 - INFO - HorseController - horse_controller:179 - Horse 'lorena' (ID: 2) created successfully by ADMIN.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - horse_unified_management:1174 - save_changes: Save successful. Message: Horse 'lorena' created successfully.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'lorena' created successfully.
2025-05-31 22:02:53,046 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,046 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:53,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 2
2025-05-31 22:02:53,053 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,053 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - horse_unified_management:1237 - save_changes: Exception: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1229, in save_changes
    self.load_horse_details(
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Save Error - Unexpected error: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:03:04,203 - INFO - HorseUnifiedManagement - horse_unified_management:1239 - save_changes: FINISHED
2025-05-31 22:03:48,121 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:03:48,123 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:03:48,123 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:03:48,124 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:08:20,216 - INFO - HorseUnifiedManagement - horse_unified_management:1590 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:08:20,216 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:481 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:484 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:08:20,244 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:08:20,244 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:08:27,166 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:08:27,166 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:08:27,168 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:08:27,175 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:08:27,176 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:08:27,178 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:08:27,352 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:08:27,355 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:08:27,360 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:08:27,381 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:08:29,714 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:08:38,533 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:08:38,700 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:08:38,701 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,701 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,711 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:08:38,713 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:08:38,714 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:08:38,716 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:08:38,872 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:08:38,875 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:08:38,876 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:08:38,880 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:08:38,936 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:08:38,981 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:08:38,983 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:08:38,984 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:08:38,993 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:08:39,018 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:08:39,027 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:08:39,028 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:08:43,852 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:08:45,453 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:08:45,455 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:08:45,455 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:35,506 - INFO - HorseUnifiedManagement - horse_unified_management:1410 - on_filter_changed: To All Horses
2025-05-31 22:10:35,507 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'all', Search: ''
2025-05-31 22:10:35,511 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,513 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:35,516 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,517 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:10:35,518 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:10:35,518 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:41,129 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:41,130 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:43,097 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:43,098 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:43,100 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:49,385 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:10:49,385 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:10:49,391 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:11:27,104 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 22:11:27,105 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 22:11:27,106 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 22:11:27,107 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 22:11:27,122 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,122 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 22:11:27,175 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 22:11:27,179 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 22:11:27,180 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 22:11:27,191 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 22:11:31,683 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 22:11:31,684 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 22:11:31,686 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 22:11:33,579 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-05-31 22:11:34,831 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-05-31 22:11:37,718 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 22:11:37,726 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 22:11:40,002 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:11:40,014 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:11:40,015 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:11:46,932 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:11:46,934 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:11:46,934 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:11:46,944 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:11:47,119 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:11:47,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:11:47,121 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:11:47,122 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:11:47,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:11:47,148 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:11:48,917 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:11:58,236 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:11:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:11:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,407 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:11:58,407 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:11:58,409 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:11:58,410 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:11:58,415 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:11:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:11:58,581 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:11:58,584 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:11:58,585 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:11:58,589 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:11:58,605 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:11:58,648 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:11:58,702 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:11:58,716 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:11:58,743 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:11:58,752 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:11:58,752 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:05,024 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:12:07,565 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:07,567 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:07,567 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:14,157 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:12:14,157 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:12:14,164 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:12:16,973 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:22,120 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:24,085 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:12:24,087 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:12:24,087 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:31,167 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:31,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:31,169 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:16:06,170 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:16:06,170 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:16:06,192 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:16:06,196 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:16:12,698 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:16:12,699 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:16:12,709 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:16:12,883 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:16:12,885 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:16:12,886 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:16:12,886 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:16:12,891 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:16:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:16:14,530 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:16:24,165 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:16:24,328 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:16:24,328 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,329 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,337 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:16:24,339 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:16:24,341 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:16:24,342 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:16:24,346 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:16:24,347 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-05-31 22:16:24,502 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-05-31 22:16:24,504 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-05-31 22:16:24,506 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-05-31 22:16:24,510 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-05-31 22:16:24,524 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:16:24,525 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:16:24,569 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:16:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:16:24,625 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:16:24,642 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:16:24,643 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:16:24,649 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:16:24,654 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:16:24,655 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:24,657 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:16:29,178 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:29,183 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:29,187 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 22:16:34,175 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: lorena
2025-05-31 22:16:36,935 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-05-31 22:16:40,181 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: lorena
2025-05-31 22:16:40,186 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 22:16:42,030 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 22:16:44,124 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:44,126 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:44,129 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:55,038 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:55,041 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:55,044 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-01 19:27:42,771 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-01 19:27:42,772 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-01 19:27:42,773 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-01 19:27:42,774 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-01 19:27:42,782 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-01 19:27:42,784 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-01 19:27:42,785 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:03:01,733 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:03:01,735 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:03:01,937 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:03:01,940 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:03:01,941 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:03:01,942 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:03:01,956 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:03:01,986 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:03:07,199 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:03:18,804 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:03:18,966 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:03:18,968 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,968 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,978 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:03:18,978 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:03:18,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:03:18,986 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:03:18,990 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:03:18,992 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:03:19,456 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:03:19,459 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:03:19,462 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:03:19,465 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:03:19,480 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:03:19,528 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:03:19,571 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:03:19,584 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:03:19,609 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:03:19,611 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:03:19,617 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:19,628 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:19,634 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:19,635 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:03:29,224 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:30,929 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 12:03:32,134 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 12:03:32,144 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 12:03:32,144 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:34,036 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:34,037 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:37,849 - INFO - OwnersTab - owners_tab:215 - Owner ID 2 selected.
2025-06-02 12:03:42,700 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:45,180 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:03:48,026 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 100.0% to horse ID 1
2025-06-02 12:04:06,043 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 2 on horse ID 1 to 90.0%
2025-06-02 12:04:06,049 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 2 by ADMIN.
2025-06-02 12:04:06,050 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:07,807 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:07,810 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:07,813 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:09,374 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:04:10,969 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:04:30,297 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 10.0% to horse ID 1
2025-06-02 12:04:30,303 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 1 by ADMIN.
2025-06-02 12:04:30,303 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:04:32,242 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:04:32,243 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:32,245 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:32,248 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:35,837 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:52,726 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 3 on horse ID 1 to 10.0%
2025-06-02 12:04:52,729 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 3 by ADMIN.
2025-06-02 12:04:52,729 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:54,320 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:54,322 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:54,323 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:54,325 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:54,326 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:54,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:56,761 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-02 12:04:56,766 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:04:57,753 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quail Pond Farm (Equineville, PA)
2025-06-02 12:04:58,911 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quail Pond Farm') to Horse ID 1
2025-06-02 12:04:58,917 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-02 12:04:58,917 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 2, 'name': 'Quail Pond Farm'}
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 12:04:58,918 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:58,920 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:20,743 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To All Horses
2025-06-02 12:05:20,744 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'all', Search: ''
2025-06-02 12:05:20,746 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,747 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:20,749 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:20,752 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:20,755 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:20,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,760 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:20,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:20,764 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:24,680 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Deactivated
2025-06-02 12:05:24,682 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'inactive', Search: ''
2025-06-02 12:05:24,683 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: inactive) found 0 results.
2025-06-02 12:05:24,685 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:24,686 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:24,689 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:24,693 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:24,694 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:24,697 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Active Only
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:05:26,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:26,412 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:26,414 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:29,200 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:29,202 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:29,205 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:32,801 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: lorena
2025-06-02 12:05:34,177 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-02 12:05:35,889 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 2
2025-06-02 12:05:35,894 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 2 by ADMIN.
2025-06-02 12:05:35,894 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:05:37,712 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:05:37,713 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:37,714 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:37,717 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:42,103 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: lorena
2025-06-02 12:05:42,106 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:05:44,119 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Rusty Stable Farm (Equineville, PA)
2025-06-02 12:05:46,222 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Rusty Stable Farm') to Horse ID 2
2025-06-02 12:05:46,228 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-02 12:05:46,228 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 1, 'name': 'Rusty Stable Farm'}
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:46,232 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:05:55,468 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:05:55,483 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,485 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:05:55,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:05:55,543 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:05:55,549 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,550 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:05:55,562 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:05:58,914 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-06-02 12:06:45,026 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-06-02 12:06:45,186 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-02 12:06:45,186 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-06-02 12:06:45,190 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:06:48,952 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:06:52,572 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:08:15,632 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:08:29,900 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:09:25,278 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-06-02 12:09:55,020 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:10:05,529 - INFO - LocationController - location_controller:284 - Location 'West Wing Stalls' (ID: 3) updated by ADMIN.
2025-06-02 12:10:05,529 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-06-02 12:10:07,356 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:10:07,357 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'West Wing Stalls' updated.
2025-06-02 12:11:47,827 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:11:53,961 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:16:10,020 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:16:10,032 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:16:13,394 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:16:13,394 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:16:13,395 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:16:13,398 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:16:13,408 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:16:13,410 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:21:10,523 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:21:10,526 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:21:10,532 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:21:10,533 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:21:10,719 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:21:10,737 - WARNING - DatabaseManager - database_config:197 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:209 - Created 'ADMIN' role.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:280 - ADMIN user not found. Creating new ADMIN user...
2025-06-02 12:21:10,897 - INFO - DatabaseManager - database_config:292 - Created new ADMIN user with bcrypt password.
2025-06-02 12:21:10,899 - INFO - DatabaseManager - database_config:296 - Linked ADMIN user to ADMIN role.
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:21:10,906 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:21:10,910 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:21:10,937 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:21:13,090 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:21:24,023 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:21:24,187 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:21:24,187 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,187 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,205 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:21:24,205 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:21:24,208 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:21:24,211 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:21:24,212 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:21:24,369 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:21:24,373 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:21:24,374 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:21:24,377 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:21:24,392 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:21:24,395 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:21:24,437 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:21:24,486 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:21:24,487 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,489 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:21:24,499 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:21:24,522 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:21:24,523 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:21:24,526 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:21:24,529 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:21:28,647 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:21:28,647 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,649 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:21:28,663 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,663 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:21:28,710 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:21:28,717 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:21:28,718 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:21:28,730 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:21:33,663 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:21:33,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:21:41,384 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 12:21:41,384 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 12:21:41,390 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 12:21:54,047 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:21:54,047 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:21:54,048 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:21:54,050 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:21:54,060 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:21:54,062 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:25:45,271 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:25:45,271 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:25:45,272 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:25:45,273 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:25:45,282 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:25:45,283 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:25:45,286 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:25:45,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:25:45,467 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:25:45,469 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:25:45,469 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:25:45,473 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:25:45,500 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:25:48,179 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:25:58,234 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:25:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:25:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,410 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:25:58,412 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:25:58,414 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:25:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:25:58,574 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:25:58,577 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:25:58,578 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:25:58,583 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:25:58,597 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:25:58,641 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:25:58,686 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:25:58,699 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:25:58,723 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:25:58,724 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:25:58,727 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:25:58,730 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:26:09,599 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:26:09,600 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,602 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:26:09,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,617 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:26:09,663 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:26:09,669 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,671 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:26:09,682 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:26:14,232 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:17,187 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:20,160 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:20,162 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:20,163 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:21,507 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:26,469 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-06-02 12:26:26,470 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-06-02 12:26:26,472 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:27:02,743 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:27:04,382 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:28:05,254 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'description' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for Location
2025-06-02 12:31:36,863 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:31:36,882 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:31:38,684 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:31:38,684 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:31:38,686 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:31:38,687 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:31:38,700 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:31:38,703 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:38:52,286 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:38:52,289 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:38:52,289 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:38:52,295 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:38:52,297 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:38:52,298 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:38:52,300 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:38:52,301 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:38:52,477 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:38:52,478 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:38:52,480 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:38:52,480 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:38:52,485 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:38:52,511 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:38:55,045 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:39:18,339 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:39:18,500 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:39:18,500 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,502 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,513 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:39:18,514 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:39:18,516 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:39:18,519 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:39:18,684 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:39:18,687 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:39:18,688 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:39:18,692 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:39:18,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:39:18,753 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:39:18,798 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:39:18,801 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,802 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:39:18,813 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:39:18,840 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:39:18,841 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:39:18,846 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:39:18,847 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:39:18,850 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,852 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:39:23,161 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:39:23,162 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:39:23,179 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,180 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:39:23,232 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:39:23,234 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,236 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:39:23,246 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:39:26,933 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:39:26,934 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:39:26,937 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:39:28,914 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:40:56,707 - INFO - LocationController - location_controller:186 - Location 'Medford Lakes Farms' (ID: 4) created by ADMIN.
2025-06-02 12:40:56,708 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:40:58,730 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:42:03,579 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:42:03,589 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:42:05,760 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:42:05,773 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:42:05,776 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:47:25,837 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:47:25,840 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:47:25,840 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:47:25,850 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:47:25,852 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:47:25,853 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:47:26,025 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:47:26,028 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:47:26,029 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:47:26,029 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:47:26,035 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:47:26,061 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:47:27,882 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:47:37,332 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:47:37,497 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:47:37,497 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,499 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,507 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:47:37,513 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:47:37,518 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:47:37,519 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:47:37,683 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:47:37,686 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:47:37,687 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:47:37,690 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:47:37,749 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:47:37,796 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:47:37,812 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:47:37,834 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:47:37,836 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:47:37,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:47:37,842 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:47:37,844 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,845 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:47:40,507 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,507 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:47:40,522 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,523 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:47:40,571 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:47:40,580 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,580 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:47:40,593 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:47:42,988 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:47:46,629 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 12:49:22,997 - INFO - LocationController - location_controller:186 - Location 'Mount Laurel Farms' (ID: 5) created by ADMIN.
2025-06-02 12:49:22,998 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:49:24,983 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 5 locations with detailed address.
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:50:18,764 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 4
2025-06-02 13:06:21,002 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 13:06:21,016 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:06:22,654 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:06:22,654 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:06:22,664 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:06:22,667 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:06:22,669 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:17:55,786 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:17:55,787 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:17:55,970 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:17:55,974 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:17:55,979 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:17:56,004 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:17:59,063 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:18:09,430 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:18:09,594 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:18:09,596 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,596 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,606 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:18:09,612 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:18:09,616 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:18:09,617 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:18:09,780 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:18:09,783 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:18:09,785 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:18:09,789 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:18:09,849 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:18:09,850 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:18:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:18:09,897 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:18:09,909 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:18:09,939 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 13:18:09,940 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 13:18:09,943 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,944 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:18:12,925 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:18:12,926 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,928 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:18:12,942 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,942 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:18:12,996 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:18:13,006 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:18:14,894 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:18:14,896 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:14,899 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:16,682 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:18:28,463 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:35,519 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:18:37,067 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:45,598 - INFO - LocationController - location_controller:262 - Location 'Mount Laurel Farms' (ID: 5) updated by ADMIN.
2025-06-02 13:18:45,598 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:18:47,079 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:47,081 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:18:47,082 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:47,084 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Mount Laurel Farms' updated.
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:19:46,296 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:19:57,738 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:20:03,265 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:20:03,267 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:03,268 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:14,140 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:15,290 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:16,277 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:18,067 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:20,456 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:22,157 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 1
2025-06-02 13:20:24,124 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:27,789 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:30,382 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:31,451 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:33,552 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:20:50,839 - INFO - LocationController - location_controller:262 - Location 'Quail Pond Farm' (ID: 2) updated by ADMIN.
2025-06-02 13:20:50,840 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:20:52,627 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:52,628 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Quail Pond Farm' updated.
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:20:59,751 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:21:03,868 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:21:12,682 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:21:14,637 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 2
2025-06-02 13:21:20,079 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:28:57,523 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: None
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:28:57,527 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:29:13,096 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: 2
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: None
2025-06-02 13:29:59,753 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:29:59,755 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:38:43,295 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:38:43,307 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:38:45,573 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 13:38:45,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 13:38:45,580 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 13:39:18,609 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 13:39:18,609 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,612 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,614 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,623 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:20,375 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,375 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:39:20,379 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:39:20,382 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:39:20,383 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:39:20,384 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 13:39:25,637 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Soul Rebel
2025-06-02 13:51:49,712 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-06-02 13:51:52,985 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:51:52,985 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:51:52,986 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:51:52,988 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:51:53,019 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:51:53,019 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:52:32,845 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:52:32,846 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:52:32,855 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:52:33,033 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:52:33,037 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:52:33,040 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:52:33,069 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:52:35,293 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:52:45,127 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:52:45,289 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:52:45,289 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,289 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:52:45,304 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:52:45,309 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:52:45,310 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:52:45,467 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:52:45,472 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:52:45,473 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:52:45,477 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:52:45,492 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:52:45,539 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:52:45,584 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:52:45,600 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:52:45,624 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:52:45,625 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:52:45,633 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:52:45,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:52:45,639 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:52:45,642 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:52:47,934 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:52:47,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:52:47,937 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:52:47,938 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,940 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:52:47,955 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,956 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:52:48,018 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:48,019 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:52:48,032 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:52:51,982 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:53:28,793 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:53:28,794 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-06-02 13:53:31,900 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:53:31,909 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:53:36,516 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:53:36,518 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:53:36,519 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:53:36,559 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:53:36,564 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:54:39,831 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:54:39,832 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:54:39,845 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:54:40,018 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:54:40,022 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:54:40,027 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:54:40,052 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:54:42,082 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:54:51,067 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:54:51,229 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:54:51,230 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,230 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,240 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:54:51,241 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:54:51,244 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:54:51,247 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:54:51,250 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:54:51,252 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:54:51,413 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:54:51,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:54:51,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:54:51,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:54:51,484 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:54:51,531 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:54:51,546 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:54:51,567 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:54:51,568 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:54:51,576 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:54:51,583 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:54:53,367 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:54:53,369 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,370 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:54:53,387 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,387 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:54:53,440 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:54:53,442 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:54:53,444 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:54:53,447 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:54:53,459 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:54:56,194 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:55:00,933 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:55:06,604 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 1
2025-06-02 13:55:34,270 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:55:34,283 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:55:37,056 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:55:37,056 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:55:37,070 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:55:37,072 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:58:48,292 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:58:48,292 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:58:48,293 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:58:48,303 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:58:48,478 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:58:48,482 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:58:48,486 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:58:48,512 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:58:55,263 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:59:11,072 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:59:11,234 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:59:11,234 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,245 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:59:11,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:59:11,414 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:59:11,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:59:11,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:59:11,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:59:11,437 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:59:11,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:59:11,482 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:59:11,528 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:59:11,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:59:11,565 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:59:11,566 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:59:11,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:59:11,578 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:59:11,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:59:11,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:59:13,543 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:59:13,546 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:59:13,550 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:59:13,565 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,565 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:59:13,620 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:59:13,621 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:59:13,622 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:59:13,626 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:59:13,627 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:59:13,640 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:59:14,785 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:59:17,507 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 14:01:08,092 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 14:01:08,128 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:01:09,483 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:01:09,485 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 14:01:09,486 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 14:01:09,488 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:01:09,509 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:01:09,516 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:01:09,521 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:04:29,314 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:04:29,317 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:04:29,323 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:04:29,325 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:04:29,326 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:04:29,502 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:04:29,507 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:04:29,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:04:29,543 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:04:32,966 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:04:42,421 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:04:42,585 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:04:42,585 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,586 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,595 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:04:42,597 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:04:42,599 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:04:42,600 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:04:42,768 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:04:42,772 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:04:42,773 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:04:42,777 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:04:42,792 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:04:42,837 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:04:42,839 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:04:42,840 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:04:42,884 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:04:42,899 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:04:42,920 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:04:42,922 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:04:42,929 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:04:42,933 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:04:42,934 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:04:42,936 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:04:45,725 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,725 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:04:45,742 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,742 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:04:45,797 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:04:45,803 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:04:45,804 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:04:45,815 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:04:48,246 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:04:50,710 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 2
2025-06-02 14:04:51,517 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 3
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:05:40,423 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:47,062 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:54,138 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:07:54,140 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:08:08,400 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 14:08:08,430 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:08:11,482 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 14:08:11,482 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:08:11,484 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:08:11,485 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:08:11,496 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:08:11,499 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:47:59,417 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:47:59,419 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:47:59,419 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:47:59,429 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:47:59,605 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:47:59,609 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:47:59,614 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:47:59,644 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:48:02,704 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:48:14,309 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:48:14,474 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:48:14,474 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,475 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,486 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:48:14,490 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:48:14,642 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:48:14,645 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:48:14,647 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:48:14,651 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:48:14,710 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:48:14,755 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:48:14,770 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:48:14,795 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:48:14,797 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:48:14,804 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:48:14,812 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:48:17,167 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:48:17,168 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:48:17,171 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:48:17,172 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,172 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:48:17,189 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,189 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:48:17,243 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:48:17,249 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:48:17,251 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:48:17,264 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:48:18,489 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:50:10,068 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
2025-06-02 15:05:27,003 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
2025-06-02 15:05:52,060 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:05:52,090 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:05:52,800 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:05:52,800 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:05:52,819 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:05:52,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:05:52,830 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:06:02,115 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:06:02,116 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:06:02,116 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:06:02,155 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:06:02,343 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:06:02,346 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:06:02,358 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:06:02,390 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:06:06,067 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:06:15,073 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:06:15,235 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:06:15,235 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,246 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:06:15,246 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:06:15,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:06:15,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:06:16,420 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:06:16,423 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:06:16,425 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:06:16,428 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:06:16,446 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:06:16,489 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:06:16,542 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:06:16,545 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:06:16,547 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:06:16,559 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:06:16,582 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:06:16,584 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:06:16,590 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:06:16,599 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:06:16,606 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:06:16,609 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:06:18,737 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,738 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:06:18,754 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,756 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:06:18,808 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:06:18,814 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:06:18,816 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:06:18,828 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:06:20,223 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 15:06:20,224 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:06:20,226 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 15:06:22,013 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:06:22,014 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:07:44,507 - INFO - OwnerController - owner_controller:292 - Master Owner 'optional (bradley coulter)' (ID: 4) created by ADMIN.
2025-06-02 15:07:44,507 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner created successfully.
2025-06-02 15:07:46,346 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - base_view:322 - Status update: Owner added successfully.
2025-06-02 15:07:50,082 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 4
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:08:05,784 - INFO - OwnerController - owner_controller:383 - Master Owner 'optional (bradley coulter)' (ID: 4) updated by ADMIN.
2025-06-02 15:08:05,786 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner updated successfully.
2025-06-02 15:08:07,759 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:08:07,760 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: None
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - base_view:322 - Status update: Owner 'optional' updated successfully.
2025-06-02 15:08:30,988 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:08:31,003 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:08:35,215 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 15:08:38,440 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 4, Display: optional (bradley coulter) [bsc001]
2025-06-02 15:08:41,524 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 4 with 100.0% to horse ID 1
2025-06-02 15:08:41,533 - INFO - HorseController - horse_controller:493 - Owner ID 4 added to horse ID 1 by ADMIN.
2025-06-02 15:08:41,533 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 15:08:43,574 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 15:08:43,575 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:08:43,577 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:08:43,580 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:14:21,897 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:14:21,899 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:14:21,899 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:14:21,900 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:14:21,902 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:14:21,902 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,903 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:14:21,918 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,919 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:14:21,974 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:14:21,977 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:14:21,980 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,980 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:14:21,992 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:14:24,333 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:14:26,907 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-02 15:15:45,554 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:15:45,568 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:15:46,886 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:15:46,887 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:15:46,897 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:15:46,899 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:15:46,899 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:15:51,467 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:15:51,468 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:15:51,478 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:15:51,658 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:15:51,662 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:15:51,667 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:15:51,701 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:15:53,437 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:16:02,718 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:16:02,882 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:16:02,882 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,883 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,893 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:16:02,895 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:16:02,897 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:16:02,898 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:16:03,060 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:16:03,069 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:16:03,129 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:16:03,176 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:16:03,192 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:16:03,210 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:16:03,212 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:16:03,218 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:16:03,224 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:16:03,225 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:16:03,228 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:16:03,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:16:03,235 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:16:06,455 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,455 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:16:06,473 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,473 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:16:06,529 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:16:06,531 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:16:06,532 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:16:06,539 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,539 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:16:06,550 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:16:10,204 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:16:29,372 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:19:55,037 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:19:55,956 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 3
2025-06-02 15:19:56,669 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:20:01,653 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:20:03,505 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:20:09,473 - ERROR - AddEditChargeCodeDialog - add_edit_charge_code_dialog:403 - Error during charge code save/update: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 380, in validate_and_accept
    success, message = self.controller.update_charge_code(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
2025-06-02 15:23:55,720 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:23:55,753 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:23:56,633 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:23:56,634 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:23:56,668 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:23:56,672 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:23:56,673 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:28:12,582 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:28:12,582 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:28:12,770 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:28:12,775 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:28:12,779 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:28:12,815 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:06,881 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:29:06,898 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:29:06,903 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:29:24,935 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:29:24,936 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:29:24,945 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:29:25,126 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:29:25,129 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:29:25,135 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:29:25,170 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:26,654 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:29:36,021 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:29:36,183 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:29:36,184 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,184 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,196 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:29:36,197 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:29:36,199 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:29:36,200 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:29:36,362 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:29:36,365 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:29:36,367 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:29:36,370 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:29:36,478 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:29:36,480 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:29:36,481 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:29:36,492 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:29:36,520 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:29:36,524 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:29:36,526 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:29:36,529 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:29:36,536 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:29:36,538 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:29:38,799 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:29:38,802 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,802 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:29:38,819 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,819 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:29:38,882 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,882 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:29:38,896 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:29:41,089 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:29:41,090 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:29:41,093 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:29:43,612 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:29:49,282 - ERROR - ChargeCodeController - charge_code_controller:309 - Error updating charge code ID 1: name 'datetime' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 292, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^
NameError: name 'datetime' is not defined
2025-06-02 15:30:47,872 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:30:47,904 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:30:48,583 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:30:48,583 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:30:48,602 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:30:48,608 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:30:48,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:30:58,872 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:30:58,872 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:30:58,883 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:30:59,056 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:30:59,057 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:30:59,059 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:30:59,059 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:30:59,063 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:30:59,093 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:31:00,407 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:31:09,509 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:31:09,672 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:31:09,672 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,673 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,687 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:31:09,693 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:31:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:31:09,854 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:31:09,856 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:31:09,860 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:31:09,876 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:31:09,879 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:31:09,920 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:31:09,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:31:09,923 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:31:09,967 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:31:09,980 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:31:10,005 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:31:10,007 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:31:10,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:31:10,019 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:31:10,020 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:31:10,023 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:31:12,189 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:31:12,191 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,192 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:31:12,209 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,209 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:31:12,270 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,272 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:31:12,285 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:31:15,490 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:31:16,890 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:31:22,765 - ERROR - ChargeCodeController - charge_code_controller:311 - Error updating charge code ID 1: module 'datetime' has no attribute 'utcnow'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 294, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^^^^^^^^
AttributeError: module 'datetime' has no attribute 'utcnow'
2025-06-02 15:31:49,210 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:31:49,222 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:31:49,813 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:31:49,813 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:31:49,823 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:31:49,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:31:49,826 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:34:56,903 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:34:56,905 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:34:56,915 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:34:57,092 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:34:57,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:34:57,095 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:34:57,095 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:34:57,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:34:57,138 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:34:59,593 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:35:12,820 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:35:12,982 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:35:12,984 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,984 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,995 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:35:12,995 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:35:12,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:35:13,002 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:35:13,155 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:35:13,158 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:35:13,160 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:35:13,164 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:35:13,179 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:35:13,226 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:35:13,272 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:35:13,274 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:35:13,275 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:35:13,285 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:35:13,313 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:35:13,318 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:35:13,319 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:35:13,322 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:35:13,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:35:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:35:14,547 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:35:14,548 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:35:14,552 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,552 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:35:14,569 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,570 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:35:14,624 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:35:14,630 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,631 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:35:14,647 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:17,091 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:19,223 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:24,863 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '9991' (ID: 1) updated by ADMIN.
2025-06-02 15:35:24,863 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:26,752 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:26,753 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:26,755 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:26,756 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '9991' updated.
2025-06-02 15:35:40,470 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:46,988 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:35:52,208 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:35:52,208 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:53,984 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:53,986 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:35:55,869 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:36:21,535 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:36:21,544 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:36:22,456 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:36:22,456 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:36:22,468 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:36:22,470 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:36:22,472 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:48:17,220 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:48:17,220 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:48:17,231 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:48:17,408 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:48:17,411 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:48:17,415 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:48:17,445 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:48:19,416 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:48:28,117 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:48:28,280 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:48:28,280 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,282 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,291 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:48:28,294 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:48:28,298 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:48:28,300 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:48:28,438 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:48:28,447 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:48:28,504 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:48:28,550 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:48:28,564 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:48:28,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:48:28,601 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:48:28,602 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:48:28,604 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:48:30,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:48:30,914 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:48:30,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:48:30,916 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,917 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:48:30,935 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,937 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:48:30,991 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:48:30,997 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:48:31,010 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:33,460 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:35,194 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: 2
2025-06-02 15:48:39,694 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:48:39,694 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:48:41,421 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:41,422 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: None
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:49:05,320 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 15:49:05,349 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:49:06,594 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:49:06,596 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:49:06,606 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:49:06,609 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:49:06,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:50:06,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:50:06,215 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:50:06,401 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:50:06,402 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:50:06,409 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:50:06,440 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:50:15,634 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:50:25,267 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:50:25,427 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:50:25,427 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,428 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,438 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:50:25,440 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:50:25,442 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:50:25,444 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:50:25,597 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:50:25,600 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:50:25,602 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:50:25,605 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:50:25,663 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:50:25,664 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:50:25,666 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:50:25,710 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:50:25,724 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:50:25,747 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:50:25,749 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:50:25,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:50:25,756 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:50:30,599 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:50:30,601 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:50:30,602 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,604 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:50:30,621 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,622 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:50:30,674 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:50:30,675 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:50:30,689 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:51:07,669 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:51:07,703 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:52:07,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:52:07,081 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:52:07,904 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:52:07,916 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:52:07,919 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:52:07,919 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:53:52,823 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:53:52,823 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:53:52,834 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:53:53,015 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:53:53,018 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:53:53,024 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:53:53,056 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:53:54,659 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:54:05,298 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:54:05,462 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:54:05,462 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,462 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:54:05,479 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:54:05,649 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:54:05,652 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:54:05,653 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:54:05,658 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:54:05,674 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:54:05,679 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:54:05,724 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:54:05,769 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:54:05,784 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:05,811 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:54:05,812 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:54:10,133 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 17:54:10,133 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 17:54:10,140 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 17:54:31,030 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 17:54:31,030 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,041 - INFO - HorseController - horse_controller:179 - Horse 'Loren 60' (ID: 1) created successfully by ADMIN.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Loren 60' created successfully.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Loren 60' created successfully.
2025-06-02 17:54:32,690 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,690 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:32,692 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 17:54:32,695 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 17:54:32,696 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:32,696 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,702 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:32,703 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 17:54:35,784 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Loren 60
2025-06-02 17:54:38,420 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 17:54:40,820 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 17:54:40,827 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 17:54:40,829 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:42,612 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:42,614 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:45,539 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Loren 60
2025-06-02 17:54:45,544 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-02 17:54:46,680 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 5, Display: Quail Pond Farm (Ocala, FL)
2025-06-02 17:54:47,784 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 5 ('Quail Pond Farm') to Horse ID 1
2025-06-02 17:54:47,792 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 5 by ADMIN.
2025-06-02 17:54:47,792 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 5 to Horse ID 1. Emitting signal.
2025-06-02 17:54:47,792 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 5, 'name': 'Quail Pond Farm'}
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:47,795 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:47,798 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:47,799 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:55:09,466 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,466 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:55:09,485 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,485 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:55:09,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:55:09,548 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:55:09,550 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:55:09,564 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:55:13,427 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 1
2025-06-02 17:55:13,428 - INFO - UserManagementScreen - user_management_screen:738 - Loading locations data for tab...
2025-06-02 17:55:13,432 - INFO - UserManagementScreen - user_management_screen:777 - Loaded 5 locations with detailed address.
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:14,580 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:14,590 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:55:15,953 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:18,403 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:18,412 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:56:27,859 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:56:27,861 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:56:27,865 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:56:29,869 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:56:29,876 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:57:10,702 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:57:10,732 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:57:11,871 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:57:11,874 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:57:11,882 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:57:11,902 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:57:11,902 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:02:37,929 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:02:37,930 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:02:37,936 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:02:37,937 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:02:37,939 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:02:38,117 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:02:38,121 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:02:38,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:02:38,157 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:02:54,422 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:03:05,250 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:03:05,414 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:03:05,414 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,415 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,424 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:03:05,427 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:03:05,429 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:03:05,430 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:03:05,588 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:03:05,596 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:03:05,660 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:03:05,707 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:03:05,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:03:05,739 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:03:05,740 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:03:05,748 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:03:05,755 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:03:11,882 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:03:11,884 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,884 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:03:11,903 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,903 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:03:11,958 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:03:11,962 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:03:11,965 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,967 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:03:11,979 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:03:16,675 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 18:03:16,685 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 18:06:41,293 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:06:41,308 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:06:42,014 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:06:42,014 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:06:42,026 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:06:42,029 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:06:42,032 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:39:24,532 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:39:24,533 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:39:24,540 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:39:24,542 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:39:24,722 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:39:24,723 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:39:24,724 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:39:24,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:39:24,729 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:39:24,759 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:39:27,274 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:39:37,057 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:39:37,222 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:39:37,222 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,222 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,234 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:39:37,235 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:39:37,237 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:39:37,240 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:39:37,410 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:39:37,413 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:39:37,415 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:39:37,419 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:39:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:39:37,480 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:39:37,527 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:39:37,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:39:37,564 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:39:37,565 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:39:37,572 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:39:37,577 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:39:37,579 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:39:37,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:39:40,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:39:40,073 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,075 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:39:40,094 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,094 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:39:40,148 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:39:40,154 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:39:40,155 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:39:40,172 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:39:41,989 - ERROR - UserManagementScreen - user_management_screen:890 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 864, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:39:41,991 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:46:20,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:46:20,080 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:46:21,963 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:46:21,965 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:46:21,972 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:46:21,975 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:46:21,977 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 19:19:24,390 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 19:19:24,391 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 19:19:24,400 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 19:19:24,578 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 19:19:24,583 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 19:19:24,587 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 19:19:24,617 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 19:19:26,506 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 19:19:35,840 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 19:19:35,999 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 19:19:36,001 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,002 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,012 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 19:19:36,017 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 19:19:36,020 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 19:19:36,022 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 19:19:36,167 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 19:19:36,170 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 19:19:36,172 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 19:19:36,176 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 19:19:36,191 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 19:19:36,235 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 19:19:36,284 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 19:19:36,286 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 19:19:36,287 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 19:19:36,298 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 19:19:36,333 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 19:19:36,342 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 19:19:38,375 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 19:19:38,376 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 19:19:38,380 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,380 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 19:19:38,396 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,398 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 19:19:38,460 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,460 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 19:19:38,475 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 19:19:40,640 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:40,642 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:48,594 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 19:19:48,603 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 19:19:49,350 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 19:19:49,350 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 19:19:49,362 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 19:19:49,365 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 19:19:49,365 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:30:46,308 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:30:46,310 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:30:46,310 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:30:46,325 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:30:46,507 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:30:46,510 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:30:46,523 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:30:46,556 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:30:48,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:31:00,493 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:31:00,655 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:31:00,656 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,656 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,668 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:31:00,670 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:31:00,672 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:31:00,674 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:31:01,872 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:31:01,877 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:31:01,879 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:31:01,883 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:31:01,901 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:31:01,943 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:31:01,945 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:31:01,946 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:31:01,992 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:31:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:31:01,996 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:31:02,008 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:31:02,046 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:31:02,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:31:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:31:02,057 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:31:06,900 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:31:06,901 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:31:06,904 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,904 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:31:06,921 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,922 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:31:06,978 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:31:06,981 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:31:06,985 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:31:07,000 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 1
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:740 - Loading locations data for tab...
2025-06-02 20:31:11,288 - INFO - UserManagementScreen - user_management_screen:779 - Loaded 5 locations with detailed address.
2025-06-02 20:31:12,575 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 20:31:12,577 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 20:31:12,578 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:31:13,614 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:31:13,623 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:41:29,052 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 20:41:29,062 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 20:41:30,603 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 20:41:30,603 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 20:41:30,612 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 20:41:30,615 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 20:41:30,616 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:41:38,587 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:41:38,590 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:41:38,600 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:41:38,779 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:41:38,782 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:41:38,783 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:41:38,784 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:41:38,789 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:41:38,820 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:41:40,783 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:41:51,299 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:41:51,463 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:41:51,463 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,464 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:41:51,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:41:51,476 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:41:51,480 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:41:51,635 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:41:51,638 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:41:51,639 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:41:51,642 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:41:51,705 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:41:51,752 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:41:51,767 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:41:51,790 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:41:51,791 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:41:51,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:41:51,803 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:41:51,804 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:41:51,806 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:41:51,815 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:41:51,816 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:42:49,361 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:42:49,361 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:42:49,362 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:42:49,369 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:42:49,370 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:42:49,554 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:42:49,557 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:42:49,562 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:42:49,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:42:51,762 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:43:00,438 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:43:00,599 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:43:00,599 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,600 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,611 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:43:00,611 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:43:00,614 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:43:00,617 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:43:00,622 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:43:00,623 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:43:00,776 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:43:00,779 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:43:00,780 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:43:00,785 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:43:00,802 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:43:00,846 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:43:00,893 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:43:00,894 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:43:00,896 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:43:00,906 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:43:00,937 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:43:00,945 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:43:02,857 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:43:02,859 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,859 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:43:02,875 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,877 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:43:02,932 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:43:02,936 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:43:02,938 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:43:02,938 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,939 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:43:02,955 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:43:05,663 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:43:05,665 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:43:05,683 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:43:05,684 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
