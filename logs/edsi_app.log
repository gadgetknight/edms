2025-05-29 19:30:21,300 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:30:21,301 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:30:21,302 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:30:21,304 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:30:21,314 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:30:21,333 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:30:21,335 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:30:21,337 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:30:21,337 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:30:21,338 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:30:21,338 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:30:21,343 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:30:21,419 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:31:29,905 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:01,976 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,978 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,994 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:32:01,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:32:01,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:32:02,000 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:32:02,140 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:32:02,144 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:32:02,145 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:32:02,150 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:32:02,165 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:32:02,285 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:32:02,288 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:32:02,290 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:32:02,305 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:32:02,333 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:32:02,334 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:32:02,342 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:32:02,355 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:32:02,364 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:32:02,365 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:32:09,200 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:32:09,200 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:32:09,201 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:32:09,203 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:32:09,215 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:32:09,216 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:32:17,511 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:32:17,512 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:32:17,515 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:32:17,521 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:32:17,523 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:32:17,524 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:32:17,526 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:32:17,527 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:32:17,548 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:32:17,550 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:32:17,551 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:32:17,552 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:32:17,555 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:32:17,635 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:32:20,986 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:35,018 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:32:45,528 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:33:07,878 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:34:26,238 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:34:27,266 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:34:27,285 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:34:27,290 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:14,920 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:14,920 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:14,921 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:14,923 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:14,936 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:14,954 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:14,956 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:14,957 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:14,957 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:14,962 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:15,042 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:18,084 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:35,392 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:39:38,777 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:41,553 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:43,228 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:44,896 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:39:44,905 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:39:44,905 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:49,421 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:49,421 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:49,423 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:49,424 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:49,435 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:49,455 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:49,457 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:49,458 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:49,458 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:49,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:49,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:49,464 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:49,542 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:52,791 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:02,794 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:26,168 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:27,280 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:40:29,393 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:43,453 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,455 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,471 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:40:43,474 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:40:43,479 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:40:43,483 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:40:43,485 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:40:43,615 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:40:43,618 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:40:43,619 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:40:43,624 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:40:43,685 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:40:43,764 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:40:43,777 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:40:43,800 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:40:43,801 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:40:43,810 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:40:43,819 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:40:43,822 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:40:43,825 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:40:43,834 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:40:43,835 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:40:46,349 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:40:46,361 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:40:46,428 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 19:40:46,470 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:40:50,800 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:40:56,607 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:40:59,998 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete User 'ted mazz' (ID: tm)?
2025-05-29 19:41:01,872 - INFO - UserController - user_controller:596 - User 'tm' permanently deleted by admin 'ADMIN'.
2025-05-29 19:41:01,872 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' deleted successfully.
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:41:01,876 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:41:01,878 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 1 users into custom list.
2025-05-29 19:41:03,478 - INFO - AddEditUserDialog - add_edit_user_dialog:91 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 19:41:27,175 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-05-29 19:41:27,335 - INFO - UserController - user_controller:343 - User 'tm' created successfully by ADMIN.
2025-05-29 19:41:27,335 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-05-29 19:41:27,343 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-05-29 19:41:30,430 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:41:30,442 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:41:32,724 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:41:32,740 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:41:32,740 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:42:56,062 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:42:56,063 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:42:56,063 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:42:56,070 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:42:56,071 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:42:56,072 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:42:56,091 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:42:56,094 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:42:56,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:42:56,182 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:42:59,944 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:43:14,512 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:44:00,695 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:44:02,318 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:44:02,325 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:44:02,326 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:53:10,566 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:53:10,567 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:53:10,570 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:53:10,570 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:53:10,578 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:53:10,579 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:53:10,582 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:53:10,602 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:53:10,605 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:53:10,611 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:53:10,693 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:53:12,713 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:53:20,943 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:53:21,107 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:53:21,107 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:53:21,110 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:53:21,122 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:53:21,125 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:53:21,127 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:53:21,132 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:53:21,135 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:53:21,137 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:53:21,294 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:53:21,298 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:53:21,300 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:53:21,304 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:53:21,318 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:53:21,364 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:53:21,438 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:53:21,457 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:53:21,484 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:53:21,485 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:53:21,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:53:21,500 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:53:21,503 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:53:21,507 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:53:29,551 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:53:29,552 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:53:29,568 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:53:29,627 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:53:29,631 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:53:29,636 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:53:29,675 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:53:34,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:53:35,809 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:56:17,854 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:56:17,892 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:56:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:56:36,812 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:56:36,838 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:56:36,843 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:56:43,609 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:56:43,609 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:56:43,611 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:56:43,612 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:56:43,625 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:56:43,643 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:56:43,644 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:56:43,646 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:56:43,647 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:56:43,652 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:56:43,733 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:56:45,388 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:56:54,578 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:56:54,581 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:56:57,525 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:07,485 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:57:07,489 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:57:09,722 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:18,198 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:57:18,360 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:57:18,360 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:57:18,363 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:57:18,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:57:18,376 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:57:18,378 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:57:18,379 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:57:18,385 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:57:18,386 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:57:18,541 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:57:18,545 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:57:18,546 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:57:18,550 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:57:18,568 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:57:18,610 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:57:18,612 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:57:18,613 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:57:18,686 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:57:18,703 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:57:18,733 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:57:18,736 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:57:18,744 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:57:18,756 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:57:22,341 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:57:22,342 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:57:22,355 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:57:22,461 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:57:24,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:25,810 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 19:57:42,097 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:42,100 - WARNING - AddEditUserDialog - add_edit_user_dialog:391 - User operation failed: Validation failed: New password must be at least 6 characters long.
2025-05-29 19:57:50,044 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:50,209 - INFO - UserController - user_controller:480 - User 'tm' updated successfully by tm.
2025-05-29 19:57:50,211 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User updated successfully.
2025-05-29 19:57:50,217 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:50,221 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:50,222 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' updated.
2025-05-29 19:57:53,452 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:57:53,465 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:57:57,279 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:57:57,279 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:57:57,297 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:57:57,297 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:09:44,305 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:09:44,305 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:09:44,307 - INFO - DatabaseManager - database_config:74 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:87 - Database engine and session factory created
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:118 - Creating database tables...
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:122 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:201 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:09:44,335 - ERROR - DatabaseManager - database_config:289 - Error ensuring default admin user: Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\config\database_config.py", line 235, in _ensure_default_admin_user
    if not admin_user.check_password(default_password):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:44,338 - INFO - DatabaseManager - database_config:91 - Database initialization completed successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:09:44,341 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:09:44,346 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:09:44,430 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:09:46,964 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:09:56,730 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:09:56,731 - ERROR - UserController - user_controller:118 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 74, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:59,619 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 20:10:09,733 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:10:09,896 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:10:09,896 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:10:09,898 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:10:09,912 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:10:09,914 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:10:09,915 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:10:09,917 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:10:10,081 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:10:10,085 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:10:10,087 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:10:10,091 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:10:10,151 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:10:10,153 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:10:10,154 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:10:10,227 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:10:10,246 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:10:10,276 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:10:10,277 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:10:10,286 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:10:10,295 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:10:10,296 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:10:10,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:10:12,512 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:12,513 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:12,520 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:12,534 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:12,593 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:12,602 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:12,642 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:14,578 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 20:10:16,276 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:10:24,564 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:24,577 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:26,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:26,192 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:26,207 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:26,263 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:26,270 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:26,308 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:30,152 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:30,166 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:33,216 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:10:33,216 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:10:33,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:10:33,219 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:10:33,232 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:10:33,234 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:17:30,708 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:17:30,711 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:17:30,711 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:17:30,717 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:17:30,718 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:17:30,720 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:17:30,738 - WARNING - DatabaseManager - database_config:231 - ADMIN password hash not bcrypt/valid (Invalid salt). Resetting password.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:239 - ADMIN user password has been set/reset to a bcrypt hash.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:272 - ADMIN user record updated/verified.
2025-05-29 20:17:30,900 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:17:30,901 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:17:30,903 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:17:30,908 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:17:30,989 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:17:59,672 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:10,303 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:18:10,466 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:18:10,466 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,467 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,481 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:10,484 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:10,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:10,491 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:10,656 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:10,667 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:10,681 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:10,729 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:10,730 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:10,731 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:10,809 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:10,827 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:10,867 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:10,880 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:13,940 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:13,941 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:13,955 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 20:18:14,058 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:18:16,477 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: ADMIN
2025-05-29 20:18:17,784 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:18:29,945 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:18:29,956 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:18:31,951 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:18:31,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:18:31,967 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:18:31,967 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:18:39,145 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:18:39,147 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:18:39,148 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:18:39,150 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:18:39,161 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:18:39,162 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:18:39,163 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:18:39,340 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:18:39,341 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:18:39,343 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:18:39,344 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:18:39,349 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:18:39,433 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:18:42,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:50,232 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:18:50,395 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:18:50,395 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:18:50,398 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:18:50,411 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:50,418 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:50,583 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:50,587 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:50,589 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:50,593 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:50,612 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:50,614 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:50,654 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:50,656 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:50,657 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:50,732 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:50,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:50,791 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:50,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:50,802 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:50,807 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:52,657 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:52,714 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:18:52,759 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:25:41,187 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:25:41,239 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:25:43,929 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:25:43,939 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:25:43,948 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:25:43,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:25:43,960 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:25:43,971 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:25:44,027 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:25:44,033 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:26:24,254 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:26:24,254 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:26:24,255 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:26:24,257 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:26:24,270 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:26:24,445 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:26:24,449 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:26:24,455 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:26:24,539 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:26:26,694 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:26:33,841 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:26:34,005 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:26:34,006 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:26:34,008 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:26:34,022 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:26:34,024 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:26:34,025 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:26:34,027 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:26:34,032 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:26:34,034 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:26:34,196 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:26:34,201 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:26:34,202 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:26:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:26:34,268 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:26:34,271 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:26:34,272 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:26:34,343 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:26:34,360 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:26:34,389 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:26:34,390 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:26:34,397 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:26:34,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:26:34,408 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:26:34,413 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:26:34,420 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:26:34,422 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:26:36,635 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:26:36,697 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:26:36,736 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:26:54,002 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:26:56,475 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 3
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:945 - Loading master owners data for tab...
2025-05-29 20:26:57,764 - INFO - UserManagementScreen - user_management_screen:982 - Loaded 6 master owners.
2025-05-29 20:27:05,554 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:05,556 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:05,559 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:27:06,828 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:11,279 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:14,532 - INFO - UserManagementScreen - user_management_screen:788 - Location selected: 1
2025-05-29 20:27:19,482 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:32:01,712 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:32:01,725 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:32:27,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:32:27,641 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:32:27,646 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:32:27,648 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:32:27,661 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:32:27,720 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:32:27,724 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:32:27,725 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:32:27,765 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:32:31,764 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:40:34,906 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:40:34,943 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:40:36,927 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:40:36,927 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:40:36,929 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:40:36,930 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:40:36,930 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:40:36,932 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:40:36,954 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:40:36,957 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:40:53,807 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:40:53,807 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:40:53,811 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:40:53,812 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:40:53,822 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:40:53,823 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:40:53,825 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:40:54,000 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:40:54,003 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:40:54,005 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:40:54,005 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:40:54,009 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:40:54,089 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:40:55,989 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:41:05,147 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:41:05,311 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:41:05,311 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,314 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,326 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:41:05,326 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:41:05,328 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:41:05,332 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:41:05,449 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:41:05,453 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:41:05,455 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:41:05,458 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:41:05,519 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:41:05,593 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:41:05,612 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:41:05,642 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:41:05,645 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:41:05,652 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:41:05,664 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:41:07,837 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:41:07,839 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:41:07,840 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:41:07,856 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:41:07,913 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:41:07,922 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:41:07,962 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:41:11,269 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:41:18,111 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: 1
2025-05-29 20:41:21,123 - INFO - AddEditLocationDialog - add_edit_location_dialog:273 - Loaded 60 states into combobox.
2025-05-29 20:41:21,126 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: None
2025-05-29 20:41:28,947 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:28,948 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:35,470 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 20:41:35,483 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:46:11,587 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-29 20:46:11,588 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-29 20:46:11,593 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-29 20:46:14,524 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-29 20:46:14,524 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-29 20:46:14,530 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-29 20:46:27,843 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:46:27,844 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:46:27,862 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:46:27,920 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:46:27,968 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:46:42,606 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:56:43,199 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:56:43,201 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:56:43,209 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:38,100 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:06:38,135 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:06:40,655 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:06:40,657 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:06:40,660 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:06:40,661 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:06:40,688 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:06:40,692 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:06:46,313 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:06:46,313 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:06:46,316 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:06:46,329 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:06:46,503 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:06:46,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:06:46,506 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:06:46,508 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:06:46,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:06:46,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:06:48,725 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:06:55,362 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 21:06:55,526 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 21:06:55,526 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 21:06:55,528 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 21:06:55,542 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 21:06:55,544 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:06:55,547 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:06:55,550 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:06:55,710 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:06:55,713 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:06:55,715 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:06:55,719 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:06:55,783 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:06:55,784 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:06:55,786 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:06:55,859 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:06:55,878 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:06:55,908 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:06:55,909 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:06:55,918 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:06:55,931 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:06:57,598 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:06:57,599 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:06:57,616 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:06:57,673 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-29 21:06:57,723 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:07:02,297 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:02,299 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:02,303 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:05,055 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:05,056 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:05,061 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:09,066 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 2
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:847 - Loading charge codes data for tab...
2025-05-29 21:07:17,701 - INFO - UserManagementScreen - user_management_screen:880 - Loaded 3 charge codes.
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:19,186 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:21,322 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:42,261 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:48,813 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
2025-05-29 21:09:35,656 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:09:35,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:09:36,462 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:09:36,463 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:09:36,478 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:09:36,482 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:09:36,484 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:13:16,907 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:13:16,907 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:13:16,908 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:13:16,910 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:13:16,922 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:13:17,097 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:13:17,100 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:13:17,101 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:13:17,103 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:13:17,108 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:13:17,191 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:13:19,623 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:18:01,553 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:18:01,717 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:18:01,717 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,720 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:18:01,733 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:18:01,734 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:18:01,736 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:18:01,737 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:18:01,739 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:18:01,907 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:18:01,912 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:18:01,913 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:18:01,918 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:18:01,936 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:18:01,977 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:18:01,980 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:18:01,981 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:18:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:18:02,075 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:18:02,106 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:18:02,108 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:18:02,117 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:18:02,129 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:18:03,953 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:18:03,955 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,956 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:18:03,970 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,970 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:18:04,027 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:18:04,034 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:04,035 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:18:04,074 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:07,004 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:08,438 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:11,378 - INFO - UserManagementScreen - user_management_screen:596 - User selected from list: tm
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:13,365 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:15,088 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:18:18,929 - INFO - AddEditLocationDialog - add_edit_location_dialog:305 - Loaded 60 states into combobox.
2025-05-29 21:18:30,846 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:18:30,848 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:19:14,191 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:19:14,192 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:25:27,489 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-29 21:25:27,524 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:25:31,366 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:25:31,368 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:25:31,393 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:25:31,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:25:40,318 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:25:40,319 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:25:40,321 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:25:40,322 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:25:40,332 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:25:40,334 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:25:40,335 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:25:40,511 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:25:40,515 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:25:40,520 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:25:40,602 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:25:42,827 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:25:51,795 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:25:51,959 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:25:51,959 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,962 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,977 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:25:51,978 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:25:51,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:25:51,981 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:25:51,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:25:51,984 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:25:52,145 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:25:52,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:25:52,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:25:52,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:25:52,215 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:25:52,294 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:25:52,312 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:25:52,346 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:25:52,349 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:25:52,356 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:25:52,368 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:25:54,645 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:25:54,658 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,660 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:25:54,715 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:25:54,724 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,724 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:25:54,764 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:25:57,552 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:00,819 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:26:03,568 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-29 21:26:21,620 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-29 21:26:21,620 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-29 21:26:23,560 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:26:23,562 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-29 21:26:29,589 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:29,593 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable' updated.
2025-05-30 17:25:03,888 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-30 17:25:03,926 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-30 17:25:09,245 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-30 17:25:09,245 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-30 17:25:09,274 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-30 17:25:09,280 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:28:25,069 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:28:25,070 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:28:25,089 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:28:25,271 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:28:25,273 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:28:25,274 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:28:25,274 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:28:25,285 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:28:25,303 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:28:32,673 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:28:42,257 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 19:28:42,419 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 19:28:42,419 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,420 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,427 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 19:28:42,427 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 19:28:42,429 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:28:42,442 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:28:42,444 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:28:43,558 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:28:43,561 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:28:43,563 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:28:43,567 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:28:43,628 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:28:43,629 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:28:43,630 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:28:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:28:43,677 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:28:43,678 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:28:43,686 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:28:43,717 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:28:43,725 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:28:43,726 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:28:43,728 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:28:46,654 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-31 19:28:46,656 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-31 19:28:46,659 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-31 19:28:47,668 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 19:28:47,670 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 19:28:47,672 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 19:28:49,491 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 3
2025-05-31 19:28:49,492 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Streetwise
2025-05-31 19:28:49,495 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 3
2025-05-31 19:29:05,505 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:29:05,506 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:29:05,507 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:29:05,522 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,522 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:29:05,587 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:29:05,588 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 19:29:05,594 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:09,270 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:29:17,211 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:29:19,583 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:29:32,248 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-31 19:29:32,248 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:29:34,333 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:34,343 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:30:53,271 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:30:53,272 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:31:01,318 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:31:01,330 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:31:04,789 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 19:31:04,789 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:31:04,800 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:31:04,801 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:44:29,482 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:44:29,483 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:44:29,496 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:44:29,497 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:44:29,520 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:44:29,710 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:44:29,713 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:44:29,726 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:44:29,748 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:44:32,338 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:44:39,224 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:44:39,385 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:44:39,386 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:44:39,386 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:44:39,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:44:39,395 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:44:39,397 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:44:39,398 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:44:39,399 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:44:39,400 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:44:40,594 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:44:40,597 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:44:40,599 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:44:40,603 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:44:40,663 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:44:40,704 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:44:40,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:44:40,742 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:44:40,743 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:44:40,751 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:44:40,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:44:40,759 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:44:40,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:44:40,768 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:44:40,769 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:44:43,036 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,037 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:44:43,050 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,050 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:44:43,107 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:44:43,112 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,113 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:44:43,122 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:46,666 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:44:48,215 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:44:49,565 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:44:58,053 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:44:58,053 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:44:59,952 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:59,961 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:46:32,939 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:46:32,941 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:46:35,818 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:46:35,851 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:46:38,791 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:46:38,792 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:46:38,793 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:46:38,808 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:46:38,810 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:47:04,268 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:47:04,269 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:47:04,269 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:47:04,280 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:47:04,457 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:47:04,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:47:04,465 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:47:04,483 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:47:06,711 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:47:22,148 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:47:22,310 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:47:22,310 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:47:22,310 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:47:22,321 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:47:22,323 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:47:22,479 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:47:22,482 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:47:22,483 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:47:22,487 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:47:22,546 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:47:22,588 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:47:22,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:47:22,622 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:47:22,623 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:47:22,629 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:47:22,640 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:47:28,915 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,915 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:47:28,929 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,929 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:47:28,987 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:47:28,993 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:47:29,002 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:32,006 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:33,703 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:47:35,213 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:47:40,903 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:47:40,903 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:47:42,519 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:42,520 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:48:01,248 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:48:10,885 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:48:10,886 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:48:10,887 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:48:22,739 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Delanco
2025-05-31 19:48:22,743 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-05-31 19:48:40,721 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-05-31 19:48:48,671 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Delanco
2025-05-31 19:48:48,675 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:48:59,634 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-05-31 19:49:07,684 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:49:12,871 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:49:51,317 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 2
2025-05-31 19:49:59,051 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:50:00,979 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:50:06,387 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:50:06,395 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:50:08,713 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:50:08,713 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,714 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:50:08,726 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,726 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:50:08,782 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:50:08,787 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,788 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:50:08,796 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:50:10,628 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:50:10,629 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:50:10,630 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:51:38,827 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:51:38,837 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:51:57,191 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-05-31 19:52:06,189 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:52:06,190 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:52:06,191 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,192 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:52:06,205 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,206 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:52:06,261 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:52:06,266 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:52:06,275 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:52:10,839 - INFO - UserManagementScreen - user_management_screen:587 - User selected from list: ADMIN
2025-05-31 19:52:14,743 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:52:14,744 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:52:14,745 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:52:16,065 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:52:28,503 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:58:02,618 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:58:02,647 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:58:05,664 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:58:05,664 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:58:05,682 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:58:05,683 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:01:15,058 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:01:15,058 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:01:15,065 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:01:15,066 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:01:15,068 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:01:15,244 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:01:15,246 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:01:15,247 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:01:15,247 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:01:15,251 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:01:15,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:01:21,201 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:01:31,080 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:01:31,239 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:01:31,239 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,240 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,248 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:01:31,250 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:01:31,251 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:01:31,252 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:01:31,253 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:01:31,254 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:01:31,258 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:01:31,259 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:01:31,405 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:01:31,408 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:01:31,409 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:01:31,413 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:01:31,428 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:01:31,470 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:01:31,528 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:01:31,540 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:01:31,567 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:01:31,576 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:01:31,584 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:01:31,585 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:01:34,409 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:01:34,410 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:01:34,413 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,413 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:01:34,429 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,429 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:01:34,486 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:01:34,492 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:01:34,500 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:01:38,361 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:01:42,225 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:01:43,666 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:09,322 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 20:02:19,465 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-05-31 20:02:20,209 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-05-31 20:02:22,443 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:22,449 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:24,220 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:02:41,842 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:02:44,269 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:50,181 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:50,185 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:57,678 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:03:00,475 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:03:02,085 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 20:03:04,104 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:04:33,542 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 1
2025-05-31 20:04:35,368 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:08:30,682 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:08:30,693 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:08:31,414 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:08:31,414 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:08:31,424 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:08:31,426 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:08:31,427 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:23:16,275 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:23:16,275 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:23:16,276 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:23:16,287 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:23:16,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:23:16,466 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:23:16,467 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:23:16,467 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:23:16,472 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:23:16,498 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:23:21,030 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:23:30,585 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:23:30,745 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:23:30,745 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,746 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,755 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:23:30,755 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:23:30,757 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:23:30,760 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:23:30,761 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:23:30,882 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:23:30,885 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:23:30,886 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:23:30,890 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:23:30,905 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:23:30,907 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:23:30,960 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:23:31,007 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:23:31,021 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:23:31,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:23:31,056 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:23:31,057 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:23:31,059 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:23:34,228 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:23:34,229 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,230 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:23:34,247 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,248 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:23:34,304 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:23:34,309 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:23:34,310 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:23:34,323 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:23:36,415 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:23:42,089 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:23:43,769 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:23:43,770 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:27:15,259 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:27:15,270 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:27:19,379 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:27:19,381 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:27:21,621 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:27:21,621 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:27:21,630 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:27:21,633 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:27:21,633 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:37:38,572 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:37:38,573 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:37:38,573 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:37:38,581 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:37:38,582 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:37:38,586 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:37:38,761 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:37:38,762 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:37:38,763 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:37:38,764 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:37:38,768 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:37:38,788 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:37:40,865 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:37:50,810 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:37:50,972 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:37:50,972 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,972 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,986 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:37:50,986 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:37:50,988 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:37:51,146 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:37:51,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:37:51,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:37:51,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:37:51,210 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:37:51,253 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:37:51,266 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:37:51,291 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:37:51,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:37:51,307 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:37:51,309 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:37:55,071 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:37:55,072 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:37:55,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:37:55,073 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:37:55,088 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,088 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:37:55,146 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:37:55,152 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,153 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:37:55,163 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:37:57,093 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:38:00,714 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:38:00,773 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:40:47,405 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:40:47,407 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:12,701 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:42:12,702 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:42:12,711 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:42:12,885 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:42:12,888 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:42:12,892 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:42:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:42:16,304 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:42:26,061 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:42:26,225 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:42:26,225 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,226 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,236 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:42:26,237 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:42:26,238 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:42:26,239 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:42:26,244 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:42:26,245 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:42:26,394 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:42:26,397 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:42:26,399 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:42:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:42:26,463 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:42:26,514 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:42:26,516 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:42:26,517 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:42:26,526 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:42:26,552 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:42:26,559 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:42:26,560 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:42:26,563 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:42:45,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,617 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:42:45,632 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,632 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:42:45,689 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:42:45,696 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,696 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:42:45,705 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:42:47,371 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:47,375 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:44:38,762 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:44:38,765 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 21:15:03,132 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:15:03,141 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:15:04,874 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:15:04,874 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:15:04,883 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:15:04,885 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 21:15:12,802 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:15:12,802 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:15:12,803 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:15:12,990 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:15:12,993 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:15:12,998 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:15:13,019 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:15:14,962 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:15:23,502 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:15:23,666 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:15:23,667 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,667 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,678 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:15:23,678 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:15:23,679 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:15:23,680 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:15:23,686 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:15:23,687 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:15:23,854 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:15:23,857 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:15:23,858 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:15:23,862 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:15:23,921 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:15:23,965 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:15:23,978 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:15:24,004 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 21:15:24,015 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:15:26,144 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,144 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:15:26,159 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,159 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:15:26,216 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:15:26,219 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:15:26,223 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,223 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:15:26,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:15:28,835 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:17:40,086 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: charge_codes.charge_code_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-31 21:36:48,863 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:36:48,864 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:36:48,865 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:36:48,865 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:36:48,874 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:36:49,051 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:36:49,053 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:36:49,054 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:36:49,054 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:36:49,058 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:36:49,079 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:36:55,187 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:37:03,041 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:37:03,203 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:37:03,203 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,204 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,213 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:37:03,215 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:37:03,219 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:37:03,220 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:37:03,383 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:37:03,386 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:37:03,387 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:37:03,391 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:37:03,448 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:37:03,496 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:37:03,510 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:37:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:37:03,531 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:03,534 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-05-31 21:37:03,536 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:37:11,571 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 21:37:11,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 21:37:11,579 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 21:37:33,058 - INFO - HorseUnifiedManagement - horse_unified_management:1118 - save_changes: START
2025-05-31 21:37:33,059 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,070 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-05-31 21:37:33,070 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:33,071 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:34,951 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 21:37:34,951 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:34,953 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 21:37:34,956 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:34,957 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:34,958 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:40,336 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:40,339 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:1240 - save_changes: FINISHED
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:37:43,395 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,395 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:37:43,410 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,410 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:37:43,456 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:37:43,457 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:37:43,462 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:37:43,471 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:37:46,729 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:40:22,925 - INFO - ChargeCodeController - charge_code_controller:113 - Charge Code '991' created successfully (ID: 4).
2025-05-31 21:40:24,797 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-05-31 21:48:53,412 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 21:49:17,394 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:49:17,413 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:49:20,376 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:49:20,395 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:49:20,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:02:06,980 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:02:06,980 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:02:06,981 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:02:06,992 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:02:07,169 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:02:07,171 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:02:07,177 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:02:07,198 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:02:09,138 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:02:18,149 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:02:18,314 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:02:18,314 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,315 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,325 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:02:18,325 - INFO - HorseUnifiedManagement - horse_unified_management:100 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:02:18,327 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:02:18,329 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:747 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:754 - QTabWidget created and styled.
2025-05-31 22:02:18,484 - INFO - HorseUnifiedManagement - horse_unified_management:760 - BasicInfoTab created.
2025-05-31 22:02:18,487 - INFO - HorseUnifiedManagement - horse_unified_management:771 - OwnersTab created.
2025-05-31 22:02:18,488 - INFO - HorseUnifiedManagement - horse_unified_management:782 - LocationTab created.
2025-05-31 22:02:18,492 - INFO - HorseUnifiedManagement - horse_unified_management:789 - Tabs added.
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1635 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting BasicInfoTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting OwnersTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting LocationTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1732 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:02:18,548 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - horse_unified_management:148 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:02:18,593 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement showEvent: START
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:328 - display_empty_state: FINISHED
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:208 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:02:18,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:02:18,628 - INFO - HorseUnifiedManagement - horse_unified_management:464 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:02:18,629 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:18,635 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 22:02:18,639 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 22:02:18,640 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:02:18,643 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:02:18,644 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:18,645 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:24,401 - INFO - HorseUnifiedManagement - horse_unified_management:467 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:02:32,756 - INFO - HorseUnifiedManagement - horse_unified_management:995 - add_new_horse: START
2025-05-31 22:02:32,757 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:02:32,762 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - add_new_horse: FINISHED
2025-05-31 22:02:51,191 - INFO - HorseUnifiedManagement - horse_unified_management:1100 - save_changes: START
2025-05-31 22:02:51,191 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,200 - INFO - HorseController - horse_controller:179 - Horse 'lorena' (ID: 2) created successfully by ADMIN.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - horse_unified_management:1174 - save_changes: Save successful. Message: Horse 'lorena' created successfully.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'lorena' created successfully.
2025-05-31 22:02:53,046 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,046 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:53,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 2
2025-05-31 22:02:53,053 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,053 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - horse_unified_management:1237 - save_changes: Exception: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1229, in save_changes
    self.load_horse_details(
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Save Error - Unexpected error: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:03:04,203 - INFO - HorseUnifiedManagement - horse_unified_management:1239 - save_changes: FINISHED
2025-05-31 22:03:48,121 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:03:48,123 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:03:48,123 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:03:48,124 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:08:20,216 - INFO - HorseUnifiedManagement - horse_unified_management:1590 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:08:20,216 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:481 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:484 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:08:20,244 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:08:20,244 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:08:27,166 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:08:27,166 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:08:27,168 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:08:27,175 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:08:27,176 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:08:27,178 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:08:27,352 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:08:27,355 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:08:27,360 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:08:27,381 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:08:29,714 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:08:38,533 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:08:38,700 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:08:38,701 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,701 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,711 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:08:38,713 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:08:38,714 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:08:38,716 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:08:38,872 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:08:38,875 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:08:38,876 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:08:38,880 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:08:38,936 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:08:38,981 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:08:38,983 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:08:38,984 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:08:38,993 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:08:39,018 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:08:39,027 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:08:39,028 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:08:43,852 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:08:45,453 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:08:45,455 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:08:45,455 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:35,506 - INFO - HorseUnifiedManagement - horse_unified_management:1410 - on_filter_changed: To All Horses
2025-05-31 22:10:35,507 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'all', Search: ''
2025-05-31 22:10:35,511 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,513 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:35,516 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,517 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:10:35,518 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:10:35,518 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:41,129 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:41,130 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:43,097 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:43,098 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:43,100 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:49,385 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:10:49,385 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:10:49,391 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:11:27,104 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 22:11:27,105 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 22:11:27,106 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 22:11:27,107 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 22:11:27,122 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,122 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 22:11:27,175 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 22:11:27,179 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 22:11:27,180 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 22:11:27,191 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 22:11:31,683 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 22:11:31,684 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 22:11:31,686 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 22:11:33,579 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-05-31 22:11:34,831 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-05-31 22:11:37,718 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 22:11:37,726 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 22:11:40,002 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:11:40,014 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:11:40,015 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:11:46,932 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:11:46,934 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:11:46,934 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:11:46,944 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:11:47,119 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:11:47,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:11:47,121 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:11:47,122 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:11:47,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:11:47,148 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:11:48,917 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:11:58,236 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:11:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:11:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,407 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:11:58,407 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:11:58,409 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:11:58,410 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:11:58,415 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:11:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:11:58,581 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:11:58,584 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:11:58,585 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:11:58,589 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:11:58,605 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:11:58,648 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:11:58,702 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:11:58,716 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:11:58,743 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:11:58,752 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:11:58,752 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:05,024 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:12:07,565 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:07,567 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:07,567 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:14,157 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:12:14,157 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:12:14,164 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:12:16,973 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:22,120 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:24,085 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:12:24,087 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:12:24,087 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:31,167 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:31,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:31,169 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:16:06,170 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:16:06,170 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:16:06,192 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:16:06,196 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:16:12,698 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:16:12,699 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:16:12,709 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:16:12,883 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:16:12,885 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:16:12,886 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:16:12,886 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:16:12,891 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:16:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:16:14,530 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:16:24,165 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:16:24,328 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:16:24,328 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,329 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,337 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:16:24,339 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:16:24,341 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:16:24,342 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:16:24,346 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:16:24,347 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-05-31 22:16:24,502 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-05-31 22:16:24,504 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-05-31 22:16:24,506 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-05-31 22:16:24,510 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-05-31 22:16:24,524 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:16:24,525 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:16:24,569 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:16:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:16:24,625 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:16:24,642 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:16:24,643 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:16:24,649 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:16:24,654 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:16:24,655 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:24,657 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:16:29,178 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:29,183 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:29,187 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 22:16:34,175 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: lorena
2025-05-31 22:16:36,935 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-05-31 22:16:40,181 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: lorena
2025-05-31 22:16:40,186 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 22:16:42,030 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 22:16:44,124 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:44,126 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:44,129 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:55,038 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:55,041 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:55,044 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-01 19:27:42,771 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-01 19:27:42,772 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-01 19:27:42,773 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-01 19:27:42,774 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-01 19:27:42,782 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-01 19:27:42,784 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-01 19:27:42,785 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:03:01,733 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:03:01,735 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:03:01,937 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:03:01,940 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:03:01,941 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:03:01,942 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:03:01,956 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:03:01,986 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:03:07,199 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:03:18,804 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:03:18,966 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:03:18,968 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,968 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,978 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:03:18,978 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:03:18,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:03:18,986 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:03:18,990 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:03:18,992 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:03:19,456 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:03:19,459 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:03:19,462 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:03:19,465 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:03:19,480 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:03:19,528 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:03:19,571 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:03:19,584 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:03:19,609 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:03:19,611 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:03:19,617 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:19,628 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:19,634 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:19,635 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:03:29,224 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:30,929 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 12:03:32,134 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 12:03:32,144 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 12:03:32,144 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:34,036 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:34,037 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:37,849 - INFO - OwnersTab - owners_tab:215 - Owner ID 2 selected.
2025-06-02 12:03:42,700 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:45,180 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:03:48,026 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 100.0% to horse ID 1
2025-06-02 12:04:06,043 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 2 on horse ID 1 to 90.0%
2025-06-02 12:04:06,049 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 2 by ADMIN.
2025-06-02 12:04:06,050 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:07,807 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:07,810 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:07,813 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:09,374 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:04:10,969 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:04:30,297 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 10.0% to horse ID 1
2025-06-02 12:04:30,303 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 1 by ADMIN.
2025-06-02 12:04:30,303 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:04:32,242 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:04:32,243 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:32,245 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:32,248 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:35,837 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:52,726 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 3 on horse ID 1 to 10.0%
2025-06-02 12:04:52,729 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 3 by ADMIN.
2025-06-02 12:04:52,729 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:54,320 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:54,322 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:54,323 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:54,325 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:54,326 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:54,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:56,761 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-02 12:04:56,766 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:04:57,753 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quail Pond Farm (Equineville, PA)
2025-06-02 12:04:58,911 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quail Pond Farm') to Horse ID 1
2025-06-02 12:04:58,917 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-02 12:04:58,917 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 2, 'name': 'Quail Pond Farm'}
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 12:04:58,918 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:58,920 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:20,743 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To All Horses
2025-06-02 12:05:20,744 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'all', Search: ''
2025-06-02 12:05:20,746 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,747 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:20,749 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:20,752 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:20,755 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:20,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,760 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:20,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:20,764 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:24,680 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Deactivated
2025-06-02 12:05:24,682 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'inactive', Search: ''
2025-06-02 12:05:24,683 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: inactive) found 0 results.
2025-06-02 12:05:24,685 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:24,686 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:24,689 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:24,693 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:24,694 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:24,697 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Active Only
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:05:26,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:26,412 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:26,414 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:29,200 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:29,202 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:29,205 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:32,801 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: lorena
2025-06-02 12:05:34,177 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-02 12:05:35,889 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 2
2025-06-02 12:05:35,894 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 2 by ADMIN.
2025-06-02 12:05:35,894 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:05:37,712 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:05:37,713 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:37,714 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:37,717 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:42,103 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: lorena
2025-06-02 12:05:42,106 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:05:44,119 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Rusty Stable Farm (Equineville, PA)
2025-06-02 12:05:46,222 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Rusty Stable Farm') to Horse ID 2
2025-06-02 12:05:46,228 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-02 12:05:46,228 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 1, 'name': 'Rusty Stable Farm'}
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:46,232 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:05:55,468 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:05:55,483 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,485 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:05:55,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:05:55,543 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:05:55,549 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,550 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:05:55,562 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:05:58,914 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-06-02 12:06:45,026 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-06-02 12:06:45,186 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-02 12:06:45,186 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-06-02 12:06:45,190 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:06:48,952 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:06:52,572 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:08:15,632 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:08:29,900 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:09:25,278 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-06-02 12:09:55,020 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:10:05,529 - INFO - LocationController - location_controller:284 - Location 'West Wing Stalls' (ID: 3) updated by ADMIN.
2025-06-02 12:10:05,529 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-06-02 12:10:07,356 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:10:07,357 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'West Wing Stalls' updated.
2025-06-02 12:11:47,827 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:11:53,961 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:16:10,020 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:16:10,032 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:16:13,394 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:16:13,394 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:16:13,395 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:16:13,398 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:16:13,408 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:16:13,410 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:21:10,523 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:21:10,526 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:21:10,532 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:21:10,533 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:21:10,719 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:21:10,737 - WARNING - DatabaseManager - database_config:197 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:209 - Created 'ADMIN' role.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:280 - ADMIN user not found. Creating new ADMIN user...
2025-06-02 12:21:10,897 - INFO - DatabaseManager - database_config:292 - Created new ADMIN user with bcrypt password.
2025-06-02 12:21:10,899 - INFO - DatabaseManager - database_config:296 - Linked ADMIN user to ADMIN role.
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:21:10,906 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:21:10,910 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:21:10,937 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:21:13,090 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:21:24,023 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:21:24,187 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:21:24,187 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,187 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,205 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:21:24,205 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:21:24,208 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:21:24,211 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:21:24,212 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:21:24,369 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:21:24,373 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:21:24,374 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:21:24,377 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:21:24,392 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:21:24,395 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:21:24,437 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:21:24,486 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:21:24,487 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,489 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:21:24,499 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:21:24,522 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:21:24,523 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:21:24,526 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:21:24,529 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:21:28,647 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:21:28,647 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,649 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:21:28,663 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,663 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:21:28,710 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:21:28,717 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:21:28,718 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:21:28,730 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:21:33,663 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:21:33,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:21:41,384 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 12:21:41,384 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 12:21:41,390 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 12:21:54,047 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:21:54,047 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:21:54,048 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:21:54,050 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:21:54,060 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:21:54,062 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:25:45,271 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:25:45,271 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:25:45,272 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:25:45,273 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:25:45,282 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:25:45,283 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:25:45,286 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:25:45,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:25:45,467 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:25:45,469 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:25:45,469 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:25:45,473 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:25:45,500 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:25:48,179 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:25:58,234 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:25:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:25:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,410 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:25:58,412 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:25:58,414 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:25:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:25:58,574 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:25:58,577 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:25:58,578 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:25:58,583 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:25:58,597 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:25:58,641 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:25:58,686 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:25:58,699 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:25:58,723 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:25:58,724 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:25:58,727 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:25:58,730 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:26:09,599 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:26:09,600 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,602 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:26:09,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,617 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:26:09,663 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:26:09,669 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,671 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:26:09,682 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:26:14,232 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:17,187 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:20,160 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:20,162 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:20,163 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:21,507 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:26,469 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-06-02 12:26:26,470 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-06-02 12:26:26,472 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:27:02,743 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:27:04,382 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:28:05,254 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'description' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for Location
2025-06-02 12:31:36,863 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:31:36,882 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:31:38,684 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:31:38,684 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:31:38,686 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:31:38,687 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:31:38,700 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:31:38,703 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:38:52,286 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:38:52,289 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:38:52,289 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:38:52,295 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:38:52,297 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:38:52,298 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:38:52,300 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:38:52,301 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:38:52,477 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:38:52,478 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:38:52,480 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:38:52,480 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:38:52,485 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:38:52,511 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:38:55,045 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:39:18,339 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:39:18,500 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:39:18,500 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,502 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,513 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:39:18,514 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:39:18,516 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:39:18,519 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:39:18,684 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:39:18,687 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:39:18,688 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:39:18,692 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:39:18,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:39:18,753 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:39:18,798 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:39:18,801 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,802 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:39:18,813 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:39:18,840 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:39:18,841 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:39:18,846 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:39:18,847 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:39:18,850 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,852 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:39:23,161 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:39:23,162 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:39:23,179 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,180 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:39:23,232 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:39:23,234 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,236 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:39:23,246 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:39:26,933 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:39:26,934 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:39:26,937 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:39:28,914 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:40:56,707 - INFO - LocationController - location_controller:186 - Location 'Medford Lakes Farms' (ID: 4) created by ADMIN.
2025-06-02 12:40:56,708 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:40:58,730 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:42:03,579 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:42:03,589 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:42:05,760 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:42:05,773 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:42:05,776 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:47:25,837 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:47:25,840 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:47:25,840 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:47:25,850 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:47:25,852 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:47:25,853 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:47:26,025 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:47:26,028 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:47:26,029 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:47:26,029 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:47:26,035 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:47:26,061 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:47:27,882 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:47:37,332 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:47:37,497 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:47:37,497 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,499 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,507 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:47:37,513 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:47:37,518 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:47:37,519 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:47:37,683 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:47:37,686 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:47:37,687 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:47:37,690 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:47:37,749 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:47:37,796 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:47:37,812 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:47:37,834 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:47:37,836 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:47:37,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:47:37,842 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:47:37,844 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,845 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:47:40,507 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,507 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:47:40,522 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,523 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:47:40,571 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:47:40,580 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,580 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:47:40,593 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:47:42,988 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:47:46,629 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 12:49:22,997 - INFO - LocationController - location_controller:186 - Location 'Mount Laurel Farms' (ID: 5) created by ADMIN.
2025-06-02 12:49:22,998 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:49:24,983 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 5 locations with detailed address.
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:50:18,764 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 4
2025-06-02 13:06:21,002 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 13:06:21,016 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:06:22,654 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:06:22,654 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:06:22,664 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:06:22,667 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:06:22,669 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:17:55,786 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:17:55,787 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:17:55,970 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:17:55,974 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:17:55,979 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:17:56,004 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:17:59,063 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:18:09,430 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:18:09,594 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:18:09,596 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,596 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,606 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:18:09,612 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:18:09,616 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:18:09,617 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:18:09,780 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:18:09,783 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:18:09,785 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:18:09,789 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:18:09,849 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:18:09,850 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:18:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:18:09,897 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:18:09,909 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:18:09,939 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 13:18:09,940 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 13:18:09,943 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,944 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:18:12,925 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:18:12,926 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,928 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:18:12,942 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,942 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:18:12,996 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:18:13,006 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:18:14,894 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:18:14,896 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:14,899 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:16,682 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:18:28,463 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:35,519 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:18:37,067 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:45,598 - INFO - LocationController - location_controller:262 - Location 'Mount Laurel Farms' (ID: 5) updated by ADMIN.
2025-06-02 13:18:45,598 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:18:47,079 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:47,081 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:18:47,082 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:47,084 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Mount Laurel Farms' updated.
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:19:46,296 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:19:57,738 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:20:03,265 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:20:03,267 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:03,268 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:14,140 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:15,290 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:16,277 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:18,067 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:20,456 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:22,157 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 1
2025-06-02 13:20:24,124 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:27,789 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:30,382 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:31,451 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:33,552 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:20:50,839 - INFO - LocationController - location_controller:262 - Location 'Quail Pond Farm' (ID: 2) updated by ADMIN.
2025-06-02 13:20:50,840 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:20:52,627 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:52,628 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Quail Pond Farm' updated.
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:20:59,751 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:21:03,868 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:21:12,682 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:21:14,637 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 2
2025-06-02 13:21:20,079 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:28:57,523 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: None
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:28:57,527 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:29:13,096 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: 2
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: None
2025-06-02 13:29:59,753 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:29:59,755 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:38:43,295 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:38:43,307 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:38:45,573 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 13:38:45,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 13:38:45,580 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 13:39:18,609 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 13:39:18,609 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,612 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,614 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,623 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:20,375 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,375 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:39:20,379 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:39:20,382 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:39:20,383 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:39:20,384 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 13:39:25,637 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Soul Rebel
2025-06-02 13:51:49,712 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-06-02 13:51:52,985 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:51:52,985 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:51:52,986 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:51:52,988 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:51:53,019 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:51:53,019 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:52:32,845 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:52:32,846 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:52:32,855 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:52:33,033 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:52:33,037 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:52:33,040 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:52:33,069 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:52:35,293 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:52:45,127 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:52:45,289 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:52:45,289 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,289 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:52:45,304 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:52:45,309 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:52:45,310 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:52:45,467 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:52:45,472 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:52:45,473 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:52:45,477 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:52:45,492 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:52:45,539 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:52:45,584 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:52:45,600 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:52:45,624 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:52:45,625 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:52:45,633 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:52:45,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:52:45,639 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:52:45,642 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:52:47,934 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:52:47,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:52:47,937 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:52:47,938 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,940 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:52:47,955 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,956 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:52:48,018 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:48,019 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:52:48,032 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:52:51,982 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:53:28,793 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:53:28,794 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-06-02 13:53:31,900 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:53:31,909 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:53:36,516 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:53:36,518 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:53:36,519 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:53:36,559 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:53:36,564 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:54:39,831 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:54:39,832 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:54:39,845 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:54:40,018 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:54:40,022 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:54:40,027 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:54:40,052 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:54:42,082 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:54:51,067 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:54:51,229 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:54:51,230 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,230 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,240 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:54:51,241 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:54:51,244 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:54:51,247 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:54:51,250 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:54:51,252 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:54:51,413 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:54:51,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:54:51,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:54:51,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:54:51,484 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:54:51,531 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:54:51,546 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:54:51,567 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:54:51,568 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:54:51,576 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:54:51,583 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:54:53,367 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:54:53,369 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,370 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:54:53,387 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,387 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:54:53,440 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:54:53,442 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:54:53,444 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:54:53,447 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:54:53,459 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:54:56,194 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:55:00,933 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:55:06,604 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 1
2025-06-02 13:55:34,270 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:55:34,283 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:55:37,056 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:55:37,056 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:55:37,070 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:55:37,072 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:58:48,292 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:58:48,292 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:58:48,293 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:58:48,303 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:58:48,478 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:58:48,482 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:58:48,486 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:58:48,512 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:58:55,263 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:59:11,072 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:59:11,234 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:59:11,234 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,245 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:59:11,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:59:11,414 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:59:11,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:59:11,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:59:11,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:59:11,437 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:59:11,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:59:11,482 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:59:11,528 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:59:11,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:59:11,565 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:59:11,566 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:59:11,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:59:11,578 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:59:11,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:59:11,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:59:13,543 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:59:13,546 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:59:13,550 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:59:13,565 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,565 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:59:13,620 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:59:13,621 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:59:13,622 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:59:13,626 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:59:13,627 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:59:13,640 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:59:14,785 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:59:17,507 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 14:01:08,092 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 14:01:08,128 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:01:09,483 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:01:09,485 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 14:01:09,486 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 14:01:09,488 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:01:09,509 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:01:09,516 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:01:09,521 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:04:29,314 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:04:29,317 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:04:29,323 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:04:29,325 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:04:29,326 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:04:29,502 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:04:29,507 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:04:29,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:04:29,543 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:04:32,966 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:04:42,421 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:04:42,585 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:04:42,585 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,586 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,595 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:04:42,597 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:04:42,599 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:04:42,600 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:04:42,768 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:04:42,772 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:04:42,773 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:04:42,777 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:04:42,792 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:04:42,837 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:04:42,839 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:04:42,840 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:04:42,884 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:04:42,899 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:04:42,920 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:04:42,922 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:04:42,929 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:04:42,933 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:04:42,934 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:04:42,936 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:04:45,725 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,725 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:04:45,742 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,742 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:04:45,797 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:04:45,803 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:04:45,804 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:04:45,815 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:04:48,246 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:04:50,710 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 2
2025-06-02 14:04:51,517 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 3
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:05:40,423 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:47,062 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:54,138 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:07:54,140 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:08:08,400 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 14:08:08,430 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:08:11,482 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 14:08:11,482 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:08:11,484 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:08:11,485 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:08:11,496 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:08:11,499 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:47:59,417 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:47:59,419 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:47:59,419 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:47:59,429 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:47:59,605 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:47:59,609 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:47:59,614 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:47:59,644 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:48:02,704 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:48:14,309 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:48:14,474 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:48:14,474 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,475 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,486 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:48:14,490 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:48:14,642 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:48:14,645 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:48:14,647 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:48:14,651 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:48:14,710 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:48:14,755 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:48:14,770 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:48:14,795 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:48:14,797 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:48:14,804 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:48:14,812 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:48:17,167 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:48:17,168 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:48:17,171 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:48:17,172 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,172 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:48:17,189 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,189 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:48:17,243 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:48:17,249 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:48:17,251 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:48:17,264 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:48:18,489 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:50:10,068 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
2025-06-02 15:05:27,003 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
2025-06-02 15:05:52,060 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:05:52,090 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:05:52,800 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:05:52,800 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:05:52,819 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:05:52,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:05:52,830 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:06:02,115 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:06:02,116 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:06:02,116 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:06:02,155 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:06:02,343 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:06:02,346 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:06:02,358 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:06:02,390 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:06:06,067 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:06:15,073 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:06:15,235 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:06:15,235 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,246 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:06:15,246 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:06:15,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:06:15,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:06:16,420 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:06:16,423 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:06:16,425 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:06:16,428 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:06:16,446 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:06:16,489 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:06:16,542 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:06:16,545 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:06:16,547 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:06:16,559 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:06:16,582 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:06:16,584 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:06:16,590 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:06:16,599 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:06:16,606 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:06:16,609 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:06:18,737 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,738 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:06:18,754 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,756 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:06:18,808 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:06:18,814 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:06:18,816 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:06:18,828 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:06:20,223 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 15:06:20,224 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:06:20,226 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 15:06:22,013 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:06:22,014 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:07:44,507 - INFO - OwnerController - owner_controller:292 - Master Owner 'optional (bradley coulter)' (ID: 4) created by ADMIN.
2025-06-02 15:07:44,507 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner created successfully.
2025-06-02 15:07:46,346 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - base_view:322 - Status update: Owner added successfully.
2025-06-02 15:07:50,082 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 4
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:08:05,784 - INFO - OwnerController - owner_controller:383 - Master Owner 'optional (bradley coulter)' (ID: 4) updated by ADMIN.
2025-06-02 15:08:05,786 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner updated successfully.
2025-06-02 15:08:07,759 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:08:07,760 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: None
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - base_view:322 - Status update: Owner 'optional' updated successfully.
2025-06-02 15:08:30,988 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:08:31,003 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:08:35,215 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 15:08:38,440 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 4, Display: optional (bradley coulter) [bsc001]
2025-06-02 15:08:41,524 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 4 with 100.0% to horse ID 1
2025-06-02 15:08:41,533 - INFO - HorseController - horse_controller:493 - Owner ID 4 added to horse ID 1 by ADMIN.
2025-06-02 15:08:41,533 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 15:08:43,574 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 15:08:43,575 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:08:43,577 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:08:43,580 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:14:21,897 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:14:21,899 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:14:21,899 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:14:21,900 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:14:21,902 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:14:21,902 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,903 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:14:21,918 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,919 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:14:21,974 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:14:21,977 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:14:21,980 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,980 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:14:21,992 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:14:24,333 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:14:26,907 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-02 15:15:45,554 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:15:45,568 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:15:46,886 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:15:46,887 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:15:46,897 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:15:46,899 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:15:46,899 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:15:51,467 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:15:51,468 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:15:51,478 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:15:51,658 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:15:51,662 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:15:51,667 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:15:51,701 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:15:53,437 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:16:02,718 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:16:02,882 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:16:02,882 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,883 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,893 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:16:02,895 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:16:02,897 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:16:02,898 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:16:03,060 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:16:03,069 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:16:03,129 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:16:03,176 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:16:03,192 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:16:03,210 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:16:03,212 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:16:03,218 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:16:03,224 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:16:03,225 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:16:03,228 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:16:03,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:16:03,235 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:16:06,455 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,455 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:16:06,473 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,473 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:16:06,529 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:16:06,531 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:16:06,532 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:16:06,539 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,539 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:16:06,550 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:16:10,204 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:16:29,372 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:19:55,037 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:19:55,956 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 3
2025-06-02 15:19:56,669 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:20:01,653 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:20:03,505 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:20:09,473 - ERROR - AddEditChargeCodeDialog - add_edit_charge_code_dialog:403 - Error during charge code save/update: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 380, in validate_and_accept
    success, message = self.controller.update_charge_code(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
2025-06-02 15:23:55,720 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:23:55,753 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:23:56,633 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:23:56,634 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:23:56,668 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:23:56,672 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:23:56,673 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:28:12,582 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:28:12,582 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:28:12,770 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:28:12,775 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:28:12,779 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:28:12,815 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:06,881 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:29:06,898 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:29:06,903 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:29:24,935 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:29:24,936 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:29:24,945 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:29:25,126 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:29:25,129 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:29:25,135 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:29:25,170 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:26,654 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:29:36,021 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:29:36,183 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:29:36,184 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,184 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,196 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:29:36,197 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:29:36,199 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:29:36,200 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:29:36,362 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:29:36,365 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:29:36,367 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:29:36,370 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:29:36,478 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:29:36,480 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:29:36,481 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:29:36,492 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:29:36,520 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:29:36,524 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:29:36,526 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:29:36,529 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:29:36,536 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:29:36,538 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:29:38,799 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:29:38,802 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,802 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:29:38,819 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,819 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:29:38,882 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,882 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:29:38,896 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:29:41,089 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:29:41,090 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:29:41,093 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:29:43,612 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:29:49,282 - ERROR - ChargeCodeController - charge_code_controller:309 - Error updating charge code ID 1: name 'datetime' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 292, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^
NameError: name 'datetime' is not defined
2025-06-02 15:30:47,872 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:30:47,904 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:30:48,583 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:30:48,583 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:30:48,602 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:30:48,608 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:30:48,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:30:58,872 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:30:58,872 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:30:58,883 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:30:59,056 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:30:59,057 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:30:59,059 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:30:59,059 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:30:59,063 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:30:59,093 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:31:00,407 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:31:09,509 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:31:09,672 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:31:09,672 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,673 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,687 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:31:09,693 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:31:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:31:09,854 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:31:09,856 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:31:09,860 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:31:09,876 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:31:09,879 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:31:09,920 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:31:09,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:31:09,923 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:31:09,967 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:31:09,980 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:31:10,005 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:31:10,007 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:31:10,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:31:10,019 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:31:10,020 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:31:10,023 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:31:12,189 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:31:12,191 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,192 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:31:12,209 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,209 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:31:12,270 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,272 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:31:12,285 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:31:15,490 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:31:16,890 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:31:22,765 - ERROR - ChargeCodeController - charge_code_controller:311 - Error updating charge code ID 1: module 'datetime' has no attribute 'utcnow'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 294, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^^^^^^^^
AttributeError: module 'datetime' has no attribute 'utcnow'
2025-06-02 15:31:49,210 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:31:49,222 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:31:49,813 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:31:49,813 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:31:49,823 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:31:49,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:31:49,826 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:34:56,903 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:34:56,905 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:34:56,915 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:34:57,092 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:34:57,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:34:57,095 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:34:57,095 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:34:57,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:34:57,138 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:34:59,593 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:35:12,820 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:35:12,982 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:35:12,984 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,984 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,995 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:35:12,995 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:35:12,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:35:13,002 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:35:13,155 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:35:13,158 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:35:13,160 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:35:13,164 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:35:13,179 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:35:13,226 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:35:13,272 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:35:13,274 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:35:13,275 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:35:13,285 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:35:13,313 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:35:13,318 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:35:13,319 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:35:13,322 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:35:13,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:35:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:35:14,547 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:35:14,548 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:35:14,552 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,552 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:35:14,569 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,570 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:35:14,624 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:35:14,630 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,631 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:35:14,647 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:17,091 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:19,223 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:24,863 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '9991' (ID: 1) updated by ADMIN.
2025-06-02 15:35:24,863 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:26,752 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:26,753 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:26,755 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:26,756 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '9991' updated.
2025-06-02 15:35:40,470 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:46,988 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:35:52,208 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:35:52,208 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:53,984 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:53,986 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:35:55,869 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:36:21,535 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:36:21,544 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:36:22,456 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:36:22,456 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:36:22,468 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:36:22,470 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:36:22,472 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:48:17,220 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:48:17,220 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:48:17,231 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:48:17,408 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:48:17,411 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:48:17,415 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:48:17,445 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:48:19,416 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:48:28,117 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:48:28,280 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:48:28,280 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,282 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,291 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:48:28,294 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:48:28,298 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:48:28,300 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:48:28,438 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:48:28,447 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:48:28,504 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:48:28,550 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:48:28,564 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:48:28,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:48:28,601 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:48:28,602 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:48:28,604 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:48:30,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:48:30,914 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:48:30,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:48:30,916 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,917 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:48:30,935 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,937 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:48:30,991 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:48:30,997 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:48:31,010 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:33,460 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:35,194 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: 2
2025-06-02 15:48:39,694 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:48:39,694 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:48:41,421 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:41,422 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: None
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:49:05,320 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 15:49:05,349 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:49:06,594 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:49:06,596 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:49:06,606 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:49:06,609 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:49:06,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:50:06,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:50:06,215 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:50:06,401 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:50:06,402 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:50:06,409 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:50:06,440 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:50:15,634 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:50:25,267 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:50:25,427 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:50:25,427 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,428 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,438 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:50:25,440 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:50:25,442 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:50:25,444 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:50:25,597 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:50:25,600 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:50:25,602 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:50:25,605 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:50:25,663 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:50:25,664 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:50:25,666 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:50:25,710 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:50:25,724 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:50:25,747 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:50:25,749 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:50:25,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:50:25,756 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:50:30,599 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:50:30,601 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:50:30,602 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,604 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:50:30,621 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,622 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:50:30,674 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:50:30,675 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:50:30,689 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:51:07,669 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:51:07,703 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:52:07,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:52:07,081 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:52:07,904 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:52:07,916 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:52:07,919 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:52:07,919 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:53:52,823 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:53:52,823 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:53:52,834 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:53:53,015 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:53:53,018 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:53:53,024 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:53:53,056 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:53:54,659 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:54:05,298 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:54:05,462 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:54:05,462 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,462 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:54:05,479 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:54:05,649 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:54:05,652 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:54:05,653 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:54:05,658 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:54:05,674 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:54:05,679 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:54:05,724 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:54:05,769 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:54:05,784 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:05,811 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:54:05,812 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:54:10,133 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 17:54:10,133 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 17:54:10,140 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 17:54:31,030 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 17:54:31,030 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,041 - INFO - HorseController - horse_controller:179 - Horse 'Loren 60' (ID: 1) created successfully by ADMIN.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Loren 60' created successfully.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Loren 60' created successfully.
2025-06-02 17:54:32,690 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,690 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:32,692 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 17:54:32,695 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 17:54:32,696 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:32,696 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,702 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:32,703 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 17:54:35,784 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Loren 60
2025-06-02 17:54:38,420 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 17:54:40,820 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 17:54:40,827 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 17:54:40,829 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:42,612 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:42,614 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:45,539 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Loren 60
2025-06-02 17:54:45,544 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-02 17:54:46,680 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 5, Display: Quail Pond Farm (Ocala, FL)
2025-06-02 17:54:47,784 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 5 ('Quail Pond Farm') to Horse ID 1
2025-06-02 17:54:47,792 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 5 by ADMIN.
2025-06-02 17:54:47,792 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 5 to Horse ID 1. Emitting signal.
2025-06-02 17:54:47,792 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 5, 'name': 'Quail Pond Farm'}
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:47,795 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:47,798 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:47,799 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:55:09,466 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,466 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:55:09,485 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,485 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:55:09,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:55:09,548 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:55:09,550 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:55:09,564 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:55:13,427 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 1
2025-06-02 17:55:13,428 - INFO - UserManagementScreen - user_management_screen:738 - Loading locations data for tab...
2025-06-02 17:55:13,432 - INFO - UserManagementScreen - user_management_screen:777 - Loaded 5 locations with detailed address.
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:14,580 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:14,590 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:55:15,953 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:18,403 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:18,412 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:56:27,859 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:56:27,861 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:56:27,865 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:56:29,869 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:56:29,876 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:57:10,702 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:57:10,732 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:57:11,871 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:57:11,874 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:57:11,882 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:57:11,902 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:57:11,902 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:02:37,929 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:02:37,930 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:02:37,936 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:02:37,937 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:02:37,939 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:02:38,117 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:02:38,121 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:02:38,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:02:38,157 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:02:54,422 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:03:05,250 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:03:05,414 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:03:05,414 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,415 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,424 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:03:05,427 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:03:05,429 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:03:05,430 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:03:05,588 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:03:05,596 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:03:05,660 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:03:05,707 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:03:05,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:03:05,739 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:03:05,740 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:03:05,748 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:03:05,755 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:03:11,882 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:03:11,884 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,884 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:03:11,903 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,903 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:03:11,958 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:03:11,962 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:03:11,965 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,967 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:03:11,979 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:03:16,675 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 18:03:16,685 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 18:06:41,293 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:06:41,308 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:06:42,014 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:06:42,014 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:06:42,026 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:06:42,029 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:06:42,032 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:39:24,532 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:39:24,533 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:39:24,540 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:39:24,542 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:39:24,722 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:39:24,723 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:39:24,724 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:39:24,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:39:24,729 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:39:24,759 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:39:27,274 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:39:37,057 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:39:37,222 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:39:37,222 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,222 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,234 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:39:37,235 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:39:37,237 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:39:37,240 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:39:37,410 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:39:37,413 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:39:37,415 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:39:37,419 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:39:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:39:37,480 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:39:37,527 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:39:37,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:39:37,564 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:39:37,565 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:39:37,572 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:39:37,577 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:39:37,579 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:39:37,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:39:40,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:39:40,073 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,075 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:39:40,094 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,094 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:39:40,148 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:39:40,154 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:39:40,155 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:39:40,172 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:39:41,989 - ERROR - UserManagementScreen - user_management_screen:890 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 864, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:39:41,991 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:46:20,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:46:20,080 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:46:21,963 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:46:21,965 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:46:21,972 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:46:21,975 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:46:21,977 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 19:19:24,390 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 19:19:24,391 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 19:19:24,400 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 19:19:24,578 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 19:19:24,583 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 19:19:24,587 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 19:19:24,617 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 19:19:26,506 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 19:19:35,840 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 19:19:35,999 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 19:19:36,001 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,002 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,012 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 19:19:36,017 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 19:19:36,020 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 19:19:36,022 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 19:19:36,167 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 19:19:36,170 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 19:19:36,172 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 19:19:36,176 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 19:19:36,191 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 19:19:36,235 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 19:19:36,284 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 19:19:36,286 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 19:19:36,287 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 19:19:36,298 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 19:19:36,333 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 19:19:36,342 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 19:19:38,375 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 19:19:38,376 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 19:19:38,380 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,380 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 19:19:38,396 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,398 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 19:19:38,460 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,460 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 19:19:38,475 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 19:19:40,640 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:40,642 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:48,594 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 19:19:48,603 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 19:19:49,350 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 19:19:49,350 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 19:19:49,362 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 19:19:49,365 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 19:19:49,365 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:30:46,308 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:30:46,310 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:30:46,310 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:30:46,325 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:30:46,507 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:30:46,510 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:30:46,523 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:30:46,556 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:30:48,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:31:00,493 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:31:00,655 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:31:00,656 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,656 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,668 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:31:00,670 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:31:00,672 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:31:00,674 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:31:01,872 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:31:01,877 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:31:01,879 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:31:01,883 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:31:01,901 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:31:01,943 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:31:01,945 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:31:01,946 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:31:01,992 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:31:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:31:01,996 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:31:02,008 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:31:02,046 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:31:02,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:31:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:31:02,057 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:31:06,900 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:31:06,901 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:31:06,904 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,904 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:31:06,921 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,922 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:31:06,978 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:31:06,981 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:31:06,985 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:31:07,000 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 1
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:740 - Loading locations data for tab...
2025-06-02 20:31:11,288 - INFO - UserManagementScreen - user_management_screen:779 - Loaded 5 locations with detailed address.
2025-06-02 20:31:12,575 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 20:31:12,577 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 20:31:12,578 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:31:13,614 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:31:13,623 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:41:29,052 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 20:41:29,062 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 20:41:30,603 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 20:41:30,603 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 20:41:30,612 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 20:41:30,615 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 20:41:30,616 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:41:38,587 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:41:38,590 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:41:38,600 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:41:38,779 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:41:38,782 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:41:38,783 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:41:38,784 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:41:38,789 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:41:38,820 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:41:40,783 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:41:51,299 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:41:51,463 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:41:51,463 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,464 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:41:51,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:41:51,476 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:41:51,480 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:41:51,635 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:41:51,638 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:41:51,639 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:41:51,642 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:41:51,705 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:41:51,752 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:41:51,767 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:41:51,790 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:41:51,791 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:41:51,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:41:51,803 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:41:51,804 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:41:51,806 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:41:51,815 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:41:51,816 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:42:49,361 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:42:49,361 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:42:49,362 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:42:49,369 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:42:49,370 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:42:49,554 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:42:49,557 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:42:49,562 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:42:49,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:42:51,762 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:43:00,438 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:43:00,599 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:43:00,599 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,600 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,611 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:43:00,611 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:43:00,614 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:43:00,617 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:43:00,622 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:43:00,623 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:43:00,776 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:43:00,779 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:43:00,780 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:43:00,785 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:43:00,802 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:43:00,846 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:43:00,893 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:43:00,894 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:43:00,896 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:43:00,906 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:43:00,937 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:43:00,945 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:43:02,857 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:43:02,859 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,859 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:43:02,875 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,877 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:43:02,932 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:43:02,936 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:43:02,938 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:43:02,938 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,939 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:43:02,955 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:43:05,663 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:43:05,665 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:43:05,683 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:43:05,684 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 21:31:12,442 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:31:12,442 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:31:12,442 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:31:12,443 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:31:12,443 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:31:12,443 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:31:12,449 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:31:12,449 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:31:12,452 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:31:12,454 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:31:12,454 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:31:12,632 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:31:12,633 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:31:12,633 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:31:12,635 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:31:12,635 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:31:12,635 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:31:12,639 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:31:12,673 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:32:26,482 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:32:36,273 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:32:36,434 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:32:36,435 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:32:36,435 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:32:36,446 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:32:36,447 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:32:36,447 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:32:36,449 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:32:36,450 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:32:36,452 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:32:36,456 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:32:36,456 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:32:36,612 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:32:36,615 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:32:36,616 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:32:36,619 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:32:36,634 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:32:36,636 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:32:36,639 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:32:36,680 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:32:36,682 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:32:36,682 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:32:36,729 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:32:36,732 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:32:36,732 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:32:36,742 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:32:36,763 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:32:36,765 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:32:36,773 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:32:36,778 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:32:36,780 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:32:36,782 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:32:36,789 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:32:36,789 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:32:40,614 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:32:40,615 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:32:40,615 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:32:40,617 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:32:40,617 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:32:40,617 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,618 - INFO - UserManagementScreen - user_management_screen:263 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:32:40,634 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,634 - INFO - UserManagementScreen - user_management_screen:293 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:32:40,687 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:32:40,688 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:32:40,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:32:40,690 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:32:40,692 - INFO - UserManagementScreen - user_management_screen:608 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:32:40,692 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:32:40,693 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:32:40,696 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - user_management_screen:211 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:32:40,711 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:32:42,824 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:32:42,824 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:32:42,830 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 2 charge codes.
2025-06-02 21:32:49,917 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 1
2025-06-02 21:32:52,570 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QTimer' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 956, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 113, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 442, in _populate_fields
    QTimer.singleShot(
    ^^^^^^
NameError: name 'QTimer' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 956, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 113, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 442, in _populate_fields
    QTimer.singleShot(
    ^^^^^^
NameError: name 'QTimer' is not defined
2025-06-02 21:35:40,482 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '424' created successfully (ID: 3) by ADMIN.
2025-06-02 21:35:40,482 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-02 21:35:42,325 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:35:42,325 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: None
2025-06-02 21:35:42,327 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:35:42,328 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-02 21:36:16,668 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 3
2025-06-02 21:36:48,797 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 3
2025-06-02 21:36:48,797 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: None
2025-06-02 21:36:48,800 - INFO - UserManagementScreen - user_management_screen:982 - Loading master owners data for tab...
2025-06-02 21:36:48,806 - INFO - UserManagementScreen - user_management_screen:1026 - Loaded 3 master owners.
2025-06-02 21:36:50,153 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 1
2025-06-02 21:36:50,153 - INFO - UserManagementScreen - user_management_screen:747 - Loading locations data for tab...
2025-06-02 21:36:50,156 - INFO - UserManagementScreen - user_management_screen:786 - Loaded 5 locations with detailed address.
2025-06-02 21:36:51,162 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:36:51,162 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:36:51,165 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:36:52,196 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:36:52,196 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:36:52,202 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:38:25,896 - INFO - UserManagementScreen - user_management_screen:1187 - User Management screen closing.
2025-06-02 21:38:25,932 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 21:38:26,982 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 21:38:26,984 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 21:38:26,984 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 21:38:26,986 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 21:38:27,005 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 21:38:27,009 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 21:38:27,014 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 21:38:30,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:38:30,217 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:38:30,223 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:38:30,224 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:38:30,226 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:38:30,227 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:38:30,227 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:38:30,404 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:38:30,406 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:38:30,406 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:38:30,407 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:38:30,407 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:38:30,407 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:38:30,412 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:38:30,446 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:38:32,142 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:38:44,743 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:38:44,907 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:38:44,907 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:38:44,908 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:38:44,917 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:38:44,918 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:38:44,918 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:38:44,920 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:38:44,922 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:38:44,924 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:38:44,929 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:38:44,930 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:38:45,091 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:38:45,094 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:38:45,096 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:38:45,099 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:38:45,114 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:38:45,114 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:38:45,159 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:38:45,160 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:38:45,160 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:38:45,208 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:38:45,212 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:38:45,212 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:38:45,225 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:38:45,245 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:38:45,246 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:38:45,252 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:38:45,257 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:38:45,258 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:38:45,261 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:38:45,268 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:38:45,270 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:38:47,297 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:38:47,297 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:38:47,298 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:38:47,298 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:38:47,300 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:38:47,300 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,300 - INFO - UserManagementScreen - user_management_screen:263 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:38:47,317 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,319 - INFO - UserManagementScreen - user_management_screen:293 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:38:47,373 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:608 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:38:47,380 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:38:47,381 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:38:47,381 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,382 - INFO - UserManagementScreen - user_management_screen:211 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:38:47,396 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:38:49,183 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:38:49,185 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:38:49,189 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:40:25,893 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '39' created successfully (ID: 4) by ADMIN.
2025-06-02 21:40:25,893 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-02 21:40:27,755 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:40:27,758 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 4 charge codes.
2025-06-02 21:40:27,758 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-02 21:40:32,843 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 1
2025-06-02 21:42:52,578 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 3
2025-06-02 21:42:55,050 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 4
2025-06-02 21:50:29,629 - INFO - UserManagementScreen - user_management_screen:1187 - User Management screen closing.
2025-06-02 21:50:29,662 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 21:50:30,384 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 21:50:30,384 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 21:50:30,385 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 21:50:30,385 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 21:50:30,394 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 21:50:30,399 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 21:50:30,403 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 21:50:32,615 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:50:32,616 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:50:32,616 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:50:32,624 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:50:32,624 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:50:32,626 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:50:32,627 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:50:32,627 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:50:32,805 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:50:32,806 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:50:32,806 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:50:32,806 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:50:32,806 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:50:32,806 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:50:32,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:50:32,849 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:50:34,392 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:50:46,422 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:50:46,583 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:50:46,583 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:50:46,585 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:50:46,594 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:50:46,595 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:50:46,595 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:50:46,597 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:50:46,598 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:50:46,600 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:50:46,607 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:50:46,609 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:50:46,767 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:50:46,770 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:50:46,772 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:50:46,776 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:50:46,794 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:50:46,835 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:50:46,836 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:50:46,838 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:50:46,887 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:50:46,890 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:50:46,890 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:50:46,901 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:50:46,926 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:50:46,926 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:50:46,934 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:50:46,940 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:50:46,940 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:50:46,943 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:50:46,950 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:50:46,950 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:50:48,944 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:50:48,944 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:50:48,947 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:48,949 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:50:48,966 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:48,967 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:50:49,020 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:50:49,022 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:50:49,024 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-02 21:50:49,024 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-02 21:50:49,027 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-02 21:50:49,027 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:50:49,027 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:49,029 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:50:49,044 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:50:51,522 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-02 21:50:51,522 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:50:51,529 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:51:19,810 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-02 21:52:52,338 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-02 21:52:52,338 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 21:52:53,869 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:52:53,870 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-02 21:52:53,874 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:52:53,874 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-02 21:53:01,857 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3
2025-06-02 21:53:01,857 - INFO - UserManagementScreen - user_management_screen:1028 - Loading master owners data for tab...
2025-06-02 21:53:01,862 - INFO - UserManagementScreen - user_management_screen:1069 - Loaded 3 master owners.
2025-06-02 21:53:02,725 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-02 21:53:02,725 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:53:02,729 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:53:05,399 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-02 21:53:13,427 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-02 21:53:13,428 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 21:53:15,767 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:53:15,767 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-02 21:53:15,773 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:53:15,773 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 09:04:29,577 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 3
2025-06-03 09:04:31,668 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 1
2025-06-03 09:04:43,515 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:00:52,202 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 11:00:52,202 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 11:00:52,204 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:00:52,219 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:00:52,219 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:00:52,442 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:00:52,444 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:00:52,444 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:00:52,445 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 11:00:52,445 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 11:00:52,445 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:00:52,456 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:00:52,492 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:00:54,580 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 11:01:17,560 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:01:17,722 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:01:17,722 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:01:17,723 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 11:01:17,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:01:17,733 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:01:17,733 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:01:17,735 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:01:17,737 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:01:17,740 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:01:17,744 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:01:17,744 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:01:18,935 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:01:18,938 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:01:18,941 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:01:18,944 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:01:18,960 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:01:18,961 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:01:18,962 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:01:19,007 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:01:19,009 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:01:19,009 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:01:19,056 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:01:19,060 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:01:19,060 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:01:19,072 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 11:01:19,103 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:01:19,104 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:01:19,112 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 11:01:19,116 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 11:01:19,116 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 11:01:19,119 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-03 11:01:19,128 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 11:01:19,128 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:01:36,172 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 11:01:36,173 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 11:01:36,179 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 11:02:09,419 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 11:02:09,419 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,422 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,422 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,430 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 2) created successfully by ADMIN.
2025-06-03 11:02:09,432 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-03 11:02:09,432 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-03 11:02:11,247 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:11,247 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:02:11,250 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 11:02:11,254 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 11:02:11,254 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:11,255 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:11,259 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:11,259 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 11:02:16,422 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-03 11:02:18,372 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-03 11:02:20,414 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 100.0% to horse ID 2
2025-06-03 11:02:20,423 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 2 by ADMIN.
2025-06-03 11:02:20,423 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 11:02:22,024 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 11:02:22,024 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:22,027 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:22,030 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:25,467 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-03 11:02:25,472 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-03 11:02:26,955 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 5, Display: Quail Pond Farm (Ocala, FL)
2025-06-03 11:02:29,846 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 5 ('Quail Pond Farm') to Horse ID 2
2025-06-03 11:02:29,853 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 5 by ADMIN.
2025-06-03 11:02:29,853 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 5 to Horse ID 2. Emitting signal.
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 5, 'name': 'Quail Pond Farm'}
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:29,856 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:29,860 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:29,861 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 11:02:40,994 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 11:02:40,996 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-03 11:02:40,999 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 11:02:42,900 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:42,901 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:42,904 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:45,455 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:02:45,456 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:02:45,459 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,459 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:02:45,479 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,479 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:02:45,537 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:02:45,537 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:02:45,538 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:02:45,538 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:02:45,543 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:02:45,544 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:02:45,544 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,544 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:02:45,559 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 11:02:50,414 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 674, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 674, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 11:02:59,427 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:02:59,429 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:02:59,436 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:45:06,971 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 11:45:07,009 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 11:45:07,946 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 11:45:07,947 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 11:45:07,947 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 11:45:07,949 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 11:45:07,970 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 11:45:07,985 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 11:45:07,986 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 11:46:46,927 - INFO - root - MAIN:126 - Logging configured (Console and File)
2025-06-03 11:46:46,927 - INFO - EDSIApplication - MAIN:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:132 - Initializing database...
2025-06-03 11:46:46,928 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:46:46,936 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:46:46,936 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:46:46,945 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:46:46,946 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:46:46,946 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:46:47,135 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:46:47,136 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:46:47,136 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:46:47,138 - INFO - EDSIApplication - MAIN:137 - Database initialized successfully
2025-06-03 11:46:47,138 - INFO - EDSIApplication - MAIN:148 - Showing splash screen
2025-06-03 11:46:47,138 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:46:47,150 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:46:47,184 - INFO - EDSIApplication - MAIN:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:46:52,296 - INFO - EDSIApplication - MAIN:156 - Showing login dialog
2025-06-03 11:47:04,749 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'ADMIN', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:47:04,908 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:47:04,908 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:47:04,909 - INFO - EDSIApplication - MAIN:174 - User 'ADMIN' logged in successfully
2025-06-03 11:47:04,921 - INFO - EDSIApplication - MAIN:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:47:04,924 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:47:04,925 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:47:04,930 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:47:04,930 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:47:05,042 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:47:05,046 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:47:05,047 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:47:05,050 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:47:05,065 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:47:05,068 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:47:05,110 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:47:05,112 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:47:05,112 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:47:05,158 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:47:05,162 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:47:05,163 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:47:05,176 - INFO - EDSIApplication - MAIN:223 - Horse Management Screen shown.
2025-06-03 11:47:05,204 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:47:05,204 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:47:05,209 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 11:47:05,212 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 11:47:05,214 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:47:05,214 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:47:08,344 - INFO - EDSIApplication - MAIN:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:47:08,344 - INFO - EDSIApplication - MAIN:252 - Creating new User Management Screen instance.
2025-06-03 11:47:08,346 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:47:08,346 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:47:08,347 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:47:08,347 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,347 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:47:08,366 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,366 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:47:08,415 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:47:08,415 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:47:08,421 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:47:08,421 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:47:08,422 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,422 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:47:08,436 - INFO - EDSIApplication - MAIN:262 - User Management Screen shown.
2025-06-03 11:47:11,096 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:47:11,096 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:47:11,100 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 2 charge codes.
2025-06-03 11:47:13,732 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 1
2025-06-03 11:48:06,876 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 11:48:06,885 - INFO - EDSIApplication - MAIN:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 11:48:07,677 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 11:48:07,677 - INFO - EDSIApplication - MAIN:280 - Main application screen (Horse Management) is closing.
2025-06-03 11:48:07,677 - INFO - EDSIApplication - MAIN:282 - Main screen closed by user; initiating application quit.
2025-06-03 11:48:07,678 - INFO - EDSIApplication - MAIN:286 - Application quit requested.
2025-06-03 11:48:07,689 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 11:48:07,690 - INFO - EDSIApplication - MAIN:348 - Application finished with exit code: 0
2025-06-03 11:48:07,690 - INFO - root - MAIN:372 - Application exiting with code 0
2025-06-03 11:51:40,098 - INFO - root - MAIN:126 - Logging configured (Console and File)
2025-06-03 11:51:40,098 - INFO - EDSIApplication - MAIN:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:132 - Initializing database...
2025-06-03 11:51:40,102 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:51:40,109 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:51:40,109 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:51:40,112 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:51:40,113 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:51:40,113 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:51:40,290 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:51:40,292 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:51:40,293 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:51:40,295 - INFO - EDSIApplication - MAIN:137 - Database initialized successfully
2025-06-03 11:51:40,295 - INFO - EDSIApplication - MAIN:148 - Showing splash screen
2025-06-03 11:51:40,296 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:51:40,301 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:51:40,335 - INFO - EDSIApplication - MAIN:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:51:42,610 - INFO - EDSIApplication - MAIN:156 - Showing login dialog
2025-06-03 11:51:52,347 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:51:52,511 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:51:52,512 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:51:52,513 - INFO - EDSIApplication - MAIN:174 - User 'ADMIN' logged in successfully
2025-06-03 11:51:52,525 - INFO - EDSIApplication - MAIN:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:51:52,526 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:51:52,526 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:51:52,528 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:51:52,529 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:51:52,532 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:51:52,537 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:51:52,537 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:51:52,694 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:51:52,697 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:51:52,698 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:51:52,703 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:51:52,762 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:51:52,763 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:51:52,763 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:51:52,813 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:51:52,815 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:51:52,816 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:51:52,827 - INFO - EDSIApplication - MAIN:223 - Horse Management Screen shown.
2025-06-03 11:51:52,852 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:51:52,852 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:51:52,857 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 11:51:52,858 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 11:51:52,862 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:51:52,862 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:51:54,908 - INFO - EDSIApplication - MAIN:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:51:54,908 - INFO - EDSIApplication - MAIN:252 - Creating new User Management Screen instance.
2025-06-03 11:51:54,910 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:51:54,911 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:51:54,912 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:51:54,912 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,912 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:51:54,930 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,930 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:51:54,977 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:51:54,980 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:51:54,980 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:51:54,983 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:51:55,000 - INFO - EDSIApplication - MAIN:262 - User Management Screen shown.
2025-06-03 11:51:58,862 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:51:58,862 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:51:58,868 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 2 charge codes.
2025-06-03 11:54:12,368 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '414' created successfully (ID: 3) by ADMIN.
2025-06-03 11:54:12,369 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 11:54:14,236 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:54:14,237 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 3 charge codes.
2025-06-03 11:54:14,239 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 11:55:59,523 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '20' created successfully (ID: 4) by ADMIN.
2025-06-03 11:55:59,523 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 11:56:01,290 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:56:01,292 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:56:01,294 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 11:56:21,946 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:56:26,643 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code '20' (ID: 4) updated by ADMIN.
2025-06-03 11:56:26,643 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 11:56:32,749 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:56:32,751 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:56:32,754 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:56:32,755 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '20' updated.
2025-06-03 11:57:03,720 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:58:51,915 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:59:03,984 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 11:59:05,434 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 11:59:06,800 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 11:59:06,800 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 11:59:06,802 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:59:06,803 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:59:06,806 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:59:11,492 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:00,195 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:05,665 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to active by None.
2025-06-03 12:06:05,665 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:06:05,667 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:05,668 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:05,672 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:06:10,972 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:13,966 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:16,958 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 12:06:16,960 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:06:16,960 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:16,961 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:16,964 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:06:20,253 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:21,746 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:25,827 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to active by None.
2025-06-03 12:06:25,827 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:06:25,828 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:25,828 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:25,832 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:07:11,376 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 12:07:11,416 - INFO - EDSIApplication - MAIN:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 12:07:12,181 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:07:12,181 - INFO - EDSIApplication - MAIN:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:07:12,183 - INFO - EDSIApplication - MAIN:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:07:12,183 - INFO - EDSIApplication - MAIN:286 - Application quit requested.
2025-06-03 12:07:12,202 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:07:12,207 - INFO - EDSIApplication - MAIN:348 - Application finished with exit code: 0
2025-06-03 12:07:12,210 - INFO - root - MAIN:372 - Application exiting with code 0
2025-06-03 12:10:24,897 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:10:24,897 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:10:24,905 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:10:24,905 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:10:25,083 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:10:25,085 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:10:25,086 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:10:25,086 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:10:25,086 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:10:25,086 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:10:25,091 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:10:25,124 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:10:27,136 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:10:36,438 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:10:36,603 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:10:36,603 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:10:36,604 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:10:36,613 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:10:36,615 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:10:36,615 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:10:36,616 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:10:36,616 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:10:36,619 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:10:36,625 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:10:36,625 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:10:36,785 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:10:36,790 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:10:36,791 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:10:36,796 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:10:36,810 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:10:36,857 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:10:36,859 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:10:36,859 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:10:36,912 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:10:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:10:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:10:36,929 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:10:36,951 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:10:36,952 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:10:36,955 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 12:10:36,957 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 12:10:36,960 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:10:36,960 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:10:41,555 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 12:10:41,555 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 12:10:41,562 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 12:11:10,340 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 12:11:10,340 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,342 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,344 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,353 - INFO - HorseController - horse_controller:179 - Horse 'Doroni' (ID: 1) created successfully by ADMIN.
2025-06-03 12:11:10,354 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Doroni' created successfully.
2025-06-03 12:11:10,354 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Doroni' created successfully.
2025-06-03 12:11:12,546 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:12,546 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:11:12,549 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:11:12,552 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:11:12,553 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:12,554 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:12,559 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:12,559 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 12:11:17,284 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-03 12:11:19,838 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-03 12:11:21,123 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-03 12:11:21,130 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-03 12:11:21,132 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 12:11:23,110 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 12:11:23,110 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:23,113 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:23,115 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:25,908 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-03 12:11:25,912 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 12:11:27,207 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-03 12:11:28,229 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 1
2025-06-03 12:11:28,234 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-03 12:11:28,236 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-03 12:11:28,236 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-03 12:11:28,237 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-03 12:11:28,237 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:28,239 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:28,242 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:28,242 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 12:11:40,120 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:11:40,120 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:11:40,121 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:11:40,122 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:11:40,122 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:11:40,124 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,124 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:11:40,143 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,143 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:11:40,199 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:11:40,199 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:11:40,202 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:11:40,204 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:11:40,204 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:11:40,206 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,206 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:11:40,223 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:11:42,173 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:11:42,174 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:11:42,176 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:11:42,182 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:11:50,793 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:11:56,487 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:11:56,488 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:11:58,723 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:11:58,724 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:11:58,727 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:11:58,730 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:11:58,730 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:12:03,435 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:03,436 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:12:03,439 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:12:07,474 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:07,475 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:07,478 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:12:16,380 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:12:26,931 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:12:26,931 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:12:29,826 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:29,828 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:29,829 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:12:29,832 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:12:29,832 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:12:33,534 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:12:35,443 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:35,444 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:12:35,446 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:12:35,446 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:12:36,988 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:36,988 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:36,993 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:13:11,178 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:13:21,067 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:13:21,067 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:13:23,665 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:13:23,666 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:13:23,666 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:13:23,669 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:13:23,669 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:26:49,134 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:26:49,136 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:26:49,137 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:26:49,139 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 12:26:49,139 - INFO - UserManagementScreen - user_management_screen:1275 - User Management screen closing.
2025-06-03 12:26:49,152 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:26:49,155 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 12:26:49,155 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 12:27:33,629 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:27:33,629 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:27:33,638 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:27:33,638 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:27:33,641 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:27:33,641 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:27:33,642 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:27:33,817 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:27:33,819 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:27:33,820 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:27:33,820 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:27:33,820 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:27:33,820 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:27:33,825 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:27:33,857 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:27:39,148 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:27:49,358 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:27:49,520 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:27:49,522 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:27:49,523 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:27:49,536 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:27:49,536 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:27:49,536 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:27:49,537 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:27:49,539 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:27:49,542 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:27:49,548 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:27:49,548 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:27:49,699 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:27:49,703 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:27:49,705 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:27:49,710 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:27:49,729 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:27:49,729 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:27:49,772 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:27:49,774 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:27:49,774 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:27:49,820 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:27:49,823 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:27:49,823 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:27:49,837 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:27:49,862 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:27:49,862 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:27:49,869 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:27:49,875 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:27:49,875 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:27:49,878 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:27:49,888 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:27:49,888 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:28:19,092 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:28:19,092 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:28:19,095 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,095 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:28:19,114 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,114 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:28:19,172 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:28:19,174 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:28:19,174 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:28:19,177 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:28:19,177 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:28:19,177 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,179 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:28:19,195 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:28:21,832 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:28:21,833 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:21,833 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:28:21,836 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:21,908 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:28:29,102 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:29,103 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:28:29,104 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 0 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 0 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:29,114 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:28:30,633 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:30,633 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: all
2025-06-03 12:28:30,636 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:30,645 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:33:26,958 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:33:26,960 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:33:26,967 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:33:26,967 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:33:27,147 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:33:27,150 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:33:27,150 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:33:27,150 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:33:27,150 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:33:27,150 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:33:27,156 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:33:27,193 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:33:53,913 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:34:04,617 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:34:04,780 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:34:04,782 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:34:04,783 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:34:04,793 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:34:04,793 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:34:04,793 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:34:04,795 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:34:04,796 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:34:04,798 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:34:04,804 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:34:04,804 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:34:04,950 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:34:04,953 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:34:04,955 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:34:04,959 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:34:04,974 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:34:04,974 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:34:05,019 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:34:05,019 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:34:05,020 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:34:05,068 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:34:05,071 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:34:05,071 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:34:05,083 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:34:05,108 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:34:05,108 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:34:05,116 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:34:05,120 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:34:05,123 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:34:05,126 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:34:05,134 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:34:05,134 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:34:07,440 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:34:07,440 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:34:07,443 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:34:07,443 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:34:07,445 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:34:07,445 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,445 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:34:07,464 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,464 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:34:07,521 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:34:07,524 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:34:07,524 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:34:07,527 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:34:07,527 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:34:07,527 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,528 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:34:07,544 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:34:09,779 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:34:09,780 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:09,780 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:09,786 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:15,752 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:34:23,776 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:34:23,776 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': False, 'is_active': False}
2025-06-03 12:34:23,778 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'True' to 'False'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'False'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='False', Taxable='False'
2025-06-03 12:34:23,781 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:34:23,781 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:34:26,092 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:26,092 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:26,094 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:34:26,097 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:26,097 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:34:30,423 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:34:32,492 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:34:34,840 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 12:34:34,842 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:34:34,843 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:34,843 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:34,844 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:34:34,846 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:34:43,909 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:43,911 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:43,914 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:34:45,859 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:45,860 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:45,864 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:34:49,069 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:49,069 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:49,074 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:34:52,963 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:52,964 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: all
2025-06-03 12:34:52,969 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:54,616 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:54,616 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:54,619 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:01,243 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:35:08,846 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:35:08,847 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': False, 'is_active': False}
2025-06-03 12:35:08,849 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'False'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'False'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='False', Taxable='False'
2025-06-03 12:35:08,852 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:35:08,852 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:35:10,821 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:10,822 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:35:10,824 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:35:10,825 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:10,825 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:35:12,560 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:35:17,428 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:35:17,428 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:35:17,430 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:35:17,430 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:35:17,431 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:35:17,432 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:35:17,433 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:35:17,433 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:35:19,286 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:19,287 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:35:19,289 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:35:19,290 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:19,292 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:35:22,326 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:22,326 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:35:22,330 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:54:01,922 - INFO - UserManagementScreen - user_management_screen:1275 - User Management screen closing.
2025-06-03 12:54:01,955 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 12:54:02,814 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:54:02,816 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:54:02,817 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:54:02,817 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 12:54:02,835 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:54:02,842 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 12:54:02,847 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 12:54:11,995 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:54:11,996 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:54:11,996 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:54:12,003 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:54:12,003 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:54:12,183 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:54:12,186 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:54:12,186 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:54:12,186 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:54:12,186 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:54:12,186 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:54:12,191 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:54:12,232 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:54:18,157 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:54:28,600 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:54:28,766 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:54:28,767 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:54:28,767 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:54:28,779 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:54:28,780 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:54:28,780 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:54:28,782 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:54:28,783 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:54:28,786 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:54:28,791 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:54:28,792 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:54:28,954 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:54:28,957 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:54:28,958 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:54:28,962 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:54:28,976 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:54:28,976 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:54:29,023 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:54:29,024 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:54:29,024 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:54:29,074 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:54:29,077 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:54:29,077 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:54:29,089 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:54:29,113 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:54:29,114 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:54:29,120 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:54:29,125 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:54:29,126 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:54:29,128 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:54:29,137 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:54:29,137 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:54:41,700 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:54:41,700 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:54:41,703 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,703 - INFO - UserManagementScreen - user_management_screen:265 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:54:41,722 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,722 - INFO - UserManagementScreen - user_management_screen:289 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:54:41,779 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:54:41,780 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:54:41,782 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:54:41,782 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:54:41,783 - INFO - UserManagementScreen - user_management_screen:616 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:54:41,783 - INFO - UserManagementScreen - user_management_screen:295 - Tab changed to index: 0
2025-06-03 12:54:41,784 - INFO - UserManagementScreen - user_management_screen:624 - Loading users data for User Management tab (custom list)...
2025-06-03 12:54:41,787 - INFO - UserManagementScreen - user_management_screen:640 - Loaded 1 users into custom list.
2025-06-03 12:54:41,787 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:54:41,787 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,789 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:54:41,807 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:54:44,817 - INFO - UserManagementScreen - user_management_screen:295 - Tab changed to index: 2
2025-06-03 12:54:44,818 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:44,818 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:54:44,824 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:54:48,683 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:48,684 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:54:48,687 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:54:49,747 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:54:54,827 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:54:54,827 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:54:54,829 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:54:54,832 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:54:54,832 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:54:57,027 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:57,027 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:54:57,030 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:54:57,032 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:54:57,033 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:55:01,723 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:01,725 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:55:01,728 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:55:07,703 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:07,703 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:55:07,706 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:55:09,192 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:55:11,287 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:55:13,370 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 12:55:13,370 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:55:13,373 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:13,373 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:55:13,374 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:55:13,376 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 0 charge codes.
2025-06-03 12:55:16,260 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:16,260 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:55:16,264 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 12:55:30,639 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:56:17,436 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:56:19,413 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 12:56:19,413 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:56:19,414 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:19,416 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:56:19,417 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:56:19,419 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:56:43,122 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:43,122 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:56:43,125 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:56:45,069 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:45,069 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: all
2025-06-03 12:56:45,076 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 12:56:47,082 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:47,082 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:56:47,085 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:56:49,212 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:49,212 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:56:49,215 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:56:50,136 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:56:59,325 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:56:59,325 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:56:59,326 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:56:59,329 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:56:59,329 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:57:01,267 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:01,267 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:57:01,268 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:57:01,270 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:57:01,270 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:57:11,808 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:57:13,514 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:57:15,354 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 12:57:15,354 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:57:15,356 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:15,356 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:57:15,357 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:57:15,357 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 0 charge codes.
2025-06-03 12:57:23,407 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:23,408 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:57:23,412 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 13:06:28,715 - INFO - UserManagementScreen - user_management_screen:1227 - User Management screen closing.
2025-06-03 13:06:28,748 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 13:06:29,466 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:06:29,466 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:06:29,470 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:06:29,471 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:06:29,487 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:06:29,499 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:06:29,500 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:20:45,804 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:20:45,804 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:20:45,812 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:20:45,812 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:20:45,814 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:20:45,816 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:20:45,816 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:20:45,990 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:20:45,993 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:20:45,993 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:20:45,993 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:20:45,993 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:20:45,993 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:20:45,998 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:20:46,034 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:20:51,903 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:21:01,577 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:21:01,737 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:21:01,739 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:21:01,739 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:21:01,749 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:21:01,751 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:21:01,751 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:21:01,752 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:21:01,752 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:21:01,755 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:21:01,761 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:21:01,761 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:21:01,913 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:21:01,916 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:21:01,918 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:21:01,923 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:21:01,983 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:21:01,984 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:21:01,986 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:21:02,034 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:21:02,037 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:21:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:21:02,050 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:21:02,080 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:21:02,080 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:21:02,089 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:21:02,093 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:21:02,094 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:21:02,096 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:21:02,105 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:21:02,105 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:21:16,335 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:21:16,338 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:21:16,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:21:16,340 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:21:16,341 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:21:16,341 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,342 - INFO - UserManagementScreen - user_management_screen:283 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:21:16,362 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,362 - INFO - UserManagementScreen - user_management_screen:315 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:21:16,417 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:21:16,419 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:21:16,419 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - user_management_screen:675 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 0
2025-06-03 13:21:16,422 - INFO - UserManagementScreen - user_management_screen:682 - Loading users data for User Management tab (custom list)...
2025-06-03 13:21:16,424 - INFO - UserManagementScreen - user_management_screen:698 - Loaded 1 users into custom list.
2025-06-03 13:21:16,424 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:21:16,424 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,426 - INFO - UserManagementScreen - user_management_screen:229 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:21:16,442 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:21:19,670 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 1
2025-06-03 13:21:19,670 - INFO - UserManagementScreen - user_management_screen:817 - Loading locations data for tab...
2025-06-03 13:21:19,673 - INFO - UserManagementScreen - user_management_screen:856 - Loaded 3 locations with detailed address.
2025-06-03 13:21:21,114 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 2
2025-06-03 13:21:21,114 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:21,116 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:21,120 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 4 charge codes.
2025-06-03 13:21:23,225 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:21:26,724 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:21:29,205 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 13:21:29,207 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 13:21:29,208 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:29,208 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:29,210 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:21:29,212 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:21:33,477 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:33,477 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:21:33,483 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 1 charge codes.
2025-06-03 13:21:35,564 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:35,564 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:35,569 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:21:37,944 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 3
2025-06-03 13:21:40,364 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:22:15,315 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 4
2025-06-03 13:22:16,669 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:22:20,988 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1027, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1027, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:26:01,472 - INFO - UserManagementScreen - user_management_screen:1285 - User Management screen closing.
2025-06-03 13:26:01,504 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 13:26:02,580 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:26:02,582 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:26:02,583 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:26:02,583 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:26:02,603 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:26:02,609 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:26:02,614 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:28:18,848 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:28:18,848 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:28:18,849 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:28:18,857 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:28:18,857 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:28:18,859 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:28:18,860 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:28:18,860 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:28:19,037 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:28:19,039 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:28:19,039 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:28:19,040 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:28:19,040 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:28:19,040 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:28:19,045 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:28:19,092 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:28:21,442 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:28:33,515 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:28:33,676 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:28:33,676 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:28:33,678 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:28:33,685 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:28:33,687 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:28:33,688 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:28:33,688 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:28:33,690 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:28:33,691 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:28:33,696 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:28:33,697 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:28:33,845 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:28:33,848 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:28:33,850 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:28:33,854 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:28:33,912 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:28:33,914 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:28:33,914 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:28:33,962 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:28:33,965 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:28:33,965 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:28:33,975 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:28:34,002 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:28:34,002 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:28:34,009 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:28:34,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:28:34,015 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:28:34,018 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:28:34,027 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:28:34,028 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:28:36,307 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:28:36,307 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:28:36,308 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,310 - INFO - UserManagementScreen - user_management_screen:283 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:28:36,328 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,328 - INFO - UserManagementScreen - user_management_screen:315 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:28:36,384 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:28:36,384 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - user_management_screen:675 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:28:36,387 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 0
2025-06-03 13:28:36,387 - INFO - UserManagementScreen - user_management_screen:682 - Loading users data for User Management tab (custom list)...
2025-06-03 13:28:36,390 - INFO - UserManagementScreen - user_management_screen:698 - Loaded 1 users into custom list.
2025-06-03 13:28:36,390 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:28:36,392 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,392 - INFO - UserManagementScreen - user_management_screen:229 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:28:36,408 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:28:38,624 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 2
2025-06-03 13:28:38,624 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:38,625 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:28:38,630 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:28:47,844 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:47,844 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:28:47,848 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 1 charge codes.
2025-06-03 13:28:49,040 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:28:50,268 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:28:53,190 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:28:53,193 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:28:53,195 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 0 charge codes.
2025-06-03 13:28:56,492 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:56,494 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:28:56,497 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 4 charge codes.
2025-06-03 13:28:58,480 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:29:20,793 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:29:22,432 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 13:29:22,433 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 13:29:22,433 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:29:22,435 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:29:22,435 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:29:22,438 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:29:23,622 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 4
2025-06-03 13:29:29,416 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 1
2025-06-03 13:29:58,882 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 3
2025-06-03 13:29:58,882 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:29:58,885 - INFO - UserManagementScreen - user_management_screen:1075 - Loading master owners data for tab...
2025-06-03 13:29:58,888 - INFO - UserManagementScreen - user_management_screen:1115 - Loaded 2 master owners.
2025-06-03 13:30:01,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 13:30:01,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 13:30:14,397 - INFO - UserManagementScreen - user_management_screen:1132 - Master Owner selected: 2
2025-06-03 13:30:15,832 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 13:30:15,833 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 13:30:25,075 - INFO - OwnerController - owner_controller:383 - Master Owner 'Sarah Davis' (ID: 2) updated by ADMIN.
2025-06-03 13:30:25,075 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner updated successfully.
2025-06-03 13:30:27,092 - INFO - UserManagementScreen - user_management_screen:1075 - Loading master owners data for tab...
2025-06-03 13:30:27,093 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1128, in _on_master_owner_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1128, in _on_master_owner_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
2025-06-03 13:30:31,623 - INFO - UserManagementScreen - user_management_screen:1115 - Loaded 2 master owners.
2025-06-03 13:30:31,626 - INFO - UserManagementScreen - base_view:322 - Status update: Owner 'Sarah Davis' updated successfully.
2025-06-03 13:35:32,871 - INFO - UserManagementScreen - user_management_screen:1132 - Master Owner selected: 2
2025-06-03 13:42:55,847 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:42:55,848 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:42:55,856 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:42:55,856 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:42:55,857 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:42:55,859 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:42:55,859 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:42:56,035 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:42:56,038 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:42:56,038 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:42:56,038 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:42:56,038 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:42:56,040 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:42:56,044 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:42:56,078 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:42:57,614 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:43:11,888 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:43:12,051 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:43:12,052 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:43:12,052 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:43:12,062 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:43:12,064 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:43:12,064 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:43:12,065 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:43:12,065 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:43:12,068 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:43:12,074 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:43:12,076 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:43:12,244 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:43:12,247 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:43:12,250 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:43:12,254 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:43:12,272 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:43:12,274 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:43:12,319 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:43:12,320 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:43:12,322 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:43:12,370 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:43:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:43:12,374 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:43:12,384 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:43:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:43:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:43:12,416 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:43:12,420 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:43:12,422 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:43:12,425 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:43:12,432 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:43:12,432 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:43:14,434 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:43:14,435 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:43:14,436 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:43:14,437 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:43:14,437 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:43:14,437 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,439 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:43:14,456 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,458 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:43:14,512 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:43:14,513 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:43:14,516 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:43:14,519 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:43:14,519 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:43:14,519 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,521 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:43:14,537 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:43:17,694 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 13:48:28,629 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:48:28,629 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:48:28,631 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:48:28,637 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:48:28,637 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:48:28,640 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:48:28,640 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:48:28,642 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:48:28,818 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:48:28,820 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:48:28,820 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:48:28,821 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:48:28,821 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:48:28,822 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:48:28,826 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:48:28,866 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:48:30,620 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:48:40,333 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:48:40,494 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:48:40,494 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:48:40,495 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:48:40,509 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:48:40,509 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:48:40,510 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:48:40,510 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:48:40,512 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:48:40,514 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:48:40,520 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:48:40,522 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:48:40,672 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:48:40,674 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:48:40,676 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:48:40,680 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:48:40,739 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:48:40,741 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:48:40,741 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:48:40,790 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:48:40,792 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:48:40,792 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:48:40,800 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:48:40,830 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:48:40,831 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:48:40,838 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:48:40,844 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:48:40,844 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:48:40,847 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:48:40,854 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:48:40,856 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:48:43,052 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:48:43,053 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:48:43,053 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:48:43,054 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:48:43,075 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,075 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:48:43,130 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:48:43,130 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:48:43,134 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:48:43,134 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:48:43,137 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:48:43,137 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:48:43,138 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,138 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:48:43,154 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:48:48,838 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 13:48:48,838 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:48:48,839 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:48:48,845 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 3 charge codes.
2025-06-03 13:53:25,430 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:53:25,430 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:53:25,432 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:53:25,433 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:53:25,433 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 13:53:25,463 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:53:25,466 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:53:25,467 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:53:30,365 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:53:30,365 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:53:30,372 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:53:30,372 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:53:30,375 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:53:30,377 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:53:30,377 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:53:30,556 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:53:30,557 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:53:30,557 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:53:30,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:53:30,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:53:30,559 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:53:30,562 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:53:30,602 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:53:32,399 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:53:45,859 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:53:46,024 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:53:46,024 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:53:46,025 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:53:46,037 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:53:46,037 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:53:46,038 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:53:46,038 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:53:46,040 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:53:46,043 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:53:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:53:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:53:46,209 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:53:46,212 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:53:46,214 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:53:46,217 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:53:46,276 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:53:46,277 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:53:46,279 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:53:46,327 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:53:46,330 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:53:46,331 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:53:46,343 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:53:46,367 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:53:46,367 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:53:46,376 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:53:46,380 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:53:46,382 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:53:46,385 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:53:46,394 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:53:46,394 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:53:48,426 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:53:48,427 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:53:48,430 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,430 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:53:48,449 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,449 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:53:48,506 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:53:48,509 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:53:48,509 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:53:48,512 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:53:48,513 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:53:48,513 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,513 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:53:48,531 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:53:50,202 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 13:53:50,202 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:53:50,203 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:53:50,209 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 3 charge codes.
2025-06-03 13:55:23,848 - INFO - ChargeCodeController - charge_code_controller:155 - Charge Code '9' created successfully (ID: 5) by ADMIN.
2025-06-03 13:55:23,848 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 13:55:25,512 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:55:25,512 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:55:25,517 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 13:55:25,517 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 13:55:36,724 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 4
2025-06-03 13:55:42,594 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 4 ---
2025-06-03 13:55:42,594 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': '20', 'alternate_code': 'X', 'description': 'Radiographs - Multiple Views', 'category_id': 10, 'standard_charge': Decimal('15.0')}
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='20', IsActive='True', Taxable='False'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:334 - 'is_active' not in charge_data. Current: 'True'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:345 - 'taxable' not in charge_data. Current: 'False'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='20', IsActive='True', Taxable='False'
2025-06-03 13:55:42,597 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code '20' (ID: 4) updated successfully by ADMIN.
2025-06-03 13:55:42,597 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 13:55:44,508 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:55:44,508 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:55:44,511 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: None
2025-06-03 13:55:44,514 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 13:55:44,514 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '20' updated.
2025-06-03 13:55:57,700 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:55:57,700 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:55:57,703 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:56:15,002 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 13:58:56,925 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:58:56,925 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:58:56,926 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:58:56,934 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:58:56,934 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:58:56,937 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:58:56,938 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:58:56,938 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:58:57,115 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:58:57,117 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:58:57,117 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:58:57,118 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:58:57,118 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:58:57,118 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:58:57,123 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:58:57,157 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:59:04,830 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:27:37,855 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admim', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:27:37,857 - WARNING - UserController - user_controller:69 - Login ID 'admim' not found during authentication.
2025-06-03 14:27:39,528 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admim. Reason: Invalid Login ID or Password.
2025-06-03 14:27:45,558 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admim', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:27:45,561 - WARNING - UserController - user_controller:69 - Login ID 'admim' not found during authentication.
2025-06-03 14:27:47,143 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admim. Reason: Invalid Login ID or Password.
2025-06-03 14:28:02,973 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:28:03,137 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 14:28:03,137 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 14:28:03,138 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 14:28:03,148 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 14:28:03,150 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 14:28:03,152 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:28:03,155 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:28:03,158 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:28:03,169 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:28:03,176 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:28:03,177 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:28:03,339 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:28:03,344 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:28:03,345 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:28:03,350 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:28:03,365 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:28:03,368 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:28:03,410 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:28:03,412 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:28:03,413 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:28:03,462 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:28:03,465 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:28:03,465 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:28:03,477 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:28:03,505 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:28:03,505 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:28:03,512 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:28:03,518 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:28:03,520 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:28:03,523 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:28:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:28:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:28:06,830 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:28:06,830 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:28:06,833 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:28:06,834 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:28:06,834 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:28:06,834 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,836 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:28:06,854 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,854 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:28:06,910 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:28:06,911 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 14:28:06,914 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:28:06,917 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 14:28:06,918 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:28:06,918 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,918 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 14:28:06,936 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:28:24,535 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 14:28:51,212 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-03 14:28:51,374 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-03 14:28:51,374 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-03 14:28:51,380 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:28:51,384 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 2 users into custom list.
2025-06-03 14:28:51,384 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-03 14:28:56,493 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 14:28:56,504 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 14:28:59,997 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-03 14:28:59,997 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-03 14:28:59,999 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 14:29:00,000 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 14:29:00,000 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 14:29:00,002 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 14:29:00,012 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 14:29:00,014 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 14:29:06,587 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:29:06,588 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:29:06,594 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:29:06,594 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:29:06,597 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:29:06,599 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:29:06,599 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:29:06,776 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:29:06,778 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:29:06,778 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:29:06,778 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:29:06,778 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:29:06,779 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:29:06,784 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:29:06,824 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:29:08,665 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:29:17,917 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 14:29:18,081 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 14:29:18,082 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 14:29:18,082 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 14:29:18,092 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 14:29:18,093 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 14:29:18,094 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:29:18,094 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:29:18,096 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:29:18,097 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:29:18,105 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:29:18,105 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:29:18,259 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:29:18,263 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:29:18,264 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:29:18,269 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:29:18,285 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:29:18,285 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:29:18,330 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:29:18,332 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:29:18,332 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:29:18,383 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:29:18,386 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:29:18,388 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:29:18,398 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:29:18,423 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:29:18,423 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:29:18,431 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:29:18,435 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:29:18,439 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:29:18,442 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:29:18,449 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:29:18,449 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:29:22,514 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:29:22,514 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:29:22,516 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:29:22,517 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:29:22,517 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:29:22,517 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,519 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:29:22,538 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,538 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:29:22,592 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:29:22,594 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:29:22,597 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 14:29:22,597 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:29:22,600 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 2 users into custom list.
2025-06-03 14:29:22,602 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:29:22,602 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,603 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-06-03 14:29:22,619 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:29:25,538 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 1
2025-06-03 14:29:25,538 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:29:25,542 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 3 locations with detailed address.
2025-06-03 14:29:27,327 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 14:34:46,974 - INFO - LocationController - location_controller:186 - Location 'Quail Pond Farms' (ID: 4) created by tm.
2025-06-03 14:34:46,974 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-03 14:34:48,793 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:34:48,795 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 4 locations with detailed address.
2025-06-03 14:34:48,795 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-03 14:34:52,206 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: 4
2025-06-03 14:34:56,092 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to permanently delete Location 'Quail Pond Farms' (ID: 4)?
2025-06-03 14:34:58,327 - WARNING - LocationController - location_controller:382 - Attempting hard delete of location ID 4 ('Quail Pond Farms') by user tm.
2025-06-03 14:34:58,333 - INFO - LocationController - location_controller:388 - Location ID 4 ('Quail Pond Farms') permanently deleted by tm.
2025-06-03 14:34:58,333 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Quail Pond Farms' permanently deleted.
2025-06-03 14:34:58,334 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:34:58,334 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: None
2025-06-03 14:34:58,336 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 3 locations with detailed address.
2025-06-03 14:35:08,303 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: 1
2025-06-03 14:35:09,704 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 14:35:27,069 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 14:35:27,069 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: None
2025-06-03 14:35:27,070 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 14:35:27,070 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 14:35:27,076 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 14:35:30,732 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 3
2025-06-03 14:35:30,733 - INFO - UserManagementScreen - user_management_screen:1018 - Loading master owners data for tab...
2025-06-03 14:35:30,734 - INFO - UserManagementScreen - user_management_screen:1058 - Loaded 2 master owners.
2025-06-03 14:35:32,793 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:35:32,794 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:38:10,167 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 14:38:10,168 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 14:38:10,170 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 14:38:10,174 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 14:38:11,753 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 3
2025-06-03 14:38:49,984 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 5
2025-06-03 14:40:37,159 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 3
2025-06-03 14:41:56,319 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 3
2025-06-03 14:41:56,322 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: None
2025-06-03 14:41:56,324 - INFO - UserManagementScreen - user_management_screen:1018 - Loading master owners data for tab...
2025-06-03 14:41:56,328 - INFO - UserManagementScreen - user_management_screen:1058 - Loaded 2 master owners.
2025-06-03 14:41:58,040 - INFO - UserManagementScreen - user_management_screen:1079 - Master Owner selected (row: 1): 1
2025-06-03 14:42:10,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:42:10,413 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:42:21,844 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:42:21,848 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:43:04,134 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 14:43:04,134 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 14:43:04,135 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 14:43:04,135 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 14:43:04,137 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 14:43:04,149 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 14:43:04,153 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 14:43:04,154 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 14:54:38,959 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:54:38,959 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:54:38,961 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:54:38,968 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:54:38,968 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:54:38,971 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:54:38,973 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:54:38,973 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:54:39,149 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:54:39,152 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:54:39,152 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:54:39,152 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:54:39,152 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:54:39,152 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:54:39,157 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:54:39,195 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:54:44,022 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:54:54,358 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:54:54,523 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 14:54:54,523 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 14:54:54,524 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 14:54:54,534 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 14:54:54,535 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 14:54:54,535 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:54:54,537 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:54:54,538 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:54:54,540 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:54:54,545 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:54:54,545 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:54:54,703 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:54:54,706 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:54:54,707 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:54:54,712 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:54:54,727 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:54:54,727 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:54:54,770 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:54:54,773 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:54:54,773 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:54:54,824 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:54:54,827 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:54:54,827 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:54:54,841 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:54:54,869 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:54:54,870 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:54:54,877 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:54:54,882 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:54:54,884 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:54:54,887 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:54:54,896 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:54:54,896 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:54:57,430 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:54:57,430 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:54:57,433 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:54:57,434 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:54:57,434 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:54:57,434 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,436 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:54:57,460 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,461 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:54:57,520 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:54:57,521 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:54:57,522 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 14:54:57,524 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:54:57,529 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 14:54:57,547 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:55:04,349 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 14:55:04,351 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 14:55:04,356 - ERROR - ChargeCodeController - charge_code_controller:658 - Error fetching hierarchical charge code categories: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 649, in get_all_charge_code_categories_hierarchical
    .all()
     ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 296, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 589, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 132, in instances
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 113, in instances
    *[
     ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 114, in <listcomp>
    query_entity.row_processor(context, cursor)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 2695, in row_processor
    _instance = loading._instance_processor(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 954, in _instance_processor
    prop.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 1068, in create_row_processor
    strat.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 2958, in create_row_processor
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
2025-06-03 14:55:04,381 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 0 top-level categories into tree.
2025-06-03 14:58:40,028 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:58:40,028 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:58:40,028 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:58:40,030 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:58:40,030 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:58:40,030 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:58:40,035 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:58:40,035 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:58:40,215 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:58:40,217 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:58:40,217 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:58:40,217 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:58:40,217 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:58:40,217 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:58:40,223 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:58:40,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:58:41,902 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:58:50,411 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 14:58:50,572 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 14:58:50,572 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 14:58:50,573 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 14:58:50,583 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 14:58:50,583 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 14:58:50,585 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:58:50,585 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:58:50,586 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:58:50,588 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:58:50,592 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:58:50,592 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:58:50,749 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:58:50,752 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:58:50,753 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:58:50,758 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:58:50,773 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:58:50,774 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:58:50,774 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:58:50,818 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:58:50,819 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:58:50,821 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:58:50,870 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:58:50,873 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:58:50,873 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:58:50,885 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:58:50,908 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:58:50,910 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:58:50,917 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:58:50,922 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:58:50,925 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:58:50,928 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:58:50,935 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:58:50,935 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:58:53,119 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:58:53,120 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:58:53,120 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:58:53,122 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:58:53,123 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:58:53,123 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,123 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:58:53,150 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,150 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:58:53,212 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:58:53,212 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:58:53,215 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 14:58:53,215 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 14:58:53,220 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 14:58:53,220 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:58:53,220 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,221 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-06-03 14:58:53,238 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:58:56,436 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 14:58:56,436 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 14:58:56,439 - ERROR - ChargeCodeController - charge_code_controller:658 - Error fetching hierarchical charge code categories: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 649, in get_all_charge_code_categories_hierarchical
    .all()
     ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 296, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 589, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 132, in instances
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 113, in instances
    *[
     ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 114, in <listcomp>
    query_entity.row_processor(context, cursor)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 2695, in row_processor
    _instance = loading._instance_processor(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 954, in _instance_processor
    prop.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 1068, in create_row_processor
    strat.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 2958, in create_row_processor
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
2025-06-03 14:58:56,447 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 0 top-level categories into tree.
2025-06-03 15:02:48,138 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 15:02:48,139 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 15:02:48,139 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 15:02:48,141 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 15:02:48,142 - INFO - UserManagementScreen - user_management_screen:1637 - User Management screen closing.
2025-06-03 15:02:48,154 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 15:02:48,159 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 15:02:48,159 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 15:09:05,223 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 15:09:05,224 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 15:09:05,230 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 15:09:05,230 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 15:09:05,412 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 15:09:05,414 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 15:09:05,414 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 15:09:05,414 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 15:09:05,414 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 15:09:05,414 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 15:09:05,419 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 15:09:05,466 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 15:09:07,395 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 15:09:17,010 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 15:09:17,171 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 15:09:17,172 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 15:09:17,172 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 15:09:17,182 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 15:09:17,182 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 15:09:17,184 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 15:09:17,184 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 15:09:17,185 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 15:09:17,187 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 15:09:17,193 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 15:09:17,193 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 15:09:17,330 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 15:09:17,334 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 15:09:17,335 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 15:09:17,338 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 15:09:17,356 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 15:09:17,356 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 15:09:17,396 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 15:09:17,398 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 15:09:17,398 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 15:09:17,447 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 15:09:17,450 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 15:09:17,450 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 15:09:17,460 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 15:09:17,487 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 15:09:17,488 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 15:09:17,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 15:09:17,495 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 15:09:17,498 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 15:09:17,498 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 15:09:20,726 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 15:09:20,726 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 15:09:20,735 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 15:09:41,649 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 15:09:41,649 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,652 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,652 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,663 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-03 15:09:41,663 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-03 15:09:41,664 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-03 15:09:43,396 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:43,398 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 15:09:43,399 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 15:09:43,402 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 15:09:43,403 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:43,403 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:43,408 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:43,408 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 15:09:46,038 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-03 15:09:47,226 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-03 15:09:48,317 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 1
2025-06-03 15:09:48,325 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-03 15:09:48,325 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 15:09:50,507 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 15:09:50,507 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:50,510 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:50,512 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:53,418 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-03 15:09:53,422 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 15:09:54,317 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-03 15:09:55,243 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 1
2025-06-03 15:09:55,252 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 3 by ADMIN.
2025-06-03 15:09:55,252 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 1. Emitting signal.
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:55,254 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:55,257 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:55,258 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 15:10:03,828 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 15:10:03,828 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 15:10:03,830 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 15:10:03,832 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 15:10:03,832 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 15:10:03,833 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,833 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 15:10:03,857 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,857 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 15:10:03,914 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 15:10:03,915 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 15:10:03,918 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 15:10:03,918 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 1 users into custom list.
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 15:10:03,922 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 15:10:03,940 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 15:10:06,482 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 15:10:28,234 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-03 15:10:28,394 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-03 15:10:28,394 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-03 15:10:28,400 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 15:10:28,403 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 15:10:28,404 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-03 15:10:30,488 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 15:10:30,488 - INFO - UserManagementScreen - user_management_screen:894 - Loading locations data for tab...
2025-06-03 15:10:30,492 - INFO - UserManagementScreen - user_management_screen:933 - Loaded 3 locations with detailed address.
2025-06-03 15:10:32,889 - INFO - UserManagementScreen - user_management_screen:1139 - Location selected: 1
2025-06-03 15:10:33,956 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 15:10:38,232 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 15:10:38,232 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1135, in _on_location_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1135, in _on_location_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
2025-06-03 15:10:45,572 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:10:45,577 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:06,224 - INFO - UserManagementScreen - user_management_screen:1403 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 15:11:26,398 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Category 'ANTHELMINTICS'?
2025-06-03 15:11:28,659 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 1 with data: {'is_active': False}
2025-06-03 15:11:28,662 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Category 'ANTHELMINTICS' (ID: 1) updated by ADMIN.
2025-06-03 15:11:28,662 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:11:28,662 - INFO - UserManagementScreen - user_management_screen:1407 - CCC selection cleared.
2025-06-03 15:11:28,667 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:28,667 - INFO - UserManagementScreen - base_view:322 - Status update: Category updated successfully.
2025-06-03 15:11:30,439 - INFO - UserManagementScreen - user_management_screen:1403 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 15:11:33,967 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Category 'ANTHELMINTICS'?
2025-06-03 15:11:36,077 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 1 with data: {'is_active': False}
2025-06-03 15:11:36,079 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Category 'ANTHELMINTICS' (ID: 1) updated by ADMIN.
2025-06-03 15:11:36,080 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:11:36,080 - INFO - UserManagementScreen - user_management_screen:1407 - CCC selection cleared.
2025-06-03 15:11:36,083 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:36,085 - INFO - UserManagementScreen - base_view:322 - Status update: Category updated successfully.
2025-06-03 17:16:12,572 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:16:12,572 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:16:12,585 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:16:12,585 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:16:12,608 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:16:12,609 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:16:12,609 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:16:12,797 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:16:12,800 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:16:12,800 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:16:12,800 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:16:12,800 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:16:12,800 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:16:12,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:16:12,856 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:16:21,620 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:16:31,706 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:16:31,867 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:16:31,869 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:16:31,869 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:16:31,879 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:16:31,881 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:16:31,885 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:16:31,890 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:16:31,890 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:16:33,150 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:16:33,154 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:16:33,156 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:16:33,159 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:16:33,175 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:16:33,178 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:16:33,178 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:16:33,222 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:16:33,223 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:16:33,223 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:16:33,279 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:16:33,283 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:16:33,283 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:16:33,296 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:16:33,323 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:16:33,323 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:16:33,329 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:16:33,334 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:16:33,335 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:16:33,337 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:16:33,346 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:16:33,346 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:16:42,403 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:16:42,406 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:16:42,409 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,410 - INFO - UserManagementScreen - user_management_screen:274 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 17:16:42,433 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,433 - INFO - UserManagementScreen - user_management_screen:304 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 17:16:42,492 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 17:16:42,493 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - user_management_screen:808 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 17:16:42,496 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:16:42,496 - INFO - UserManagementScreen - user_management_screen:820 - Loading users data for User Management tab (custom list)...
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - user_management_screen:836 - Loaded 2 users into custom list.
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 17:16:42,500 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - user_management_screen:227 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 17:16:42,519 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 17:16:44,682 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:16:44,682 - INFO - UserManagementScreen - user_management_screen:846 - Loading locations data for tab...
2025-06-03 17:16:44,686 - INFO - UserManagementScreen - user_management_screen:885 - Loaded 3 locations with detailed address.
2025-06-03 17:16:50,165 - INFO - UserManagementScreen - user_management_screen:1092 - Location selected (row: 0): 1
2025-06-03 17:16:54,095 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:16:54,095 - INFO - UserManagementScreen - user_management_screen:1092 - Location selected (row: -1): None
2025-06-03 17:16:54,106 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
2025-06-03 17:18:42,047 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:18:42,050 - INFO - UserManagementScreen - user_management_screen:895 - Loading charge codes data for tab...
2025-06-03 17:18:42,055 - INFO - UserManagementScreen - user_management_screen:904 - Charge code status filter: active
2025-06-03 17:18:42,059 - INFO - UserManagementScreen - user_management_screen:968 - Loaded 2 charge codes.
2025-06-03 17:18:44,210 - INFO - UserManagementScreen - user_management_screen:1156 - Charge Code selected: 2
2025-06-03 17:18:56,697 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:18:56,697 - INFO - UserManagementScreen - user_management_screen:1156 - Charge Code selected: None
2025-06-03 17:18:56,699 - INFO - UserManagementScreen - user_management_screen:976 - Loading master owners data for tab...
2025-06-03 17:18:56,702 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 2 master owners.
2025-06-03 17:18:58,797 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 17:18:58,799 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 17:19:03,102 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:19:03,103 - INFO - UserManagementScreen - user_management_screen:895 - Loading charge codes data for tab...
2025-06-03 17:19:03,103 - INFO - UserManagementScreen - user_management_screen:904 - Charge code status filter: active
2025-06-03 17:19:03,106 - INFO - UserManagementScreen - user_management_screen:968 - Loaded 2 charge codes.
2025-06-03 17:19:05,162 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:19:05,166 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
2025-06-03 17:19:09,074 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:19:09,075 - INFO - UserManagementScreen - user_management_screen:846 - Loading locations data for tab...
2025-06-03 17:19:09,078 - INFO - UserManagementScreen - user_management_screen:885 - Loaded 3 locations with detailed address.
2025-06-03 17:19:11,412 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:19:11,412 - INFO - UserManagementScreen - user_management_screen:820 - Loading users data for User Management tab (custom list)...
2025-06-03 17:19:11,417 - INFO - UserManagementScreen - user_management_screen:836 - Loaded 2 users into custom list.
2025-06-03 17:19:20,654 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 17:19:20,657 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 17:19:20,663 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 17:19:20,666 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 17:19:20,667 - INFO - UserManagementScreen - user_management_screen:1515 - User Management screen closing.
2025-06-03 17:19:20,737 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 17:19:20,742 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 17:19:20,745 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 17:31:21,353 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:31:21,353 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:31:21,355 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:31:21,362 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:31:21,362 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:31:21,542 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:31:21,545 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:31:21,545 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:31:21,545 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:31:21,545 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:31:21,545 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:31:21,550 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:31:21,593 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:31:24,048 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:31:33,764 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:31:33,926 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:31:33,927 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:31:33,927 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:31:33,939 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:31:33,939 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:31:33,941 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:31:33,942 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:31:33,942 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:31:33,945 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:31:33,951 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:31:33,951 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:31:34,106 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:31:34,109 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:31:34,110 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:31:34,114 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:31:34,129 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:31:34,131 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:31:34,131 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:31:34,132 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:31:34,132 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:31:34,133 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:31:34,174 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:31:34,175 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:31:34,177 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:31:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:31:34,230 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:31:34,230 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:31:34,244 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:31:34,268 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:31:34,268 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:31:34,276 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:31:34,280 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:31:34,282 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:31:34,284 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:31:34,293 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:31:34,293 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:31:38,574 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:31:38,574 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:31:38,576 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - user_management_screen:296 - ****** UserManagementScreen.setup_ui() (v1.12.23) ENTERED ******
2025-06-03 17:31:38,579 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
2025-06-03 17:31:58,826 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:31:58,827 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:31:58,829 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:31:58,830 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:31:58,830 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:31:58,832 - INFO - UserManagementScreen - user_management_screen:296 - ****** UserManagementScreen.setup_ui() (v1.12.23) ENTERED ******
2025-06-03 17:31:58,832 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
2025-06-03 17:50:03,666 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 17:50:03,666 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 17:50:03,667 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 17:50:03,667 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 17:50:03,679 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 17:50:03,682 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 17:50:03,684 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 17:50:45,141 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:50:45,141 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:50:45,142 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:50:45,142 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:50:45,143 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:50:45,143 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:50:45,150 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:50:45,150 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:50:45,153 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:50:45,153 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:50:45,155 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:50:45,330 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:50:45,332 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:50:45,332 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:50:45,333 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:50:45,333 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:50:45,333 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:50:45,337 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:50:45,381 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:50:47,353 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:50:57,274 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:50:57,435 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:50:57,435 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:50:57,437 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:50:57,449 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:50:57,449 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:50:57,449 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:50:57,450 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:50:57,452 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:50:57,453 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:50:57,459 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:50:57,459 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:50:57,604 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:50:57,607 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:50:57,608 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:50:57,613 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:50:57,628 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:50:57,628 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:50:57,672 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:50:57,673 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:50:57,673 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:50:57,722 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:50:57,725 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:50:57,725 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:50:57,737 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:50:57,762 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:50:57,764 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:50:57,772 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:50:57,776 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:50:57,778 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:50:57,781 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:50:57,788 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:50:57,788 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:51:01,339 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:51:01,339 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:51:01,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - user_management_screen:282 - ****** UserManagementScreen.setup_ui() (v1.12.24) ENTERED ******
2025-06-03 17:51:01,364 - INFO - UserManagementScreen - user_management_screen:329 - UserManagementScreen.setup_ui (v1.12.24) FINISHED.
2025-06-03 17:51:01,423 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 17:51:01,424 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 17:51:01,424 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - user_management_screen:809 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:51:01,427 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - user_management_screen:236 - UserManagementScreen (v1.12.24) initialized for user: ADMIN
2025-06-03 17:51:01,449 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 17:51:08,464 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 17:51:12,397 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:51:12,397 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:51:12,400 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:51:14,028 - INFO - UserManagementScreen - user_management_screen:1093 - Location selected (row: 1): 2
2025-06-03 17:51:18,108 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 17:51:23,159 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:51:23,159 - INFO - UserManagementScreen - user_management_screen:1093 - Location selected (row: -1): None
2025-06-03 17:51:23,160 - INFO - UserManagementScreen - user_management_screen:1279 - Loading charge code categories/processes data...
2025-06-03 17:51:23,164 - INFO - UserManagementScreen - user_management_screen:1315 - Loaded 8 top-level categories into tree.
2025-06-03 17:51:28,490 - INFO - UserManagementScreen - user_management_screen:1344 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 17:51:41,859 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:51:41,859 - INFO - UserManagementScreen - user_management_screen:1348 - CCC selection cleared.
2025-06-03 17:51:41,860 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:51:41,860 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:51:41,865 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 17:51:44,251 - INFO - UserManagementScreen - user_management_screen:1157 - Charge Code selected: 2
2025-06-03 17:51:46,388 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:51:46,388 - INFO - UserManagementScreen - user_management_screen:1157 - Charge Code selected: None
2025-06-03 17:51:46,390 - INFO - UserManagementScreen - user_management_screen:977 - Loading master owners data for tab...
2025-06-03 17:51:46,392 - INFO - UserManagementScreen - user_management_screen:1017 - Loaded 2 master owners.
2025-06-03 17:51:51,723 - INFO - UserManagementScreen - user_management_screen:1220 - Master Owner selected (row: 1): 1
2025-06-03 17:51:53,013 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 17:51:53,014 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 17:51:57,323 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:51:57,323 - INFO - UserManagementScreen - user_management_screen:1220 - Master Owner selected (row: -1): None
2025-06-03 17:51:57,325 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:51:57,328 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:52:00,639 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:52:00,639 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:52:00,640 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:52:00,643 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 17:52:31,298 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:52:31,300 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:52:31,303 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:52:47,217 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:52:47,220 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:52:47,227 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:52:52,207 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:52:52,207 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:52:52,210 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:52:55,380 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:52:55,380 - INFO - UserManagementScreen - user_management_screen:977 - Loading master owners data for tab...
2025-06-03 17:52:55,382 - INFO - UserManagementScreen - user_management_screen:1017 - Loaded 2 master owners.
2025-06-03 17:52:56,606 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:52:56,606 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:52:56,609 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:52:56,612 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 18:01:26,151 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:01:26,152 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 18:01:26,152 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 18:01:26,154 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:01:26,154 - INFO - UserManagementScreen - user_management_screen:1620 - User Management screen closing.
2025-06-03 18:01:26,167 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:01:26,173 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:01:26,178 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:02:00,875 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:02:00,875 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:02:00,877 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:02:00,884 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:02:00,884 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:02:00,885 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:02:00,887 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:02:00,887 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:02:01,062 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:02:01,064 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:02:01,064 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:02:01,064 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:02:01,066 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:02:01,066 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:02:01,070 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:02:01,112 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:02:03,357 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:02:14,061 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:02:14,223 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:02:14,223 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:02:14,225 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:02:14,235 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:02:14,235 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:02:14,237 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:02:14,237 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:02:14,238 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:02:14,242 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:02:14,249 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:02:14,250 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:02:14,399 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:02:14,402 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:02:14,404 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:02:14,407 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:02:14,466 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:02:14,469 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:02:14,470 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:02:14,519 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:02:14,523 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:02:14,523 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:02:14,534 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:02:14,560 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:02:14,560 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:02:14,567 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 18:02:14,572 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 18:02:14,572 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 18:02:14,575 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 18:02:14,586 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 18:02:14,586 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:02:17,576 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:02:17,577 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:02:17,579 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:02:17,603 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:02:17,662 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:02:17,664 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:02:17,665 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:02:17,665 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:770 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:782 - Loading users data for User Management tab (custom list)...
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - user_management_screen:798 - Loaded 2 users into custom list.
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:02:17,690 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:02:20,465 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 18:02:24,769 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 18:02:24,769 - INFO - UserManagementScreen - user_management_screen:808 - Loading locations data for tab...
2025-06-03 18:02:24,773 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 3 locations with detailed address.
2025-06-03 18:02:26,085 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:02:30,069 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:02:30,069 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:02:30,073 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:02:37,549 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:02:44,160 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:02:44,160 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:02:44,161 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:02:44,162 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:02:44,166 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:02:52,157 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 18:02:52,157 - INFO - UserManagementScreen - user_management_screen:938 - Loading master owners data for tab...
2025-06-03 18:02:52,160 - INFO - UserManagementScreen - user_management_screen:978 - Loaded 2 master owners.
2025-06-03 18:02:54,539 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 18:02:54,540 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 18:03:00,142 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:03:00,142 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:03:00,147 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:03:32,604 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:03:32,614 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 18:04:02,275 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 18:04:02,277 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 18:04:02,283 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 18:04:30,723 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Confirm Discard - Discard unsaved changes?
2025-06-03 18:04:32,846 - INFO - HorseUnifiedManagement - horse_unified_management:451 - discard_changes: User confirmed discard.
2025-06-03 18:04:32,849 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved changes to current horse?
2025-06-03 18:04:35,332 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 18:04:35,334 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 18:04:35,337 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 18:04:38,655 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 18:04:38,655 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 18:04:38,659 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 18:05:03,906 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 18:05:03,906 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,909 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,909 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,919 - INFO - HorseController - horse_controller:179 - Horse 'Bay Breeze' (ID: 2) created successfully by ADMIN.
2025-06-03 18:05:03,919 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Bay Breeze' created successfully.
2025-06-03 18:05:03,919 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Bay Breeze' created successfully.
2025-06-03 18:05:05,900 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:05,900 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:05:05,903 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:05:05,907 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:05:05,907 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:05:05,909 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:05,910 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:05:05,912 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 18:05:11,710 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:05:11,714 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 18:05:13,214 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Main Stable (Equineville, PA)
2025-06-03 18:05:14,423 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Main Stable') to Horse ID 2
2025-06-03 18:05:14,432 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-03 18:05:14,432 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-03 18:05:14,432 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 1, 'name': 'Main Stable'}
2025-06-03 18:05:14,433 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 18:05:14,435 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:05:14,436 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:14,439 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:05:14,441 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 18:06:21,388 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Bay Breeze
2025-06-03 18:06:21,394 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:06:56,110 - INFO - LocationController - location_controller:186 - Location 'Ev-Ry Farm' (ID: 4) created by ADMIN.
2025-06-03 18:06:56,110 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-03 18:06:57,866 - WARNING - LocationTab - location_tab:255 - AddEditLocationDialog did not return created location details. User may need to assign manually.
2025-06-03 18:06:57,866 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Created - New location created. If not automatically assigned, please use 'Assign Existing Location' to link it.
2025-06-03 18:07:06,020 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:07:06,023 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:07:11,349 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-03 18:07:14,344 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Bay Breeze
2025-06-03 18:07:14,348 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:08:07,827 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-06-03 18:08:11,939 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:08:11,942 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:08:16,002 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-03 18:08:20,303 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:08:20,308 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:08:21,969 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 4, Display: Ev-Ry Farm
2025-06-03 18:08:25,076 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 4 ('Ev-Ry Farm') to Horse ID 2
2025-06-03 18:08:25,081 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 4 by ADMIN.
2025-06-03 18:08:25,082 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 4 to Horse ID 2. Emitting signal.
2025-06-03 18:08:25,082 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 4, 'name': 'Ev-Ry Farm'}
2025-06-03 18:08:25,082 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 18:08:25,084 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:08:25,085 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:08:25,087 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:08:25,089 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 18:08:30,982 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Bay Breeze
2025-06-03 18:08:38,677 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-03 18:08:41,135 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Bay Breeze
2025-06-03 18:12:04,555 - INFO - OwnersTab - owners_tab:306 - Dialog OK. Owner: {'farm_name': 'Ev-Ry Farm', 'account_number': '005493', 'first_name': 'John', 'last_name': 'Jones', 'address_line1': '234 8th St', 'address_line2': '', 'city': 'Mount Laurel', 'state_code': 'NJ', 'zip_code': '08054', 'country_name': 'USA', 'phone': '4564565666', 'email': '', 'is_active': True}, Percentage: 100.0
2025-06-03 18:12:04,562 - INFO - OwnerController - owner_controller:292 - Master Owner 'Ev-Ry Farm (John Jones)' (ID: 3) created by ADMIN.
2025-06-03 18:12:04,567 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 2 by ADMIN.
2025-06-03 18:12:04,567 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 18:12:06,586 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 18:12:06,586 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:12:06,590 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:12:06,594 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:15:16,977 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:15:16,977 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:15:16,978 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:15:16,978 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:15:16,980 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:15:16,980 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:15:17,002 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:15:17,062 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:770 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:782 - Loading users data for User Management tab (custom list)...
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - user_management_screen:798 - Loaded 2 users into custom list.
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:15:17,087 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:15:25,539 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:15:25,539 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:15:25,542 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:15:25,544 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:15:28,036 - INFO - UserManagementScreen - user_management_screen:1118 - Charge Code selected: 2
2025-06-03 18:15:29,770 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 18:15:31,880 - INFO - ChargeCodeController - charge_code_controller:381 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 18:15:31,880 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 18:15:31,881 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:15:31,882 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:15:31,882 - INFO - UserManagementScreen - user_management_screen:1118 - Charge Code selected: None
2025-06-03 18:15:31,884 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 1 charge codes.
2025-06-03 18:17:09,335 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '9' created (ID: 3) by ADMIN.
2025-06-03 18:17:09,335 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:17:11,193 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:17:11,193 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:17:11,198 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:17:11,198 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:19:12,322 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '13' created (ID: 4) by ADMIN.
2025-06-03 18:19:12,322 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:19:14,191 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:19:14,192 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:19:14,195 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 3 charge codes.
2025-06-03 18:19:14,195 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:22:00,265 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '15' created (ID: 5) by ADMIN.
2025-06-03 18:22:00,265 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:22:02,159 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:22:02,160 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:22:02,164 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 4 charge codes.
2025-06-03 18:22:02,164 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:22:15,107 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:22:15,107 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:22:15,112 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:22:29,429 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:22:38,497 - INFO - ChargeCodeController - charge_code_controller:456 - Attempting to create charge code category with data: {'name': 'test', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:22:38,503 - INFO - ChargeCodeController - charge_code_controller:484 - Charge Code Process 'test' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:22:38,505 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:22:40,259 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:22:40,259 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:22:40,264 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:22:40,265 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'NoneType' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1378, in _add_new_process_to_selected
    f"New Process added under '{self.current_selected_ccc_object.name}'."
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1378, in _add_new_process_to_selected
    f"New Process added under '{self.current_selected_ccc_object.name}'."
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'name'
2025-06-03 18:23:07,190 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=13, Level=1, Name='EXAMINATIONS'
2025-06-03 18:23:08,612 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=43, Level=2, Name='test'
2025-06-03 18:23:12,577 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to delete the Process 'test'? This cannot be undone.
2025-06-03 18:23:15,016 - INFO - ChargeCodeController - charge_code_controller:610 - Charge Code Process 'test' (ID: 43) deleted by ADMIN.
2025-06-03 18:23:15,016 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:23:15,018 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:23:15,021 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:23:15,022 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test' deleted successfully.
2025-06-03 18:24:32,468 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:24:32,492 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 18:24:35,918 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-03 18:24:35,922 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-03 18:24:35,925 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 18:24:35,927 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:24:35,930 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:24:35,934 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:24:35,979 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:24:35,988 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:31:42,222 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:31:42,223 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:31:42,229 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:31:42,229 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:31:42,232 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:31:42,232 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:31:42,234 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:31:42,409 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:31:42,411 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:31:42,411 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:31:42,412 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:31:42,412 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:31:42,412 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:31:42,417 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:31:42,458 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:31:44,400 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:31:54,124 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:31:54,287 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:31:54,287 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:31:54,289 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:31:54,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:31:54,299 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:31:54,299 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:31:54,300 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:31:54,302 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:31:54,303 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:31:54,307 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:31:54,309 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:31:54,465 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:31:54,468 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:31:54,470 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:31:54,474 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:31:54,489 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:31:54,492 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:31:54,533 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:31:54,534 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:31:54,534 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:31:54,585 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:31:54,588 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:31:54,588 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:31:54,600 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:31:54,622 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:31:54,622 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:31:54,629 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:31:54,635 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:31:54,637 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:31:54,638 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:31:54,647 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:31:54,649 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:31:56,698 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:31:56,700 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:31:56,700 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:31:56,725 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:31:56,786 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - user_management_screen:765 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:31:56,789 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:31:56,789 - INFO - UserManagementScreen - user_management_screen:777 - Loading users data for User Management tab (custom list)...
2025-06-03 18:31:56,793 - INFO - UserManagementScreen - user_management_screen:793 - Loaded 2 users into custom list.
2025-06-03 18:31:56,793 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:31:56,794 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:31:56,812 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:32:10,850 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:32:10,850 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:10,857 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:13,077 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:32:22,144 - INFO - ChargeCodeController - charge_code_controller:456 - Attempting to create charge code category with data: {'name': 'test2', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:32:22,152 - INFO - ChargeCodeController - charge_code_controller:484 - Charge Code Process 'test2' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:32:22,152 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:32:23,864 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:23,864 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:23,870 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:23,870 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 18:32:26,264 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=43, Level=2, Name='test2'
2025-06-03 18:32:30,486 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to delete the Process 'test2'? This cannot be undone.
2025-06-03 18:32:33,902 - INFO - ChargeCodeController - charge_code_controller:610 - Charge Code Process 'test2' (ID: 43) deleted by ADMIN.
2025-06-03 18:32:33,903 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:33,904 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:33,908 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:33,908 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test2' deleted successfully.
2025-06-03 18:32:39,664 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:32:41,612 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'DISPENSED'?
2025-06-03 18:32:47,106 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 3 with data: {'is_active': False, 'name': 'DISPENSED'}
2025-06-03 18:32:47,107 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Process 'DISPENSED' (ID: 3) updated by ADMIN.
2025-06-03 18:32:47,107 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:47,109 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:47,112 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:47,113 - INFO - UserManagementScreen - base_view:322 - Status update: Process updated successfully.
2025-06-03 18:32:50,642 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:32:54,548 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'DISPENSED'?
2025-06-03 18:32:56,541 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 3 with data: {'is_active': False, 'name': 'DISPENSED'}
2025-06-03 18:32:56,542 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Process 'DISPENSED' (ID: 3) updated by ADMIN.
2025-06-03 18:32:56,542 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:56,544 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:56,547 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:56,547 - INFO - UserManagementScreen - base_view:322 - Status update: Process updated successfully.
2025-06-03 18:40:20,734 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:40:20,786 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 18:40:20,821 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 18:40:20,864 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:40:20,897 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:40:21,295 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:40:21,318 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:40:21,341 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:41:52,552 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:41:52,552 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:41:52,553 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:41:52,560 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:41:52,560 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:41:52,562 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:41:52,564 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:41:52,564 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:41:52,739 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:41:52,742 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:41:52,742 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:41:52,742 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:41:52,742 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:41:52,742 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:41:52,748 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:41:52,790 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:41:54,132 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:46:19,798 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:46:19,963 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:46:19,963 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:46:19,964 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:46:19,976 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:46:19,976 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:46:19,977 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:46:19,977 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:46:19,979 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:46:19,980 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:46:19,988 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:46:19,988 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:46:20,150 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:46:20,153 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:46:20,154 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:46:20,159 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:46:20,216 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:46:20,219 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:46:20,219 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:46:20,270 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:46:20,273 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:46:20,273 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:46:20,285 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:46:20,313 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:46:20,313 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:46:20,320 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:46:20,326 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:46:20,328 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:46:20,331 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:46:20,338 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:46:20,338 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:47:45,941 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:47:45,942 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:47:45,943 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:47:45,943 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:47:45,944 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:47:45,944 - INFO - UserManagementScreen - user_management_screen:290 - ****** UserManagementScreen.setup_ui() (v1.12.26) ENTERED ******
2025-06-03 18:47:45,966 - INFO - UserManagementScreen - user_management_screen:323 - UserManagementScreen.setup_ui (v1.12.26) FINISHED.
2025-06-03 18:47:46,028 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:47:46,031 - INFO - UserManagementScreen - user_management_screen:834 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:47:46,031 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:47:46,033 - INFO - UserManagementScreen - user_management_screen:846 - Loading users data for User Management tab (custom list)...
2025-06-03 18:47:46,036 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 2 users into custom list.
2025-06-03 18:47:46,037 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:47:46,037 - INFO - UserManagementScreen - user_management_screen:244 - UserManagementScreen (v1.12.26) initialized for user: ADMIN
2025-06-03 18:47:46,057 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:47:48,376 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:47:48,376 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:48,378 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:47:48,382 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:47:52,631 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:52,632 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: inactive
2025-06-03 18:47:52,633 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 0 top-level categories into tree based on filter 'inactive'.
2025-06-03 18:47:54,454 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:54,454 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:47:54,458 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:47:56,898 - INFO - UserManagementScreen - user_management_screen:1420 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:48:03,536 - INFO - ChargeCodeController - charge_code_controller:399 - Attempting to create charge code category with data: {'name': 'test', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:48:03,542 - INFO - ChargeCodeController - charge_code_controller:421 - Charge Code Process 'test' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:48:03,542 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:48:05,203 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:05,203 - INFO - UserManagementScreen - user_management_screen:1424 - CCC selection cleared.
2025-06-03 18:48:05,206 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:05,209 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:48:05,209 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 18:48:06,540 - INFO - UserManagementScreen - user_management_screen:1420 - CCC selected: ID=43, Level=2, Name='test'
2025-06-03 18:48:09,659 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'test'?
2025-06-03 18:48:11,977 - INFO - ChargeCodeController - charge_code_controller:542 - Process 'test' (ID: 43) status changed to inactive by ADMIN.
2025-06-03 18:48:11,977 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:11,979 - INFO - UserManagementScreen - user_management_screen:1424 - CCC selection cleared.
2025-06-03 18:48:11,979 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:11,982 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:48:11,983 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test' status set to inactive.
2025-06-03 18:48:14,410 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:14,412 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: inactive
2025-06-03 18:48:14,413 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 0 top-level categories into tree based on filter 'inactive'.
2025-06-03 18:48:17,624 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:17,624 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:17,628 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:52:26,029 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:52:26,030 - INFO - UserManagementScreen - user_management_screen:921 - Loading charge codes data for tab...
2025-06-03 18:52:26,036 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 18:52:26,042 - INFO - UserManagementScreen - user_management_screen:994 - Loaded 4 charge codes.
2025-06-03 19:33:48,692 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:33:48,692 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:33:48,692 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:33:48,693 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:33:48,693 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:33:48,693 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:33:48,700 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:33:48,700 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:33:48,703 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:33:48,705 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:33:48,705 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:33:48,883 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:33:48,885 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:33:48,885 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:33:48,885 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:33:48,885 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:33:48,886 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:33:48,892 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:33:48,932 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:33:50,562 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:34:02,297 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 19:34:02,462 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 19:34:02,463 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 19:34:02,463 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 19:34:02,476 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:34:02,479 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:34:02,480 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:34:02,487 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:34:02,487 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:34:02,663 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:34:02,666 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:34:02,667 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:34:02,672 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:34:02,688 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:34:02,688 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:34:02,691 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:34:02,733 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:34:02,734 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:34:02,734 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:34:02,788 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:34:02,792 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:34:02,793 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:34:02,804 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:34:02,830 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:34:02,830 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:34:02,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:34:02,844 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:34:02,844 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:34:02,847 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:34:02,855 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:34:02,857 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:34:05,676 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:34:05,678 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:34:05,679 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:34:05,679 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:34:05,681 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:34:05,681 - INFO - UserManagementScreen - user_management_screen:290 - ****** UserManagementScreen.setup_ui() (v1.12.26) ENTERED ******
2025-06-03 19:34:05,703 - INFO - UserManagementScreen - user_management_screen:323 - UserManagementScreen.setup_ui (v1.12.26) FINISHED.
2025-06-03 19:34:05,763 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:34:05,765 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:34:05,765 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - user_management_screen:834 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:34:05,768 - INFO - UserManagementScreen - user_management_screen:846 - Loading users data for User Management tab (custom list)...
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 2 users into custom list.
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - user_management_screen:244 - UserManagementScreen (v1.12.26) initialized for user: tm
2025-06-03 19:34:05,790 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:34:07,610 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:34:07,610 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 19:34:07,612 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 19:34:07,612 - ERROR - UserManagementScreen - user_management_screen:1395 - Error loading charge code categories into tree: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1321, in load_charge_code_categories_data
    self.charge_code_controller.get_all_charge_code_categories_hierarchical(
TypeError: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
2025-06-03 19:34:07,613 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load categories/processes: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
2025-06-03 19:34:18,790 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 19:34:18,790 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 19:34:18,792 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 19:34:18,793 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 19:34:18,793 - INFO - UserManagementScreen - user_management_screen:1698 - User Management screen closing.
2025-06-03 19:34:18,806 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 19:34:18,808 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 19:34:18,809 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 19:41:00,382 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:41:00,382 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:41:00,390 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:41:00,390 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:41:00,393 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:41:00,394 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:41:00,394 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:41:00,570 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:41:00,572 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:41:00,572 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:41:00,574 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:41:00,574 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:41:00,574 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:41:00,579 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:41:00,623 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:41:02,241 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:41:10,251 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 19:41:10,416 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 19:41:10,418 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 19:41:10,418 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 19:41:10,433 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 19:41:10,433 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 19:41:10,434 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:41:10,434 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:41:10,436 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:41:10,439 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:41:10,444 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:41:10,444 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:41:10,600 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:41:10,603 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:41:10,605 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:41:10,608 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:41:10,626 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:41:10,626 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:41:10,666 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:41:10,668 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:41:10,668 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:41:10,718 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:41:10,722 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:41:10,722 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:41:10,733 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:41:10,760 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:41:10,760 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:41:10,767 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:41:10,774 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:41:10,774 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:41:10,777 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:41:10,784 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:41:10,786 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:41:14,498 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:41:14,500 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:41:14,500 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:41:14,501 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:41:14,502 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:41:14,502 - INFO - UserManagementScreen - user_management_screen:277 - ****** UserManagementScreen.setup_ui() (v1.12.27) ENTERED ******
2025-06-03 19:41:14,526 - INFO - UserManagementScreen - user_management_screen:310 - UserManagementScreen.setup_ui (v1.12.27) FINISHED.
2025-06-03 19:41:14,586 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:804 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:41:14,593 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:41:14,593 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:41:14,595 - INFO - UserManagementScreen - user_management_screen:231 - UserManagementScreen (v1.12.27) initialized for user: tm
2025-06-03 19:41:14,614 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:41:17,684 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:41:17,684 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:17,686 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:17,690 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:22,109 - INFO - UserManagementScreen - user_management_screen:1400 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 19:41:32,937 - INFO - ChargeCodeController - charge_code_controller:392 - Attempting to create charge code category with data: {'name': 'test3', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 19:41:32,945 - INFO - ChargeCodeController - charge_code_controller:414 - Charge Code Process 'test3' (ID: 44, Level: 2, ParentID: 1) created by tm.
2025-06-03 19:41:32,945 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 19:41:34,753 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:34,753 - INFO - UserManagementScreen - user_management_screen:1404 - CCC selection cleared.
2025-06-03 19:41:34,756 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:34,759 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:34,759 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 19:41:37,823 - INFO - UserManagementScreen - user_management_screen:1400 - CCC selected: ID=44, Level=2, Name='test3'
2025-06-03 19:41:43,668 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'test3'?
2025-06-03 19:41:46,712 - INFO - ChargeCodeController - charge_code_controller:518 - Process 'test3' (ID: 44) status changed to inactive by tm.
2025-06-03 19:41:46,713 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:46,714 - INFO - UserManagementScreen - user_management_screen:1404 - CCC selection cleared.
2025-06-03 19:41:46,714 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:46,717 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:46,719 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test3' status set to inactive.
2025-06-03 19:41:49,952 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:49,953 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: inactive
2025-06-03 19:41:49,955 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 1 top-level categories in tree based on filter 'inactive'.
2025-06-03 19:42:00,684 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:42:00,684 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:42:00,688 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:42:22,349 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:42:22,350 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:42:22,352 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:42:22,356 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:42:24,667 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 19:42:24,667 - INFO - UserManagementScreen - user_management_screen:972 - Loading master owners data for tab...
2025-06-03 19:42:24,670 - INFO - UserManagementScreen - user_management_screen:1012 - Loaded 3 master owners.
2025-06-03 19:42:30,774 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: ADMIN
2025-06-03 19:42:30,775 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:42:30,777 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:42:30,779 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: tm
2025-06-03 19:42:30,779 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: None
2025-06-03 19:42:30,782 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:42:32,510 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 19:42:32,511 - INFO - UserManagementScreen - user_management_screen:842 - Loading locations data for tab...
2025-06-03 19:42:32,515 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 4 locations with detailed address.
2025-06-03 19:42:37,860 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:42:37,862 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:42:37,863 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:42:37,866 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:43:17,919 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:43:17,921 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: inactive
2025-06-03 19:43:17,925 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 1 charge codes.
2025-06-03 19:43:20,606 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:43:20,606 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:43:20,611 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:43:21,807 - INFO - UserManagementScreen - user_management_screen:1152 - Charge Code selected: 1
2025-06-03 19:44:29,950 - INFO - UserManagementScreen - user_management_screen:1678 - User Management screen closing.
2025-06-03 19:44:29,960 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 19:44:38,595 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:44:38,595 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:44:38,598 - INFO - UserManagementScreen - user_management_screen:277 - ****** UserManagementScreen.setup_ui() (v1.12.27) ENTERED ******
2025-06-03 19:44:38,622 - INFO - UserManagementScreen - user_management_screen:310 - UserManagementScreen.setup_ui (v1.12.27) FINISHED.
2025-06-03 19:44:38,682 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:44:38,683 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:44:38,683 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:804 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - user_management_screen:231 - UserManagementScreen (v1.12.27) initialized for user: tm
2025-06-03 19:44:38,707 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:44:43,264 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:44:43,266 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:44:43,267 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:44:43,270 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:44:55,315 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:44:55,315 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:44:55,316 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:44:55,321 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:47:16,963 - INFO - UserManagementScreen - user_management_screen:1678 - User Management screen closing.
2025-06-03 19:47:17,006 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 19:53:01,500 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-03 19:53:01,500 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-03 19:53:01,503 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 19:53:01,503 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 19:53:01,503 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 19:53:01,505 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 19:53:01,529 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 19:53:01,533 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 19:57:48,497 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:57:48,497 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:57:48,504 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:57:48,504 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:57:48,507 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:57:48,508 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:57:48,508 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:57:48,684 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:57:48,686 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:57:48,686 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:57:48,687 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:57:48,687 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:57:48,687 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:57:48,692 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:57:48,732 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:57:50,600 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:58:11,785 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 19:58:11,950 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 19:58:11,950 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 19:58:11,951 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 19:58:11,962 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 19:58:11,963 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 19:58:11,964 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:58:11,966 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:58:11,967 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:58:11,970 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:58:11,973 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:58:11,975 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:58:12,137 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:58:12,140 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:58:12,143 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:58:12,146 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:58:12,161 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:58:12,207 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:58:12,209 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:58:12,209 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:58:12,259 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:58:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:58:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:58:12,274 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:58:12,296 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:58:12,298 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:58:12,307 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:58:12,312 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:58:12,314 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:58:12,316 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:58:12,324 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:58:12,325 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:58:16,113 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:58:16,113 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:58:16,116 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-03 19:58:16,139 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-03 19:58:16,199 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:58:16,199 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:58:16,200 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:58:16,200 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:58:16,202 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:58:16,202 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:58:16,203 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-03 19:58:16,206 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-03 19:58:16,206 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:58:16,207 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-03 19:58:16,226 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:58:20,531 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:58:20,532 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-03 19:58:20,532 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-03 19:58:20,538 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:58:25,804 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:58:25,805 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-03 19:58:25,807 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-03 19:58:25,812 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 4 charge codes.
2025-06-03 19:58:43,364 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-03 19:58:43,374 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 20:16:38,364 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 20:16:38,365 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 20:16:38,367 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 20:16:38,367 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 20:16:38,384 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 20:16:38,390 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 20:16:38,396 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 17:35:49,782 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 17:35:49,782 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 17:35:49,783 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 17:35:49,799 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-04 17:35:49,799 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-04 17:35:49,884 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-04 17:35:49,885 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-04 17:35:49,885 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 17:35:50,073 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-04 17:35:50,075 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 17:35:50,075 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-04 17:35:50,076 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 17:35:50,076 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 17:35:50,076 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 17:35:50,089 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 17:35:50,131 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 17:35:51,715 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 17:36:07,642 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 17:36:07,804 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 17:36:07,804 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 17:36:07,806 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 17:36:07,817 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 17:36:07,819 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 17:36:07,826 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 17:36:07,826 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 17:36:09,036 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 17:36:09,039 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 17:36:09,040 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 17:36:09,044 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 17:36:09,060 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 17:36:09,062 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 17:36:09,106 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 17:36:09,107 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 17:36:09,107 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 17:36:09,162 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 17:36:09,166 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 17:36:09,166 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 17:36:09,182 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 17:36:09,217 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 17:36:09,218 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 17:36:09,226 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 17:36:09,232 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 17:36:09,233 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 17:36:09,236 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 17:36:09,244 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 17:36:09,244 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 17:36:12,447 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 17:36:12,447 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 17:36:12,450 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 17:36:12,473 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 17:36:12,531 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-04 17:36:12,560 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 17:36:17,101 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 17:36:17,101 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 17:36:17,103 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 17:36:17,107 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 17:36:19,526 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 17:36:19,527 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 17:36:19,528 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 17:36:19,533 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 4 charge codes.
2025-06-04 18:49:13,181 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: ADMIN
2025-06-04 18:49:13,183 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 18:49:13,184 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 18:49:13,185 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: tm
2025-06-04 18:49:13,185 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: None
2025-06-04 18:49:13,187 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 19:00:09,687 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: ADMIN
2025-06-04 19:00:09,688 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 19:00:09,699 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-04 19:00:10,545 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 19:00:10,546 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 19:00:10,547 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 19:00:10,547 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:00:10,555 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 19:00:10,557 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:00:10,558 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:01:52,623 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:01:52,624 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:01:52,624 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:01:52,625 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:01:52,625 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:01:52,625 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:01:52,633 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-04 19:01:52,633 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-04 19:01:52,635 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-04 19:01:52,636 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-04 19:01:52,636 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:01:52,814 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:01:52,816 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:01:52,816 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-04 19:01:52,817 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:01:52,817 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:01:52,817 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:01:52,821 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:01:52,860 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:01:57,157 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:01:57,169 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:01:57,169 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:35:21,938 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:35:21,939 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:35:21,939 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:35:21,952 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:35:21,952 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:35:21,970 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:35:21,971 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:35:21,971 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:35:21,994 - ERROR - DatabaseManager - database_config:310 - Error ensuring default admin user: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\config\database_config.py", line 208, in _ensure_default_admin_user
    session.query(Role).filter(Role.name == admin_role_name).first()
    ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 288, in _set_entities
    self._raw_columns = [
                        ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in <listcomp>
    coercions.expect(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\coercions.py", line 406, in expect
    insp._post_inspect
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 579, in init
    self.do_init()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2306, in __init__
    self._determine_joins()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1341, in _join_condition
    constraints = cls._joincond_scan_left_right(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1450, in _joincond_scan_left_right
    col = fk.get_referent(b)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3022, in get_referent
    return table.columns.corresponding_column(self.column)  # type: ignore
                                              ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1146, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3159, in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3198, in _resolve_column
    return self._link_to_col_by_colstring(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3120, in _link_to_col_by_colstring
    raise exc.NoReferencedColumnError(
sqlalchemy.exc.NoReferencedColumnError: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
2025-06-04 19:35:22,057 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:35:22,059 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:35:22,059 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:35:22,060 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:35:22,071 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:35:22,121 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:35:24,527 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:35:34,344 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:35:34,345 - ERROR - UserController - user_controller:110 - Database error during authentication for 'admin': One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Transaction(transactions)]'. Original exception was: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 63, in authenticate_user
    session.query(User)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 288, in _set_entities
    self._raw_columns = [
                        ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in <listcomp>
    coercions.expect(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\coercions.py", line 406, in expect
    insp._post_inspect
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Transaction(transactions)]'. Original exception was: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
2025-06-04 19:35:39,780 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An error occurred during login. Please try again.
2025-06-04 19:36:16,127 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-06-04 19:36:17,213 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:36:17,222 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:36:17,223 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:38:10,551 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:38:10,552 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:38:10,559 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:38:10,559 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:38:10,562 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:38:10,563 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:38:10,563 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:38:10,744 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:38:10,746 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:38:10,746 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:38:10,746 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:38:10,746 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:38:10,747 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:38:10,752 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:38:10,792 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:38:17,457 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:38:26,593 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:38:26,753 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 19:38:26,754 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 19:38:26,755 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 19:38:26,764 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 19:38:26,766 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 19:38:26,771 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 19:38:26,772 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 19:38:27,962 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 19:38:27,965 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 19:38:27,966 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 19:38:27,970 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 19:38:27,986 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 19:38:27,988 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 19:38:28,031 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 19:38:28,032 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 19:38:28,032 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 19:38:28,092 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 19:38:28,096 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 19:38:28,096 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 19:38:28,111 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 19:38:28,133 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 19:38:28,134 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 19:38:28,141 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 19:38:28,149 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 19:38:28,149 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:38:28,152 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:38:28,161 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:38:28,162 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 19:38:33,597 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-04 19:38:33,598 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 19:38:33,602 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 19:38:40,963 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:38:40,964 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:38:40,967 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:59:14,938 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 19:59:14,939 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 19:59:14,941 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 19:59:14,941 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:59:14,942 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 19:59:14,942 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 19:59:14,967 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:59:14,968 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:59:31,707 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:59:31,707 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:59:31,707 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:59:31,708 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:59:31,708 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:59:31,708 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:59:31,715 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:59:31,715 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:59:31,718 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:59:31,719 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:59:31,719 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:59:31,899 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:59:31,901 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:59:31,901 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:59:31,902 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:59:31,902 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:59:31,902 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:59:31,907 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:59:31,954 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:59:37,745 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:59:47,020 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:59:47,183 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 19:59:47,183 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 19:59:47,184 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 19:59:47,196 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 19:59:47,196 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 19:59:47,196 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 19:59:47,201 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 19:59:47,202 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 19:59:47,347 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 19:59:47,350 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 19:59:47,351 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 19:59:47,355 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 19:59:47,373 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 19:59:47,373 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 19:59:47,415 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 19:59:47,416 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 19:59:47,416 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 19:59:47,469 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 19:59:47,472 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 19:59:47,472 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 19:59:47,486 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 19:59:47,511 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 19:59:47,512 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 19:59:47,518 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 19:59:47,526 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 19:59:47,527 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:59:47,529 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:59:47,537 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:59:47,537 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 19:59:58,738 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-04 19:59:58,739 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 19:59:58,742 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 20:09:28,633 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 20:09:28,633 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 20:09:28,635 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 20:09:28,635 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:09:28,635 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:09:28,636 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:09:28,646 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:09:28,647 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:10:11,157 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:10:11,158 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:10:11,167 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:10:11,167 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:10:11,171 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:10:11,172 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:10:11,172 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:10:11,356 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:10:11,357 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:10:11,358 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:10:11,358 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:10:11,358 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:10:11,358 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:10:11,363 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:10:11,409 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:10:33,962 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:11:24,271 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-04 20:11:24,433 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-04 20:11:24,434 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-04 20:11:24,435 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-04 20:11:24,444 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:11:24,446 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:11:24,449 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:11:24,454 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:11:24,455 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:11:24,608 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:11:24,610 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:11:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:11:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:11:24,632 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:11:24,632 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:11:24,676 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:11:24,677 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:11:24,677 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:11:24,734 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:11:24,737 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:11:24,737 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:11:24,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:11:24,771 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:11:24,772 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:11:24,779 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:11:24,786 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:11:24,787 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:11:24,789 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:11:24,796 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:11:24,797 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:12:02,533 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 20:12:02,533 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 20:12:02,536 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 20:12:02,561 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 20:12:02,624 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: tm
2025-06-04 20:12:02,653 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 20:12:07,723 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:12:07,724 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:12:07,725 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:12:07,728 - ERROR - ChargeCodeController - charge_code_controller:221 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 219, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:12:07,748 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 0 charge codes.
2025-06-04 20:12:09,553 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:12:09,553 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:12:09,554 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:12:09,559 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:12:13,121 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:12:13,122 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:12:13,125 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 4 locations with detailed address.
2025-06-04 20:12:14,530 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:12:14,531 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:12:14,536 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:12:16,783 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:12:16,784 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:12:16,786 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 4 locations with detailed address.
2025-06-04 20:12:17,751 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:12:17,751 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:12:17,752 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:12:17,755 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:12:18,545 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:12:18,545 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:12:18,546 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:12:18,547 - ERROR - ChargeCodeController - charge_code_controller:221 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 219, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:12:18,549 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 0 charge codes.
2025-06-04 20:12:19,263 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-04 20:12:19,263 - INFO - UserManagementScreen - user_management_screen:998 - Loading master owners data for tab...
2025-06-04 20:12:19,265 - INFO - UserManagementScreen - user_management_screen:1038 - Loaded 3 master owners.
2025-06-04 20:12:24,586 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 20:12:24,594 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-04 20:12:54,657 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:12:54,657 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:12:54,658 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:12:54,659 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:12:54,670 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:12:54,672 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:12:54,672 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:15:52,590 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:15:52,591 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:15:52,591 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:15:52,598 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:15:52,598 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:15:52,601 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:15:52,602 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:15:52,603 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:15:52,789 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:15:52,791 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:15:52,791 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:15:52,791 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:15:52,791 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:15:52,792 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:15:52,796 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:15:52,866 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:15:55,012 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:16:04,877 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:16:05,039 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:16:05,040 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:16:05,041 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:16:05,051 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:16:05,051 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:16:05,051 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:16:05,058 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:16:05,059 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:16:05,202 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:16:05,205 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:16:05,206 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:16:05,210 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:16:05,271 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:16:05,273 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:16:05,273 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:16:05,333 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:16:05,336 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:16:05,336 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:16:05,356 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:16:05,378 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:16:05,379 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:16:05,387 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:16:05,394 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:16:05,395 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:16:05,399 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:16:05,409 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:16:05,409 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:18:32,105 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 20:18:32,105 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 20:18:32,106 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 20:18:32,107 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:18:32,107 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:18:32,107 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:18:32,126 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:18:32,128 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:18:36,472 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:18:36,472 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:18:36,473 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:18:36,480 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:18:36,480 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:18:36,484 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:18:36,485 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:18:36,485 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:18:36,666 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:18:36,668 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:18:36,668 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:18:36,668 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:18:36,668 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:18:36,669 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:18:36,673 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:18:36,716 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:18:38,577 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:18:49,252 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:18:49,413 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:18:49,413 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:18:49,415 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:18:49,425 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:18:49,426 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:18:49,426 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:18:49,434 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:18:49,435 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:18:49,573 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:18:49,576 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:18:49,578 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:18:49,582 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:18:49,598 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:18:49,600 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:18:49,641 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:18:49,642 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:18:49,643 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:18:49,699 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:18:49,702 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:18:49,703 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:18:49,714 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:18:49,736 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:18:49,737 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:18:49,743 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:18:49,749 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:18:49,750 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:18:49,753 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:18:49,760 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:18:49,760 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:19:23,956 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:19:23,956 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:19:23,957 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:19:23,958 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:19:23,969 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:19:23,970 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:19:23,971 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:30:58,398 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:30:58,398 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:30:58,399 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:30:58,407 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:30:58,407 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:30:58,409 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:30:58,410 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:30:58,410 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:30:58,590 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:30:58,592 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:30:58,592 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:30:58,592 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:30:58,592 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:30:58,593 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:30:58,598 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:30:58,644 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:31:01,409 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:31:13,648 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:31:13,809 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:31:13,810 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:31:13,811 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:31:13,821 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:31:13,829 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:31:13,962 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 20:31:13,965 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 20:31:13,967 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 20:31:13,972 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 20:31:13,977 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 20:31:13,996 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:31:13,997 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:31:14,054 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:31:14,056 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:31:14,056 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:31:14,111 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 20:31:14,114 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:31:14,114 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:31:14,125 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:31:14,150 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:31:14,150 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:31:14,158 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:31:14,164 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:31:14,165 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 2
2025-06-04 20:31:14,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:31:14,176 - ERROR - FinancialController - financial_controller:259 - Error retrieving transactions for horse ID 2: (sqlite3.OperationalError) no such column: transactions.id
[SQL: SELECT transactions.id AS transactions_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.transaction_type AS transactions_transaction_type, transactions.service_date AS transactions_service_date, transactions.billing_date AS transactions_billing_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_amount AS transactions_total_amount, transactions.administered_by_id AS transactions_administered_by_id, transactions.notes AS transactions_notes, transactions.print_on_statement AS transactions_print_on_statement, transactions.invoice_id AS transactions_invoice_id, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, owners_1.owner_id AS owners_1_owner_id, owners_1.account_number AS owners_1_account_number, owners_1.farm_name AS owners_1_farm_name, owners_1.first_name AS owners_1_first_name, owners_1.last_name AS owners_1_last_name, owners_1.address_line1 AS owners_1_address_line1, owners_1.address_line2 AS owners_1_address_line2, owners_1.city AS owners_1_city, owners_1.state_code AS owners_1_state_code, owners_1.zip_code AS owners_1_zip_code, owners_1.phone AS owners_1_phone, owners_1.mobile_phone AS owners_1_mobile_phone, owners_1.email AS owners_1_email, owners_1.is_active AS owners_1_is_active, owners_1.balance AS owners_1_balance, owners_1.credit_limit AS owners_1_credit_limit, owners_1.billing_terms AS owners_1_billing_terms, owners_1.service_charge_rate AS owners_1_service_charge_rate, owners_1.discount_rate AS owners_1_discount_rate, owners_1.notes AS owners_1_notes, owners_1.created_date AS owners_1_created_date, owners_1.modified_date AS owners_1_modified_date, owners_1.created_by AS owners_1_created_by, owners_1.modified_by AS owners_1_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN owners AS owners_1 ON owners_1.owner_id = transactions.owner_id LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes_1.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_id 
WHERE transactions.horse_id = ? ORDER BY transactions.service_date DESC, transactions.created_date DESC]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: transactions.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 253, in get_transactions_for_horse
    ).all()
      ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: transactions.id
[SQL: SELECT transactions.id AS transactions_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.transaction_type AS transactions_transaction_type, transactions.service_date AS transactions_service_date, transactions.billing_date AS transactions_billing_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_amount AS transactions_total_amount, transactions.administered_by_id AS transactions_administered_by_id, transactions.notes AS transactions_notes, transactions.print_on_statement AS transactions_print_on_statement, transactions.invoice_id AS transactions_invoice_id, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, owners_1.owner_id AS owners_1_owner_id, owners_1.account_number AS owners_1_account_number, owners_1.farm_name AS owners_1_farm_name, owners_1.first_name AS owners_1_first_name, owners_1.last_name AS owners_1_last_name, owners_1.address_line1 AS owners_1_address_line1, owners_1.address_line2 AS owners_1_address_line2, owners_1.city AS owners_1_city, owners_1.state_code AS owners_1_state_code, owners_1.zip_code AS owners_1_zip_code, owners_1.phone AS owners_1_phone, owners_1.mobile_phone AS owners_1_mobile_phone, owners_1.email AS owners_1_email, owners_1.is_active AS owners_1_is_active, owners_1.balance AS owners_1_balance, owners_1.credit_limit AS owners_1_credit_limit, owners_1.billing_terms AS owners_1_billing_terms, owners_1.service_charge_rate AS owners_1_service_charge_rate, owners_1.discount_rate AS owners_1_discount_rate, owners_1.notes AS owners_1_notes, owners_1.created_date AS owners_1_created_date, owners_1.modified_date AS owners_1_modified_date, owners_1.created_by AS owners_1_created_by, owners_1.modified_by AS owners_1_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN owners AS owners_1 ON owners_1.owner_id = transactions.owner_id LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes_1.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_id 
WHERE transactions.horse_id = ? ORDER BY transactions.service_date DESC, transactions.created_date DESC]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:31:14,184 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:31:14,185 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:31:25,039 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Bay Breeze
2025-06-04 20:31:25,057 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 20:31:25,059 - ERROR - FinancialController - financial_controller:283 - Error retrieving charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 279, in get_charge_codes_for_lookup
    charge_codes = query.order_by(ChargeCode.code).all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:34:02,080 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:34:02,080 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:34:02,082 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:34:02,082 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:34:02,093 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:34:02,109 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:34:02,111 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:54:02,109 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:54:02,110 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:54:02,117 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:54:02,117 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:54:02,120 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:54:02,121 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:54:02,121 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:54:02,302 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:54:02,305 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:54:02,305 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:54:02,305 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:54:02,305 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:54:02,305 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:54:02,310 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:54:02,355 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:54:07,268 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:54:20,313 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:54:20,476 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:54:20,476 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:54:20,477 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:54:20,490 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:54:20,490 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:54:20,499 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:54:20,647 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 20:54:20,650 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 20:54:20,651 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 20:54:20,657 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 20:54:20,662 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 20:54:20,682 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 20:54:20,682 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 20:54:20,683 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:54:20,683 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:54:20,737 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:54:20,738 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:54:20,738 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:54:20,795 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 20:54:20,798 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:54:20,798 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:54:20,809 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:54:20,835 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:54:20,835 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:54:20,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-04 20:54:20,841 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-04 20:54:20,843 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:54:20,843 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:54:25,116 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 20:54:25,117 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 20:54:25,120 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 20:54:25,143 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 20:54:25,204 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 1 users into custom list.
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-04 20:54:25,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 20:54:27,657 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-04 20:57:03,765 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-04 20:57:03,926 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-04 20:57:03,926 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-04 20:57:03,932 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:57:03,935 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:57:03,935 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-04 20:57:13,544 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:57:13,544 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:57:13,548 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 3 locations with detailed address.
2025-06-04 20:57:14,920 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:57:14,921 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:57:14,922 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:57:14,927 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:57:16,929 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:57:16,929 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:57:16,930 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:57:16,933 - ERROR - UserManagementScreen - user_management_screen:992 - Error loading charge codes: 'ChargeCode' object has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 927, in load_charge_codes_data
    Qt.ItemDataRole.UserRole, c_obj.charge_code_id
                              ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'charge_code_id'
2025-06-04 20:57:16,934 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'ChargeCode' object has no attribute 'charge_code_id'
2025-06-04 21:01:24,351 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 21:01:24,352 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 21:01:24,353 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 21:01:24,353 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 21:01:24,354 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 21:01:24,369 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 21:01:24,372 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 21:01:24,373 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 21:19:14,745 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:19:14,746 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:19:14,746 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:19:14,753 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:19:14,754 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:19:14,757 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:19:14,758 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:19:14,758 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:19:14,937 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:19:14,939 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:19:14,939 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:19:14,939 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:19:14,940 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:19:14,940 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:19:14,944 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:19:14,995 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:19:16,779 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:19:27,221 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:19:27,382 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:19:27,382 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:19:27,383 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:19:27,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:19:27,394 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:19:27,395 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:19:27,401 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:19:27,580 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:19:27,583 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:19:27,585 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:19:27,590 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:19:27,595 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:19:27,617 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:19:27,617 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:19:27,619 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:19:27,619 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:19:27,674 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:19:27,676 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:19:27,676 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:19:27,748 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:19:27,751 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:19:27,752 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:19:27,765 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:19:27,787 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:19:27,787 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:19:27,791 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-04 21:19:27,794 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-04 21:19:27,796 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:19:27,796 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:19:35,313 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:19:35,313 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:19:35,314 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - user_management_screen:160 - Setting up UserManagementScreen UI...
2025-06-04 21:19:35,316 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
2025-06-04 21:19:45,681 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-04 21:19:45,682 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-04 21:19:45,689 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-04 21:20:09,395 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-04 21:20:09,396 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,396 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,397 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,407 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-04 21:20:09,408 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-04 21:20:09,408 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-04 21:20:11,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:11,170 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:20:11,171 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:20:11,174 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:20:11,174 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:11,176 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:11,185 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:11,186 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:11,186 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-04 21:20:13,668 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-04 21:20:15,117 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-04 21:20:16,177 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 1
2025-06-04 21:20:16,186 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-04 21:20:16,186 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-04 21:20:17,819 - INFO - HorseUnifiedManagement - horse_unified_management:1121 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-04 21:20:17,821 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:17,822 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:17,827 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:17,827 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:19,975 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-04 21:20:19,979 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-04 21:20:21,139 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-04 21:20:22,450 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 1
2025-06-04 21:20:22,456 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-04 21:20:22,456 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:915 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:918 - Location changed for horse ID 1. Reloading details.
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:22,458 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:22,462 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:22,462 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:22,462 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-04 21:20:29,644 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-04 21:20:29,647 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,653 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 21:20:29,656 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-04 21:20:29,656 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,659 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,660 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,660 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,661 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:53,415 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:20:53,415 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:20:53,416 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:20:53,418 - INFO - UserManagementScreen - user_management_screen:160 - Setting up UserManagementScreen UI...
2025-06-04 21:20:53,418 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
2025-06-04 21:27:44,050 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:27:44,051 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:27:44,058 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:27:44,058 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:27:44,061 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:27:44,062 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:27:44,062 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:27:44,242 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:27:44,244 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:27:44,244 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:27:44,245 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:27:44,245 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:27:44,245 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:27:44,249 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:27:44,294 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:27:46,191 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:27:55,534 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:27:55,695 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:27:55,696 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:27:55,697 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:27:55,708 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:27:55,708 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:27:55,710 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:27:55,716 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:27:55,876 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:27:55,879 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:27:55,880 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:27:55,886 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:27:55,891 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:27:55,914 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:27:55,914 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:27:55,972 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:27:55,975 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:27:55,975 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:27:56,032 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:27:56,035 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:27:56,036 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:27:56,042 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:27:56,066 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:27:56,066 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:27:56,073 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:27:56,078 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:27:56,079 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:27:56,082 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:27:56,091 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:27:56,095 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:27:56,095 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:27:59,066 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:27:59,066 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:27:59,069 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:27:59,069 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 21:27:59,077 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 21:28:17,312 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 21:28:17,313 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 21:28:17,314 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 21:28:17,314 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 21:28:17,325 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 21:28:17,327 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 21:28:17,327 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 21:31:24,807 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:31:24,807 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:31:24,807 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:31:24,808 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:31:24,808 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:31:24,808 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:31:24,815 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:31:24,815 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:31:24,819 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:31:24,820 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:31:24,820 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:31:25,000 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:31:25,002 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:31:25,002 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:31:25,002 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:31:25,002 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:31:25,003 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:31:25,007 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:31:25,058 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:31:26,847 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:31:35,306 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:31:35,468 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:31:35,468 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:31:35,470 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:31:35,481 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:31:35,481 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:31:35,482 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:31:35,484 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:31:35,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:31:35,485 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:31:35,491 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:31:35,650 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:31:35,653 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:31:35,655 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:31:35,660 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:31:35,666 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:31:35,686 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:31:35,746 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:31:35,747 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:31:35,747 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:31:35,806 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:31:35,808 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:31:35,809 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:31:35,820 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:31:35,839 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:31:35,839 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:31:35,846 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:31:35,851 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:31:35,851 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:31:35,854 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:31:35,863 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:31:35,866 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:31:35,866 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:31:43,846 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-04 21:31:43,849 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,856 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 21:31:43,859 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-04 21:31:43,860 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,863 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,863 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,864 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,865 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:32:02,872 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:32:02,873 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:32:02,874 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 21:32:02,884 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 22:01:50,015 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:01:50,015 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:01:50,016 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:01:50,023 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:01:50,024 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:01:50,028 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:01:50,030 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:01:50,030 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:01:50,214 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:01:50,215 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:01:50,215 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:01:50,216 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:01:50,216 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:01:50,216 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:01:50,221 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:01:50,269 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:01:51,898 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:02:02,571 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:02:02,734 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:02:02,734 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:02:02,735 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:02:02,747 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:02:02,749 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:02:02,749 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:02:02,754 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:02:02,922 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:02:02,926 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:02:02,929 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:02:02,933 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:02:02,938 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:02:02,958 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:02:02,959 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:02:03,017 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:02:03,019 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:02:03,019 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:02:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:02:03,087 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:02:03,088 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:02:03,100 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:02:03,121 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:02:03,121 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:02:03,129 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:02:03,133 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:02:03,134 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:02:03,136 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:02:03,146 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:02:03,148 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:02:03,149 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:02:08,411 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:02:08,412 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:02:08,413 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:02:08,413 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 22:02:08,422 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 22:04:56,184 - INFO - HorseUnifiedManagement - horse_unified_management:1660 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 22:04:56,184 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 22:04:56,186 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 22:04:56,186 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 22:04:56,187 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 22:04:56,187 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 22:04:56,197 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 22:04:56,198 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 22:09:58,796 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:09:58,796 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:09:58,797 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:09:58,805 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:09:58,806 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:09:58,808 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:09:58,809 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:09:58,809 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:09:58,989 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:09:58,991 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:09:58,991 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:09:58,992 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:09:58,992 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:09:58,992 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:09:58,997 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:09:59,047 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:10:00,618 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:10:10,197 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:10:10,361 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:10:10,362 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:10:10,363 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:10:10,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:10:10,373 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:10:10,373 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:10:10,381 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:10:10,537 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:10:10,540 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:10:10,541 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:10:10,547 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:10:10,552 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:10:10,572 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:10:10,629 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:10:10,630 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:10:10,630 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:10:10,688 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:10:10,691 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:10:10,691 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:10:10,704 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:10:10,724 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:10:10,724 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:10:10,731 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:10:10,737 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:10:10,738 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:10:10,741 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:10:10,753 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:10:10,755 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:10:10,755 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:10:12,743 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:10:12,743 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:10:12,745 - INFO - UserManagementScreen - user_management_screen:98 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:10:12,745 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-04 22:10:12,781 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-04 22:10:12,781 - ERROR - UserManagementScreen - user_management_screen:541 - Error loading users: 'UserController' object has no attribute 'get_all_users_with_roles'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 509, in load_users_data
    users = self.user_controller.get_all_users_with_roles()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'get_all_users_with_roles'
2025-06-04 22:10:18,843 - INFO - UserManagementScreen - user_management_screen:195 - UserManagementScreen UI setup complete.
2025-06-04 22:10:18,925 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-04 22:10:18,936 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:10:29,710 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 547, in _add_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 547, in _add_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
2025-06-04 22:19:42,202 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:19:42,202 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:19:42,202 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:19:42,203 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:19:42,203 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:19:42,203 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:19:42,210 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:19:42,210 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:19:42,213 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:19:42,213 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:19:42,214 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:19:42,396 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:19:42,398 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:19:42,398 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:19:42,398 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:19:42,398 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:19:42,399 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:19:42,404 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:19:42,453 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:19:52,594 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:20:20,770 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:20:20,931 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:20:20,931 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:20:20,932 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:20:20,944 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:20:20,944 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:20:20,946 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:20:20,953 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:20:21,112 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:20:21,115 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:20:21,117 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:20:21,122 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:20:21,127 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:20:21,146 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:20:21,146 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:20:21,205 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:20:21,206 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:20:21,207 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:20:21,264 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:20:21,267 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:20:21,267 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:20:21,280 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:20:21,303 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:20:21,304 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:20:21,311 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:20:21,317 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:20:21,318 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:20:21,321 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:20:21,330 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:20:21,333 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:20:21,333 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:20:30,421 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:20:30,422 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:20:30,423 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:20:30,425 - INFO - UserManagementScreen - user_management_screen:157 - Setting up UserManagementScreen UI...
2025-06-04 22:20:30,463 - INFO - UserManagementScreen - user_management_screen:491 - Loading users data for tab...
2025-06-04 22:20:30,465 - INFO - UserManagementScreen - user_management_screen:527 - Loaded 2 users.
2025-06-04 22:20:30,466 - INFO - UserManagementScreen - user_management_screen:187 - UserManagementScreen UI setup complete.
2025-06-04 22:20:30,550 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:20:30,552 - INFO - UserManagementScreen - user_management_screen:154 - UserManagementScreen __init__ completed.
2025-06-04 22:20:30,578 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:20:35,308 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:20:35,309 - INFO - UserManagementScreen - user_management_screen:671 - Loading locations data for tab...
2025-06-04 22:20:35,310 - ERROR - UserManagementScreen - user_management_screen:719 - Error loading locations: 'LocationController' object has no attribute 'get_all_locations_detailed'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 676, in load_locations_data
    locations = self.location_controller.get_all_locations_detailed()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'get_all_locations_detailed'
2025-06-04 22:20:42,893 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:20:42,894 - INFO - UserManagementScreen - user_management_screen:875 - Loading charge code categories/processes data...
2025-06-04 22:20:42,895 - INFO - UserManagementScreen - user_management_screen:882 - CCC active_filter: active
2025-06-04 22:20:42,895 - ERROR - UserManagementScreen - user_management_screen:925 - Error loading categories/processes: ChargeCodeController.get_charge_code_categories() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 886, in load_categories_processes_data
    level1_categories = self.charge_code_controller.get_charge_code_categories(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ChargeCodeController.get_charge_code_categories() got an unexpected keyword argument 'status_filter'
2025-06-04 22:20:46,862 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:20:46,862 - INFO - UserManagementScreen - user_management_screen:1159 - Loading charge codes data for tab...
2025-06-04 22:20:46,864 - INFO - UserManagementScreen - user_management_screen:1165 - Charge code status filter: active
2025-06-04 22:20:46,864 - ERROR - UserManagementScreen - user_management_screen:1213 - Error loading charge codes: 'ChargeCodeController' object has no attribute 'get_all_charge_codes_with_category_path'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1169, in load_charge_codes_data
    self.charge_code_controller.get_all_charge_codes_with_category_path(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_all_charge_codes_with_category_path'
2025-06-04 22:20:52,171 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:20:52,171 - INFO - UserManagementScreen - user_management_screen:1368 - Loading owners data for tab...
2025-06-04 22:20:52,172 - ERROR - UserManagementScreen - user_management_screen:1407 - Error loading owners: 'OwnerController' object has no attribute 'get_all_owners'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1373, in load_owners_data
    owners = self.owner_controller.get_all_owners()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OwnerController' object has no attribute 'get_all_owners'
2025-06-04 22:27:26,201 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:27:26,201 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:27:26,201 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:27:26,202 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:27:26,202 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:27:26,202 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:27:26,210 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:27:26,210 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:27:26,212 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:27:26,213 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:27:26,213 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:27:26,393 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:27:26,395 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:27:26,395 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:27:26,396 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:27:26,396 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:27:26,396 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:27:26,401 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:27:26,450 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:27:28,184 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:27:36,740 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:27:36,902 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:27:36,903 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:27:36,904 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:27:36,914 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:27:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:27:36,915 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:27:36,919 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:27:36,919 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:27:36,920 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:27:36,926 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:27:37,079 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:27:37,082 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:27:37,083 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:27:37,088 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:27:37,093 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:27:37,112 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:27:37,114 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:27:37,114 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:27:37,169 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:27:37,170 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:27:37,171 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:27:37,228 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:27:37,231 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:27:37,231 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:27:37,247 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:27:37,273 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:27:37,274 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:27:37,282 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:27:37,286 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:27:37,288 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:27:37,291 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:27:37,300 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:27:37,302 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:27:37,302 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:27:39,272 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:27:39,273 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:27:39,274 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:27:39,274 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:27:39,310 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:27:39,313 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:27:39,313 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:27:39,392 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:27:39,394 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:27:39,420 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:27:42,572 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:27:42,572 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:27:42,577 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:27:44,402 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:27:44,402 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:27:44,410 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:27:46,076 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:27:46,078 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:27:46,079 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:27:46,083 - INFO - UserManagementScreen - user_management_screen:1256 - Loaded 2 charge codes based on filter 'active'.
2025-06-04 22:27:47,545 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:27:47,546 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:27:47,548 - ERROR - UserManagementScreen - user_management_screen:1462 - Error loading owners: Parent instance <Owner at 0x2789610dbd0> is not bound to a Session; lazy load operation of attribute 'state' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1445, in load_owners_data
    hasattr(owner_obj, "state")
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Owner at 0x2789610dbd0> is not bound to a Session; lazy load operation of attribute 'state' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-04 22:28:07,023 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:28:07,023 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:36:58,739 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:36:58,741 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:36:58,750 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:36:58,750 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:36:58,752 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:36:58,753 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:36:58,753 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:36:58,931 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:36:58,933 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:36:58,933 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:36:58,933 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:36:58,934 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:36:58,934 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:36:58,938 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:36:58,988 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:37:00,965 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:37:11,844 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:37:12,005 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:37:12,005 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:37:12,006 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:37:12,017 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:37:12,018 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:37:12,018 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:37:12,024 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:37:12,176 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:37:12,180 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:37:12,182 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:37:12,187 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:37:12,192 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:37:12,213 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:37:12,213 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:37:12,215 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:37:12,215 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:37:12,273 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:37:12,274 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:37:12,274 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:37:12,332 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:37:12,335 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:37:12,336 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:37:12,350 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:37:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:37:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:37:12,382 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:37:12,388 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:37:12,389 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:37:12,392 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:37:12,402 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:37:12,405 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:37:12,405 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:37:15,083 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:37:15,083 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:37:15,086 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:37:15,086 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:37:15,122 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:37:15,124 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:37:15,124 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:37:15,206 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:37:15,206 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:37:15,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:37:20,043 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-04 22:37:25,710 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-04 22:37:31,328 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:37:31,328 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:37:31,333 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:37:33,778 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-04 22:37:39,462 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:37:39,462 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:37:39,470 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:37:55,155 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1019, in _edit_selected_category_process
    category_to_edit = self.charge_code_controller.get_category_by_id(category_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1019, in _edit_selected_category_process
    category_to_edit = self.charge_code_controller.get_category_by_id(category_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
2025-06-04 22:38:00,766 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:38:00,766 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:38:00,768 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:38:00,771 - INFO - UserManagementScreen - user_management_screen:1256 - Loaded 2 charge codes based on filter 'active'.
2025-06-04 22:38:02,256 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
2025-06-04 22:38:05,628 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
2025-06-04 22:38:08,396 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:38:08,396 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:38:08,399 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:38:08,399 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:38:12,463 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:38:12,463 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:38:26,239 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:38:26,240 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:51:45,154 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:51:45,155 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:51:45,163 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:51:45,163 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:51:45,166 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:51:45,167 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:51:45,167 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:51:45,346 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:51:45,348 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:51:45,348 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:51:45,349 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:51:45,349 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:51:45,349 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:51:45,354 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:51:45,405 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:51:46,937 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:51:59,212 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:51:59,374 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:51:59,375 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:51:59,376 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:51:59,388 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:51:59,389 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:51:59,389 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:51:59,398 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:51:59,561 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:51:59,565 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:51:59,566 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:51:59,571 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:51:59,577 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:51:59,597 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:51:59,598 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:51:59,600 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:51:59,600 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:51:59,655 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:51:59,656 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:51:59,656 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:51:59,714 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:51:59,717 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:51:59,717 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:51:59,730 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:51:59,753 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:51:59,754 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:51:59,762 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:51:59,767 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:51:59,768 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:51:59,771 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:51:59,780 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:51:59,783 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:51:59,783 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:52:03,609 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:52:03,609 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:52:03,610 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:52:03,646 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:03,649 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:03,649 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:52:03,727 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:52:03,727 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:52:03,751 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:52:07,161 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:52:07,162 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:52:07,166 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:52:07,166 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:52:10,845 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:52:10,846 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:52:20,188 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:52:20,188 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:52:20,190 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:52:20,193 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-04 22:52:33,176 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:52:33,176 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:52:33,183 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:52:35,188 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:52:35,189 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:52:35,191 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:52:38,083 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-04 22:52:40,054 - INFO - LocationController - location_controller:262 - Location 'West Wing Stalls' (ID: 3) updated by ADMIN.
2025-06-04 22:52:42,064 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:52:42,066 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:52:44,053 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 22:52:44,054 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:44,055 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:46,580 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-04 22:52:48,022 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: tm by ADMIN
2025-06-04 22:52:48,025 - INFO - UserController - user_controller:469 - User 'tm' updated successfully by ADMIN.
2025-06-04 22:52:48,025 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User updated successfully.
2025-06-04 22:52:48,031 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:48,032 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:52,115 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:52:52,116 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:52:52,118 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:52:52,120 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:52:59,005 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:52:59,006 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 17:04:42,481 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:04:42,482 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:04:42,482 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:04:42,496 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:04:42,496 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:04:42,526 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:04:42,527 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:04:42,527 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:04:42,721 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:04:42,723 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:04:42,723 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:04:42,723 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:04:42,723 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:04:42,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:04:42,735 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:04:42,785 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:04:44,490 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:04:56,408 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:04:56,569 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-05 17:04:56,570 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:04:56,571 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:04:56,584 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:04:56,585 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:04:56,585 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:04:56,597 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:04:58,014 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:04:58,017 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:04:58,019 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:04:58,023 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:04:58,028 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:04:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:04:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:04:58,050 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:04:58,107 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:04:58,108 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:04:58,108 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:04:58,178 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:04:58,181 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:04:58,182 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:04:58,194 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:04:58,224 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:04:58,225 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:04:58,234 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:04:58,241 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:04:58,241 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:04:58,244 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:04:58,255 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:04:58,258 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:04:58,258 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:05:16,647 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 17:05:16,649 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,655 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-05 17:05:16,658 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-05 17:05:16,659 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,663 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,664 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,665 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,665 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:22,224 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:05:22,224 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:05:22,227 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:05:22,227 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:05:22,262 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:05:22,264 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 17:05:22,265 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:05:22,357 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:05:22,358 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:05:22,385 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:05:25,552 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 17:06:11,701 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: bc by ADMIN
2025-06-05 17:06:11,871 - INFO - UserController - user_controller:323 - User 'bc' created successfully by ADMIN.
2025-06-05 17:06:11,871 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-05 17:06:11,877 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:06:11,878 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:06:26,785 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 606, in _toggle_selected_user_active_status
    success, message = self.user_controller.toggle_user_active_status(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 606, in _toggle_selected_user_active_status
    success, message = self.user_controller.toggle_user_active_status(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
2025-06-05 17:08:24,018 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:08:24,018 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:08:24,018 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:08:24,019 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:08:24,019 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:08:24,019 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:08:24,027 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:08:24,027 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:08:24,030 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:08:24,031 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:08:24,031 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:08:24,211 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:08:24,212 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:08:24,213 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:08:24,213 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:08:24,213 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:08:24,214 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:08:24,218 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:08:24,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:08:26,222 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:08:33,977 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:08:34,140 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:08:34,140 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:08:34,141 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:08:34,152 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:08:34,152 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:08:34,153 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:08:34,154 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:08:34,154 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:08:34,155 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:08:34,161 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:08:34,330 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:08:34,333 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:08:34,334 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:08:34,339 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:08:34,343 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:08:34,362 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:08:34,419 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:08:34,420 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:08:34,421 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:08:34,477 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:08:34,480 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:08:34,480 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:08:34,490 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:08:34,514 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:08:34,514 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:08:34,522 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:08:34,527 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:08:34,527 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:08:34,530 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:08:34,539 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:08:34,544 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:08:34,544 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:08:36,295 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:08:36,295 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:08:36,296 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:08:36,296 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:08:36,332 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:36,335 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:36,335 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:08:36,410 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:08:36,411 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:08:36,435 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:08:42,055 - INFO - UserController - user_controller:633 - User 'bc' has been deactivated by tm.
2025-06-05 17:08:44,776 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:44,778 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:52,989 - INFO - UserController - user_controller:633 - User 'bc' has been activated by tm.
2025-06-05 17:08:54,398 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:54,400 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:57,826 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:08:57,826 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:08:57,829 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:09:05,384 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 782, in _toggle_selected_location_active_status
    self.location_controller.toggle_location_active_status(  # Corrected method name
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 782, in _toggle_selected_location_active_status
    self.location_controller.toggle_location_active_status(  # Corrected method name
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
2025-06-05 17:10:23,506 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:10:23,506 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:10:23,507 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:10:23,515 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:10:23,516 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:10:23,518 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:10:23,519 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:10:23,519 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:10:23,702 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:10:23,703 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:10:23,704 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:10:23,704 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:10:23,704 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:10:23,704 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:10:23,709 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:10:23,763 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:10:25,313 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:10:32,995 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:10:33,154 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:10:33,155 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:10:33,156 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:10:33,162 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:10:33,163 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:10:33,164 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:10:33,164 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:10:33,165 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:10:33,165 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:10:33,169 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:10:33,324 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:10:33,327 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:10:33,328 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:10:33,333 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:10:33,338 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:10:33,410 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:10:33,412 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:10:33,412 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:10:33,469 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:10:33,472 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:10:33,473 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:10:33,488 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:10:33,511 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:10:33,511 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:10:33,519 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:10:33,524 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:10:33,525 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:10:33,528 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:10:33,538 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:10:33,541 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:10:33,541 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:10:35,821 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:10:35,821 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:10:35,822 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:10:35,857 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:10:35,859 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:10:35,859 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:10:35,934 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:10:35,936 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:10:35,959 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:10:39,405 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:10:39,406 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:10:39,410 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:10:43,146 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:10:59,078 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:11:08,676 - INFO - LocationController - location_controller:196 - Location 'Main Stable' (ID: 1) status changed to deactivated by tm.
2025-06-05 17:11:10,336 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:11:10,338 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:11:17,262 - INFO - LocationController - location_controller:196 - Location 'Main Stable' (ID: 1) status changed to activated by tm.
2025-06-05 17:11:21,300 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:11:21,303 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:11:22,541 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:11:54,308 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:11:58,297 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:13:55,203 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:13:55,204 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:13:55,212 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:13:55,212 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:13:55,215 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:13:55,216 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:13:55,216 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:13:55,396 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:13:55,398 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:13:55,398 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:13:55,399 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:13:55,399 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:13:55,399 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:13:55,404 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:13:55,458 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:13:57,193 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:14:07,678 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:14:07,837 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:14:07,838 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:14:07,839 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:14:07,851 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:14:07,853 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:14:07,860 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:14:08,003 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:14:08,007 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:14:08,008 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:14:08,013 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:14:08,017 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:14:08,036 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:14:08,036 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:14:08,093 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:14:08,094 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:14:08,094 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:14:08,150 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:14:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:14:08,154 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:14:08,165 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:14:08,188 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:14:08,188 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:14:08,195 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:14:08,200 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:14:08,201 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:14:08,203 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:14:08,212 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:14:08,216 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:14:08,216 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:14:10,376 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:14:10,376 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:14:10,377 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:14:10,378 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:14:10,379 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:14:10,380 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:14:10,380 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:14:10,415 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:14:10,417 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:14:10,418 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:14:10,500 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:14:10,501 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:14:10,502 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:14:10,502 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:14:10,503 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:14:10,528 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:14:13,449 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:14:13,450 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:14:13,455 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:14:15,798 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:14:27,963 - ERROR - LocationController - location_controller:136 - Error creating location: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\location_controller.py", line 112, in create_location
    address_line2=location_data.get("address_line2", "").strip() or None,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-06-05 17:14:50,589 - ERROR - LocationController - location_controller:136 - Error creating location: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\location_controller.py", line 112, in create_location
    address_line2=location_data.get("address_line2", "").strip() or None,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-06-05 17:16:55,754 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:16:55,754 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:16:55,755 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:16:55,763 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:16:55,763 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:16:55,949 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:16:55,951 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:16:55,951 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:16:55,951 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:16:55,951 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:16:55,952 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:16:55,956 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:16:56,007 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:16:58,292 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:17:07,589 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:17:07,751 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:17:07,752 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:17:07,752 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:17:07,762 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:17:07,762 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:17:07,764 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:17:07,771 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:17:07,934 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:17:07,937 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:17:07,938 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:17:07,943 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:17:07,948 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:17:08,025 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:17:08,027 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:17:08,027 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:17:08,087 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:17:08,090 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:17:08,090 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:17:08,102 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:17:08,123 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:17:08,124 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:17:08,131 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:17:08,138 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:17:08,139 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:17:08,141 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:17:08,151 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:17:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:17:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:17:10,569 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:17:10,569 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:17:10,570 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:17:10,571 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:17:10,571 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:17:10,572 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:17:10,572 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:17:10,608 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:17:10,611 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:17:10,611 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:17:10,688 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:17:10,689 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:17:10,715 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:17:12,113 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:17:12,113 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:17:12,118 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:17:13,347 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:17:34,170 - INFO - LocationController - location_controller:133 - Location 'ghgghfgh' created by ADMIN.
2025-06-05 17:17:36,313 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:17:36,315 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:17:39,350 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:17:43,639 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:17:43,639 - ERROR - AddEditLocationDialog - add_edit_location_dialog:503 - Error during location save/update: not enough values to unpack (expected 3, got 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 480, in validate_and_accept
    success, message, _ = self.controller.update_location(
    ^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-06-05 17:17:54,244 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:17:54,244 - ERROR - AddEditLocationDialog - add_edit_location_dialog:503 - Error during location save/update: not enough values to unpack (expected 3, got 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 480, in validate_and_accept
    success, message, _ = self.controller.update_location(
    ^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-06-05 17:21:50,918 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:21:50,918 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:21:50,919 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:21:50,920 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:21:50,920 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:21:50,920 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:21:50,928 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:21:50,929 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:21:50,931 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:21:50,932 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:21:50,932 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:21:51,112 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:21:51,114 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:21:51,114 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:21:51,114 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:21:51,114 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:21:51,115 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:21:51,119 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:21:51,164 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:21:53,015 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:22:03,308 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:22:03,470 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:22:03,470 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:22:03,472 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:22:03,484 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:22:03,484 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:22:03,484 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:22:03,492 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:22:03,654 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:22:03,657 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:22:03,659 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:22:03,663 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:22:03,668 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:22:03,688 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:22:03,689 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:22:03,691 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:22:03,748 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:22:03,750 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:22:03,750 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:22:03,808 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:22:03,811 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:22:03,811 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:22:03,828 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:22:03,850 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:22:03,851 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:22:03,859 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:22:03,864 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:22:03,865 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:22:03,867 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:22:03,880 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:22:03,883 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:22:03,883 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:22:06,090 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:22:06,090 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:22:06,093 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:22:06,127 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:22:06,130 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:22:06,130 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:22:06,209 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:22:06,211 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:22:06,235 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:22:08,279 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:22:08,279 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:08,284 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:12,245 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:22:18,163 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:22:19,559 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:19,561 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:22,546 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:22:27,550 - INFO - LocationController - location_controller:207 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to deactivated by ADMIN.
2025-06-05 17:22:29,864 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:29,867 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:47,721 - INFO - LocationController - location_controller:207 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to activated by ADMIN.
2025-06-05 17:22:50,567 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:50,568 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:24:37,019 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:24:37,019 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:37,022 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:45,786 - INFO - UserController - user_controller:633 - User 'bc' has been deactivated by ADMIN.
2025-06-05 17:24:47,823 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:47,824 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:52,921 - INFO - UserController - user_controller:633 - User 'bc' has been activated by ADMIN.
2025-06-05 17:24:54,326 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:54,329 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:58,692 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 17:24:58,692 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 17:24:58,699 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 17:25:03,932 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:25:03,933 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:25:03,934 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:25:03,937 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:25:11,181 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 17:25:11,181 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 17:25:11,185 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 17:25:11,185 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 17:25:20,059 - ERROR - OwnerController - owner_controller:616 - Error toggling active status for owner ID 2: name 'OwnerModel' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 600, in toggle_owner_active_status
    session.query(OwnerModel)
                  ^^^^^^^^^^
NameError: name 'OwnerModel' is not defined
2025-06-05 17:25:27,648 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 17:25:27,649 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 17:25:32,358 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:25:32,359 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:25:32,361 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:26:02,750 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:26:02,750 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:26:02,751 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:26:02,758 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:26:02,758 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:26:02,762 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:26:02,762 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:26:02,763 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:26:02,945 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:26:02,947 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:26:02,947 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:26:02,947 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:26:02,948 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:26:02,948 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:26:02,952 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:26:03,003 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:26:04,833 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:26:16,373 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:26:16,533 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:26:16,533 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:26:16,535 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:26:16,545 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:26:16,546 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:26:16,546 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:26:16,550 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:26:16,728 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:26:16,731 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:26:16,732 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:26:16,737 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:26:16,742 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:26:16,760 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:26:16,762 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:26:16,813 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:26:16,815 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:26:16,816 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:26:16,890 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:26:16,893 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:26:16,893 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:26:16,912 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:26:16,935 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:26:16,936 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:26:16,943 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:26:16,948 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:26:16,949 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:26:16,951 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:26:16,964 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:26:16,967 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:26:16,968 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:26:19,577 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:26:19,578 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:26:19,579 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:26:19,580 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:26:19,580 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:26:19,581 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:26:19,581 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:26:19,615 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:26:19,617 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:26:19,618 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:26:19,694 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:26:19,694 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:26:19,720 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:26:21,811 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:26:21,811 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:26:21,816 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:26:29,028 - INFO - LocationController - location_controller:213 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to deactivated by tm.
2025-06-05 17:26:31,310 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:26:31,312 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:26:34,862 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:26:43,064 - INFO - LocationController - location_controller:181 - Location 'West Wing Stalls' (ID: 3) updated by tm.
2025-06-05 17:26:43,064 - ERROR - AddEditLocationDialog - add_edit_location_dialog:460 - Error during location save/update: too many values to unpack (expected 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 435, in validate_and_accept
    success, message = self.controller.update_location(
    ^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2025-06-05 17:29:01,444 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:29:01,444 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:29:01,445 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:29:01,446 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:29:01,457 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:29:01,461 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:29:01,462 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:35:01,610 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:35:01,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:35:01,612 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:35:01,620 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:35:01,620 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:35:01,623 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:35:01,624 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:35:01,625 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:35:01,804 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:35:01,807 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:35:01,807 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:35:01,807 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:35:01,807 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:35:01,808 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:35:01,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:35:01,858 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:35:03,813 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:35:17,526 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:35:17,686 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:35:17,687 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:35:17,688 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:35:17,701 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:35:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:35:17,701 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:35:17,702 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:35:17,702 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:35:17,703 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:35:17,710 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:35:17,873 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:35:17,875 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:35:17,877 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:35:17,882 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:35:17,887 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:35:17,906 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:35:17,908 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:35:17,908 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:35:17,964 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:35:17,965 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:35:17,965 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:35:18,030 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:35:18,033 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:35:18,033 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:35:18,043 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:35:18,069 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:35:18,069 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:35:18,076 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:35:18,081 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:35:18,081 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:35:18,083 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:35:18,093 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:35:18,095 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:35:18,096 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:35:23,604 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:35:23,604 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:35:23,606 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:35:23,606 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:35:23,642 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:35:23,644 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:35:23,645 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:35:23,725 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:35:23,726 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:35:23,753 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:35:25,425 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:35:25,425 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:25,430 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:36,693 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:35:42,666 - INFO - LocationController - location_controller:166 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:35:44,213 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:44,216 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:49,859 - INFO - LocationController - location_controller:198 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to activated by ADMIN.
2025-06-05 17:35:51,224 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:51,225 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:53,437 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:36:11,359 - INFO - LocationController - location_controller:124 - Location 'vbvvbbvc' created by ADMIN.
2025-06-05 17:36:12,993 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:36:12,995 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 5 locations.
2025-06-05 17:36:44,064 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 17:36:44,064 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 17:36:44,071 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 17:36:50,248 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:36:50,248 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:36:50,249 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:36:50,252 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:36:55,374 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 17:36:55,375 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 17:36:55,378 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 17:36:55,378 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 17:36:56,744 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:36:56,745 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:36:56,746 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:36:56,747 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:39:37,262 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:39:37,262 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:39:37,268 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 5 locations.
2025-06-05 17:44:15,948 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 17:44:17,203 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:44:17,203 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:44:17,205 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:44:17,205 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:44:17,225 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:44:17,228 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:44:17,230 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:44:22,054 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:44:22,054 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:44:22,055 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:44:22,062 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:44:22,062 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:44:22,065 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:44:22,066 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:44:22,066 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:44:22,245 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:44:22,247 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:44:22,247 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:44:22,247 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:44:22,247 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:44:22,248 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:44:22,252 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:44:22,298 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:44:23,953 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:44:34,270 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:44:34,433 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:44:34,433 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:44:34,434 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:44:34,445 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:44:34,446 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:44:34,446 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:44:34,454 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:44:34,613 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:44:34,616 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:44:34,617 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:44:34,622 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:44:34,628 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:44:34,709 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:44:34,710 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:44:34,710 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:44:34,768 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:44:34,771 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:44:34,771 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:44:34,783 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:44:34,804 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:44:34,804 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:44:34,811 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:44:34,816 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:44:34,817 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:44:34,819 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:44:34,828 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:44:34,831 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:44:34,831 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:44:36,909 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:44:36,909 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:44:36,911 - INFO - UserManagementScreen - user_management_screen:88 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:44:36,912 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:44:36,913 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:44:36,913 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:44:36,914 - INFO - UserManagementScreen - user_management_screen:154 - Setting up UserManagementScreen UI...
2025-06-05 17:44:36,926 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-05 17:44:36,930 - INFO - UserManagementScreen - user_management_screen:538 - Loaded 3 users.
2025-06-05 17:44:36,930 - INFO - UserManagementScreen - user_management_screen:184 - UserManagementScreen UI setup complete.
2025-06-05 17:44:36,990 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:44:36,991 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - user_management_screen:151 - UserManagementScreen __init__ completed.
2025-06-05 17:44:37,017 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:44:43,154 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:44:43,154 - INFO - UserManagementScreen - user_management_screen:691 - Loading locations data for tab...
2025-06-05 17:44:43,156 - INFO - UserManagementScreen - user_management_screen:700 - Location status filter: active
2025-06-05 17:44:43,157 - ERROR - UserManagementScreen - user_management_screen:751 - Error loading locations: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 704, in load_locations_data
    locations = self.location_controller.get_all_locations(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
2025-06-05 17:45:34,262 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:45:34,263 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-05 17:45:34,266 - INFO - UserManagementScreen - user_management_screen:538 - Loaded 3 users.
2025-06-05 17:45:35,612 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:45:35,613 - INFO - UserManagementScreen - user_management_screen:691 - Loading locations data for tab...
2025-06-05 17:45:35,614 - INFO - UserManagementScreen - user_management_screen:700 - Location status filter: active
2025-06-05 17:45:35,614 - ERROR - UserManagementScreen - user_management_screen:751 - Error loading locations: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 704, in load_locations_data
    locations = self.location_controller.get_all_locations(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
2025-06-05 17:45:45,790 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 17:45:47,235 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:45:47,236 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:45:47,237 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:45:47,237 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:45:47,244 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:45:47,247 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:45:47,247 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:45:59,919 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:45:59,921 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:45:59,921 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:45:59,928 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:45:59,928 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:45:59,932 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:45:59,933 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:45:59,933 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:46:00,112 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:46:00,114 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:46:00,114 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:46:00,115 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:46:00,115 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:46:00,115 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:46:00,119 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:46:00,166 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:46:01,475 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:46:08,934 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:46:09,095 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:46:09,095 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:46:09,097 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:46:09,111 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:46:09,111 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:46:09,111 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:46:09,118 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:46:09,276 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:46:09,279 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:46:09,281 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:46:09,288 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:46:09,294 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:46:09,313 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:46:09,314 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:46:09,314 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:46:09,371 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:46:09,372 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:46:09,373 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:46:09,429 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:46:09,433 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:46:09,433 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:46:09,447 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:46:09,471 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:46:09,471 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:46:09,478 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:46:09,483 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:46:09,484 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:46:09,486 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:46:09,494 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:46:09,497 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:46:09,497 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:46:11,355 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:46:11,355 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:46:11,357 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:46:11,357 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:46:11,394 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:46:11,396 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:46:11,397 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:46:11,477 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:46:11,479 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:46:11,503 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:00:27,808 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:00:28,957 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:00:28,958 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:00:28,960 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:00:28,960 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:00:28,980 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:00:28,985 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:00:28,986 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:01:58,708 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:01:58,708 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:01:58,709 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:01:58,716 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:01:58,716 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:01:58,719 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:01:58,720 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:01:58,720 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:01:58,898 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:01:58,900 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:01:58,900 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:01:58,900 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:01:58,900 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:01:58,901 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:01:58,905 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:01:58,952 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:02:00,725 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:02:10,425 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:02:10,588 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 18:02:10,588 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:02:10,590 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:02:10,600 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:02:10,602 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:02:10,609 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:02:10,763 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:02:10,767 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:02:10,768 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:02:10,774 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:02:10,779 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:02:10,798 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:02:10,798 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:02:10,800 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:02:10,855 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:02:10,856 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:02:10,856 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:02:10,916 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:02:10,919 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:02:10,919 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:02:10,934 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:02:10,955 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:02:10,956 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:02:10,963 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:02:10,968 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:02:10,969 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:02:10,972 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:02:10,982 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:02:10,985 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:02:10,985 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:02:12,971 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:02:12,972 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:02:12,973 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:02:12,973 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:02:13,003 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:13,005 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:02:13,006 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:02:13,078 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:02:13,078 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:02:13,102 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:02:21,320 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 18:02:38,475 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:02:52,332 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:52,335 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 0 users.
2025-06-05 18:02:53,763 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:53,764 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:02:56,617 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:56,618 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:03:03,674 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:03:03,674 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:03:03,676 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:03:03,678 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:03:09,576 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:03:09,576 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:03:09,578 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:03:56,314 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:03:56,314 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:03:56,315 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:03:56,317 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:06,451 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 18:04:09,886 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 18:04:16,099 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:16,099 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: inactive
2025-06-05 18:04:16,102 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 0 locations.
2025-06-05 18:04:17,730 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:17,730 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: all
2025-06-05 18:04:17,733 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:19,536 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:19,537 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:19,539 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:29,374 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:04:29,375 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:04:29,378 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:04:33,866 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:04:33,866 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:33,868 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:33,869 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:35,567 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:04:40,809 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:04:40,810 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:04:40,812 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:04:41,914 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:04:41,914 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:41,915 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:41,916 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:42,863 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:05:07,394 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 3, new tab title:  Manage Master Owners
2025-06-05 18:05:12,186 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:05:12,913 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:05:12,914 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:05:12,915 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:05:12,916 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:05:14,874 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:05:14,874 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:14,877 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:46,027 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:46,028 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 0 users.
2025-06-05 18:05:47,065 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:47,066 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:48,746 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:48,748 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:53,337 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:09:19,461 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:09:19,461 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:09:19,463 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:09:19,463 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:09:19,486 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:09:19,489 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:09:19,491 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:09:24,121 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:09:24,123 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:09:24,123 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:09:24,131 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:09:24,131 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:09:24,134 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:09:24,135 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:09:24,135 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:09:24,317 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:09:24,319 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:09:24,319 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:09:24,320 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:09:24,320 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:09:24,320 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:09:24,325 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:09:24,372 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:09:25,966 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:09:34,746 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:09:34,906 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:09:34,907 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:09:34,907 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:09:34,918 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:09:34,918 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:09:34,927 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:09:35,093 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:09:35,097 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:09:35,098 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:09:35,104 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:09:35,109 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:09:35,131 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:09:35,132 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:09:35,134 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:09:35,192 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:09:35,193 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:09:35,193 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:09:35,251 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:09:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:09:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:09:35,267 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:09:35,292 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:09:35,292 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:09:35,299 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:09:35,305 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:09:35,305 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:09:35,308 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:09:35,316 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:09:35,319 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:09:35,319 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:09:41,409 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-05 18:09:41,414 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-05 18:09:44,505 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-05 18:09:47,855 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 18:09:47,858 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,864 - INFO - FinancialController - financial_controller:316 - Retrieved 3 active users for lookup.
2025-06-05 18:09:47,867 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-05 18:09:47,868 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,871 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,872 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,873 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,874 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:52,420 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:09:52,421 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:09:52,422 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:09:52,424 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:09:52,453 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:09:52,456 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:09:52,456 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:09:52,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:09:52,577 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:10:07,938 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:10:16,001 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: bc by ADMIN
2025-06-05 18:10:16,004 - INFO - UserController - user_controller:419 - User 'bc' updated successfully by ADMIN.
2025-06-05 18:10:16,004 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User updated successfully.
2025-06-05 18:10:16,010 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:10:16,012 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:10:23,612 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:20:18,782 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:20:18,782 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:20:18,783 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:20:18,798 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:20:18,798 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:20:18,836 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:20:18,837 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:20:18,837 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:20:19,031 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:20:19,033 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:20:19,033 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:20:19,034 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:20:19,034 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:20:19,034 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:20:19,045 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:20:19,097 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:20:21,919 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:20:31,465 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:20:31,624 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:20:31,624 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:20:31,625 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:20:31,632 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:20:31,632 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:20:31,645 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:20:32,969 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:20:32,973 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:20:32,974 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:20:32,978 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:20:32,983 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:20:33,056 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:20:33,057 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:20:33,057 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:20:33,121 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:20:33,125 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:20:33,125 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:20:33,137 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:20:33,158 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:20:33,158 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:20:33,165 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:20:33,172 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:20:33,173 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:20:33,175 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:20:33,184 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:20:33,187 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:20:33,187 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:20:35,799 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:20:35,799 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:20:35,802 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:20:35,802 - INFO - UserManagementScreen - user_management_screen:165 - Setting up UserManagementScreen UI...
2025-06-05 18:20:35,823 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:35,824 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:35,826 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 3 users.
2025-06-05 18:20:35,827 - INFO - UserManagementScreen - user_management_screen:188 - UserManagementScreen UI setup complete.
2025-06-05 18:20:35,895 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:20:35,896 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:20:35,925 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:20:46,132 - INFO - UserController - user_controller:600 - User 'bc' has been deactivated by ADMIN.
2025-06-05 18:20:48,214 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:48,214 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:48,217 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:20:52,249 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:52,249 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:20:52,252 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 1 users.
2025-06-05 18:20:55,439 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:55,439 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:55,441 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:21:01,624 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:01,625 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:21:01,627 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 1 users.
2025-06-05 18:21:07,296 - INFO - UserController - user_controller:532 - User 'bc' permanently deleted by admin 'ADMIN'.
2025-06-05 18:21:09,259 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:09,259 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:21:09,262 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 0 users.
2025-06-05 18:21:11,532 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:11,532 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:21:11,536 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:21:16,940 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:21:16,940 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:16,942 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:16,945 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 5 locations.
2025-06-05 18:21:26,835 - INFO - LocationController - location_controller:248 - Location 'ghgghfghfghfghgfh' (ID: 4) deleted by ADMIN.
2025-06-05 18:21:28,692 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:28,692 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:28,695 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 4 locations.
2025-06-05 18:21:33,805 - INFO - LocationController - location_controller:201 - Location 'vbvvbbvc' (ID: 5) status changed to deactivated by ADMIN.
2025-06-05 18:21:35,391 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:35,391 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:35,392 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:21:37,555 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:37,555 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: inactive
2025-06-05 18:21:37,558 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 1 locations.
2025-06-05 18:21:41,890 - INFO - LocationController - location_controller:248 - Location 'vbvvbbvc' (ID: 5) deleted by ADMIN.
2025-06-05 18:21:43,330 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:43,330 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: inactive
2025-06-05 18:21:43,332 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 0 locations.
2025-06-05 18:21:56,821 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:56,821 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:56,823 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:22:04,085 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 2, new tab title:  Manage Master Owners
2025-06-05 18:27:00,460 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:00,460 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:00,463 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:00,464 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:01,991 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:01,992 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:01,993 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:01,994 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:03,487 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:03,488 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:03,489 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:03,490 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:06,767 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:06,767 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:06,768 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:06,769 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:15,228 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:15,229 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:15,231 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:15,232 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:22,324 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:22,325 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:22,326 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:22,327 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:26,626 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:26,627 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:26,628 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:26,630 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:36,017 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 2, new tab title:  Manage Master Owners
2025-06-05 18:27:38,048 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 18:27:38,049 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 18:32:59,531 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:33:00,617 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:33:00,617 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:33:00,619 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:33:00,619 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:33:00,628 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:33:00,631 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:33:00,632 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:52:00,304 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:52:00,304 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:52:00,304 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:52:00,305 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:52:00,305 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:52:00,305 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:52:00,312 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:52:00,312 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:52:00,315 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:52:00,316 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:52:00,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:52:00,501 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:52:00,503 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:52:00,503 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:52:00,504 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:52:00,504 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:52:00,504 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:52:00,510 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:52:00,560 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:52:02,776 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:52:13,223 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:52:13,383 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:52:13,384 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:52:13,385 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:52:13,396 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:52:13,397 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:52:13,397 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:52:13,404 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:52:13,563 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:52:13,566 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:52:13,568 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:52:13,573 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:52:13,579 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:52:13,600 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:52:13,601 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:52:13,601 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:52:13,660 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:52:13,662 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:52:13,662 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:52:13,724 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:52:13,727 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:52:13,727 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:52:13,741 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:52:13,764 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:52:13,764 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:52:13,771 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:52:13,776 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:52:13,776 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:52:13,779 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:52:13,788 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:52:13,790 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:52:13,791 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:52:18,591 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:52:18,591 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:52:18,595 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:52:18,595 - INFO - UserManagementScreen - user_management_screen:165 - Setting up UserManagementScreen UI...
2025-06-05 18:52:18,619 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:52:18,619 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:52:18,621 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:52:18,621 - INFO - UserManagementScreen - user_management_screen:188 - UserManagementScreen UI setup complete.
2025-06-05 18:52:18,693 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:52:18,693 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:52:18,694 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:52:18,694 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:52:18,695 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:52:18,725 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:52:23,183 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:52:23,186 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:52:23,187 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:52:23,191 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:53:07,960 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:53:08,882 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:53:08,882 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:53:08,884 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:53:08,884 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:53:08,904 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:53:08,911 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:53:08,913 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:53:14,029 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:53:14,029 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:53:14,030 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:53:14,037 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:53:14,038 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:53:14,040 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:53:14,041 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:53:14,041 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:53:14,223 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:53:14,225 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:53:14,225 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:53:14,226 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:53:14,226 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:53:14,226 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:53:14,231 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:53:14,277 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:53:15,805 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:53:25,097 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:53:25,258 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:53:25,258 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:53:25,260 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:53:25,271 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:53:25,272 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:53:25,272 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:53:25,279 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:53:25,435 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:53:25,437 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:53:25,439 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:53:25,444 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:53:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:53:25,469 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:53:25,469 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:53:25,523 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:53:25,524 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:53:25,524 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:53:25,582 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:53:25,585 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:53:25,586 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:53:25,599 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:53:25,618 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:53:25,619 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:53:25,625 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:53:25,631 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:53:25,631 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:53:25,634 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:53:25,644 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:53:25,647 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:53:25,648 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:53:27,563 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:53:27,563 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:53:27,565 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:53:27,565 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:53:27,566 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:53:27,567 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:53:27,567 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:53:27,598 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:53:27,601 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 2 users.
2025-06-05 18:53:27,601 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:53:27,675 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:53:27,677 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:53:27,704 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:53:49,215 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:53:50,912 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:53:50,913 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:53:50,914 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:53:50,915 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:53:50,925 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:53:50,927 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:53:50,928 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:54:12,239 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:54:12,239 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:54:12,240 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:54:12,248 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:54:12,248 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:54:12,251 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:54:12,252 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:54:12,252 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:54:12,434 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:54:12,436 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:54:12,436 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:54:12,437 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:54:12,439 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:54:12,439 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:54:12,443 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:54:12,491 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:54:14,096 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:54:25,341 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:54:25,504 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:54:25,504 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:54:25,505 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:54:25,521 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:54:25,521 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:54:25,522 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:54:25,522 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:54:25,523 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:54:25,523 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:54:25,528 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:54:25,680 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:54:25,683 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:54:25,685 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:54:25,689 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:54:25,694 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:54:25,713 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:54:25,713 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:54:25,715 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:54:25,715 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:54:25,768 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:54:25,769 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:54:25,770 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:54:25,828 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:54:25,832 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:54:25,832 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:54:25,844 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:54:25,864 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:54:25,865 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:54:25,872 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:54:25,877 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:54:25,878 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:54:25,881 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:54:25,889 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:54:25,893 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:54:25,893 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:54:27,939 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:54:27,939 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:54:27,941 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:54:27,941 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 18:54:27,976 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 18:54:27,978 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 18:54:27,979 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 18:54:28,055 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:54:28,055 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 18:54:28,079 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:54:33,862 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:54:33,862 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 18:54:33,867 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 18:54:34,827 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 18:54:34,827 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 18:54:34,834 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 18:54:37,029 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 18:54:37,029 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 18:54:37,030 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 18:54:37,034 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 18:54:42,825 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 18:54:42,825 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 18:54:42,828 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 18:54:42,829 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 18:54:47,646 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:54:53,359 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:54:53,360 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:54:53,361 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:54:53,361 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:54:53,372 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:54:53,375 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:54:53,375 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:22:00,342 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:22:00,342 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:22:00,343 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:22:00,343 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:22:00,344 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:22:00,344 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:22:00,352 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:22:00,352 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:22:00,355 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:22:00,356 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:22:00,356 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:22:00,540 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:22:00,542 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:22:00,542 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:22:00,543 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:22:00,543 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:22:00,543 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:22:00,547 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:22:00,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:22:02,255 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 19:22:18,724 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 19:22:18,886 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 19:22:18,886 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 19:22:18,888 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 19:22:18,899 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 19:22:18,901 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 19:22:18,902 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 19:22:18,908 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 19:22:19,101 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 19:22:19,105 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 19:22:19,106 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 19:22:19,111 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 19:22:19,117 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 19:22:19,138 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 19:22:19,139 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 19:22:19,141 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 19:22:19,141 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 19:22:19,196 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 19:22:19,198 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 19:22:19,198 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 19:22:19,255 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 19:22:19,258 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 19:22:19,258 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 19:22:19,273 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 19:22:19,292 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 19:22:19,292 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 19:22:19,300 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 19:22:19,306 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 19:22:19,310 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 19:22:19,312 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 19:22:19,322 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 19:22:19,324 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 19:22:19,325 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 19:22:21,040 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 19:22:21,041 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 19:22:21,042 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 19:22:21,042 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 19:22:21,078 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:22:21,081 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:22:21,081 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 19:22:21,161 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 19:22:21,188 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 19:22:26,022 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:22:26,022 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:22:26,025 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:22:26,028 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:22:30,631 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:22:30,631 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:22:30,639 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:24:59,761 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1033, in _edit_selected_category_process
    dialog = AddEditChargeCodeCategoryDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1033, in _edit_selected_category_process
    dialog = AddEditChargeCodeCategoryDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
2025-06-05 19:25:24,137 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 19:25:25,587 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 19:25:25,588 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 19:25:25,589 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 19:25:25,590 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:25:25,599 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 19:25:25,602 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:25:25,603 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:35:16,805 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:35:16,806 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:35:16,806 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:35:16,813 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:35:16,813 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:35:16,816 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:35:16,817 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:35:16,817 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:35:16,999 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:35:17,001 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:35:17,001 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:35:17,001 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:35:17,001 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:35:17,001 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:35:17,006 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:35:17,054 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:35:18,593 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 19:35:27,695 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 19:35:27,855 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 19:35:27,855 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 19:35:27,856 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 19:35:27,867 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 19:35:27,867 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 19:35:27,867 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 19:35:27,874 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 19:35:28,037 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 19:35:28,040 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 19:35:28,042 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 19:35:28,047 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 19:35:28,051 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 19:35:28,071 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 19:35:28,073 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 19:35:28,073 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 19:35:28,128 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 19:35:28,129 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 19:35:28,130 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 19:35:28,195 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 19:35:28,198 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 19:35:28,198 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 19:35:28,211 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 19:35:28,244 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 19:35:28,245 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 19:35:28,254 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 19:35:28,259 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 19:35:28,260 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 19:35:28,263 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 19:35:28,276 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 19:35:28,279 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 19:35:28,279 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 19:35:35,930 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 19:35:35,930 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 19:35:35,933 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 19:35:35,933 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 19:35:35,969 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:35:35,971 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:35:35,971 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 19:35:36,046 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 19:35:36,047 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 19:35:36,047 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 19:35:36,048 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 19:35:36,048 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 19:35:36,073 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 19:35:40,573 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 19:35:40,574 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 19:35:40,582 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 19:35:42,061 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:35:42,062 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:35:42,070 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:36:12,779 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:36:12,779 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:36:12,781 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:36:12,784 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:36:16,600 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 19:36:16,600 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 19:36:16,608 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 19:36:16,608 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 19:36:22,468 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:36:22,468 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:36:22,475 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:40:28,414 - INFO - HorseUnifiedManagement - horse_unified_management:1660 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 19:40:28,414 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 19:40:28,416 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 19:40:28,416 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:40:28,419 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 19:40:28,419 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 19:40:28,447 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:40:28,449 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:50:20,168 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:50:20,169 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:50:20,169 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:50:20,169 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:50:20,170 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:50:20,170 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:50:20,177 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:50:20,177 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:50:20,180 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:50:20,181 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:50:20,181 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:50:20,360 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:50:20,361 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:50:20,362 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:50:20,362 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:50:20,362 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:50:20,362 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:50:20,367 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:50:20,416 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:50:23,595 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:50:23,606 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:50:23,606 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:56:56,609 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:56:56,609 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:56:56,610 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:56:56,610 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:56:56,610 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:56:56,610 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:56:56,619 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:56:56,619 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:56:56,622 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:56:56,623 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:56:56,623 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:56:56,803 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:56:56,805 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:56:56,805 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:56:56,806 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:56:56,806 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:56:56,806 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:56:56,810 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:56:56,885 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:56:58,516 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 19:57:07,982 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 19:57:08,143 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 19:57:08,144 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 19:57:08,145 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 19:57:08,174 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 19:57:08,174 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 19:57:08,175 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 19:57:08,175 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 19:57:08,176 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 19:57:08,176 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 19:57:08,181 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 19:57:08,364 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 19:57:08,368 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 19:57:08,371 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 19:57:08,381 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 19:57:08,386 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 19:57:08,407 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 19:57:08,407 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 19:57:08,409 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 19:57:08,409 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 19:57:08,409 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 19:57:08,409 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 19:57:08,409 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 19:57:08,467 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 19:57:08,469 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 19:57:08,469 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 19:57:08,532 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 19:57:08,536 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 19:57:08,536 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 19:57:08,552 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 19:57:08,576 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 19:57:08,576 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 19:57:08,585 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 19:57:08,590 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 19:57:08,591 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 19:57:08,597 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 19:57:08,611 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 19:57:08,615 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 19:57:08,616 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 19:57:10,293 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 19:57:10,294 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 19:57:10,295 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 19:57:10,296 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 19:57:10,296 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 19:57:10,296 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 19:57:10,296 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 19:57:10,330 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:57:10,332 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:57:10,333 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 19:57:10,413 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 19:57:10,414 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 19:57:10,415 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 19:57:10,415 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 19:57:10,415 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 19:57:10,465 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 19:57:13,451 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 19:57:13,452 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 19:57:13,458 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 19:57:16,031 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:57:16,032 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:57:16,039 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:57:18,841 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:57:18,841 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:57:18,843 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:57:18,846 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:57:22,665 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 19:57:22,665 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 19:57:22,669 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=all).
2025-06-05 19:57:22,669 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 19:57:25,317 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:57:25,317 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:57:25,319 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:57:25,320 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:57:50,873 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '12' created (ID: 3) by ADMIN.
2025-06-05 19:57:52,852 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:57:52,852 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:57:52,857 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:58:02,259 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 19:58:02,260 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 19:58:02,262 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=all).
2025-06-05 19:58:02,263 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 19:58:04,099 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:58:04,100 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:58:04,102 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:58:04,105 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:58:10,857 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:58:10,857 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:58:10,864 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:58:13,193 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 19:58:13,193 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 19:58:13,196 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 19:58:14,764 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 19:58:14,765 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:58:14,771 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:58:15,858 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 19:58:15,858 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 19:58:15,861 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 19:58:16,933 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:58:16,934 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:58:16,943 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:58:17,978 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:58:17,979 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:58:17,982 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:58:17,983 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:58:23,213 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 19:58:23,215 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 19:58:23,217 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=all).
2025-06-05 19:58:23,218 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 19:58:30,780 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 19:58:30,782 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 19:58:30,783 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 19:58:30,785 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:58:30,817 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 19:58:30,821 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:58:30,822 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 20:00:49,698 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 20:00:49,698 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 20:00:49,699 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 20:00:49,699 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 20:00:49,699 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 20:00:49,699 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 20:00:49,705 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 20:00:49,706 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 20:00:49,709 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 20:00:49,709 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 20:00:49,710 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 20:00:49,888 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 20:00:49,890 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 20:00:49,890 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 20:00:49,890 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 20:00:49,890 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 20:00:49,891 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 20:00:49,896 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 20:00:49,946 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 20:00:51,851 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 20:01:00,950 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 20:01:01,111 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 20:01:01,112 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 20:01:01,113 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 20:01:01,123 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 20:01:01,124 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 20:01:01,125 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 20:01:01,125 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 20:01:01,126 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 20:01:01,126 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 20:01:01,134 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 20:01:01,293 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 20:01:01,296 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 20:01:01,298 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 20:01:01,304 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 20:01:01,309 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 20:01:01,331 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 20:01:01,331 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 20:01:01,331 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 20:01:01,332 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 20:01:01,332 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 20:01:01,332 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 20:01:01,332 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 20:01:01,391 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 20:01:01,391 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 20:01:01,392 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 20:01:01,451 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 20:01:01,454 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 20:01:01,455 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 20:01:01,470 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 20:01:01,493 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 20:01:01,494 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:01:01,501 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 20:01:01,511 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 20:01:01,512 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 20:01:01,517 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 20:01:01,528 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 20:01:01,531 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 20:01:01,532 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 20:01:03,739 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 20:01:03,739 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 20:01:03,741 - INFO - UserManagementScreen - user_management_screen:104 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 20:01:03,741 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 20:01:03,742 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 20:01:03,742 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 20:01:03,742 - INFO - UserManagementScreen - user_management_screen:177 - Setting up UserManagementScreen UI...
2025-06-05 20:01:03,789 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:01:03,791 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 2 users.
2025-06-05 20:01:03,791 - INFO - UserManagementScreen - user_management_screen:207 - UserManagementScreen UI setup complete.
2025-06-05 20:01:03,878 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 20:01:03,879 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 20:01:03,880 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 20:01:03,880 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 20:01:03,880 - INFO - UserManagementScreen - user_management_screen:174 - UserManagementScreen __init__ completed.
2025-06-05 20:01:03,908 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 20:01:10,280 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 20:01:10,280 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:01:10,286 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 3 locations.
2025-06-05 20:01:16,045 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 20:01:16,048 - INFO - UserManagementScreen - user_management_screen:1024 - Loading charge code categories/processes data...
2025-06-05 20:01:16,056 - INFO - UserManagementScreen - user_management_screen:1096 - Displayed categories in tree (UI filter: 'active').
2025-06-05 20:01:18,064 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:01:18,065 - INFO - UserManagementScreen - user_management_screen:1341 - Loading charge codes data for tab...
2025-06-05 20:01:18,066 - INFO - UserManagementScreen - user_management_screen:1347 - Charge code status filter: active
2025-06-05 20:01:18,070 - ERROR - UserManagementScreen - user_management_screen:1401 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 20:01:21,960 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 20:01:21,960 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:01:21,964 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:01:21,965 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 2 owners.
2025-06-05 20:01:29,835 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:01:29,836 - INFO - UserManagementScreen - user_management_screen:1341 - Loading charge codes data for tab...
2025-06-05 20:01:29,837 - INFO - UserManagementScreen - user_management_screen:1347 - Charge code status filter: active
2025-06-05 20:01:29,839 - ERROR - UserManagementScreen - user_management_screen:1401 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 20:01:34,999 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 20:01:34,999 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:01:35,002 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:01:35,002 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 2 owners.
2025-06-05 20:01:36,632 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 20:01:36,633 - INFO - UserManagementScreen - user_management_screen:1024 - Loading charge code categories/processes data...
2025-06-05 20:01:36,639 - INFO - UserManagementScreen - user_management_screen:1096 - Displayed categories in tree (UI filter: 'active').
2025-06-05 20:01:38,971 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 20:01:38,972 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:01:38,974 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 3 locations.
2025-06-05 20:01:41,649 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 20:01:41,649 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:01:41,651 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 2 users.
2025-06-05 20:01:50,079 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 20:01:58,806 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:01:58,809 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 0 users.
2025-06-05 20:02:02,498 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:02:02,499 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 2 users.
2025-06-05 20:02:05,027 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 20:02:54,009 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: bc by ADMIN
2025-06-05 20:02:54,171 - INFO - UserController - user_controller:293 - User 'bc' created successfully by ADMIN.
2025-06-05 20:02:54,171 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-05 20:02:54,177 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:02:54,178 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 3 users.
2025-06-05 20:02:58,868 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 20:03:02,677 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: bc by ADMIN
2025-06-05 20:03:02,680 - INFO - UserController - user_controller:424 - User 'bc' updated successfully by ADMIN.
2025-06-05 20:03:02,680 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User updated successfully.
2025-06-05 20:03:02,687 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:03:02,688 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 3 users.
2025-06-05 20:03:08,174 - INFO - UserController - user_controller:605 - User 'bc' has been deactivated by ADMIN.
2025-06-05 20:03:10,449 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:03:10,450 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 2 users.
2025-06-05 20:03:13,688 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:03:13,689 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 1 users.
2025-06-05 20:03:21,943 - INFO - UserController - user_controller:605 - User 'bc' has been activated by ADMIN.
2025-06-05 20:03:23,493 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:03:23,494 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 0 users.
2025-06-05 20:03:27,034 - INFO - UserManagementScreen - user_management_screen:557 - Loading users data for tab...
2025-06-05 20:03:27,036 - INFO - UserManagementScreen - user_management_screen:594 - Loaded 3 users.
2025-06-05 20:03:33,020 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 20:03:33,020 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:03:33,023 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 3 locations.
2025-06-05 20:03:35,846 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 20:04:21,930 - INFO - LocationController - location_controller:128 - Location 'new barn' created by ADMIN.
2025-06-05 20:04:23,475 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:04:23,476 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 4 locations.
2025-06-05 20:04:29,996 - INFO - LocationController - location_controller:201 - Location 'new barn' (ID: 4) status changed to deactivated by ADMIN.
2025-06-05 20:04:31,661 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:04:31,662 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 3 locations.
2025-06-05 20:04:36,247 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:04:36,249 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 1 locations.
2025-06-05 20:04:42,503 - INFO - LocationController - location_controller:201 - Location 'new barn' (ID: 4) status changed to activated by ADMIN.
2025-06-05 20:04:44,745 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:04:44,746 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 0 locations.
2025-06-05 20:04:47,298 - INFO - UserManagementScreen - user_management_screen:781 - Loading locations data for tab...
2025-06-05 20:04:47,299 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 4 locations.
2025-06-05 20:04:49,928 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 20:04:49,928 - INFO - UserManagementScreen - user_management_screen:1024 - Loading charge code categories/processes data...
2025-06-05 20:04:49,934 - INFO - UserManagementScreen - user_management_screen:1096 - Displayed categories in tree (UI filter: 'active').
2025-06-05 20:04:53,908 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:04:53,908 - INFO - UserManagementScreen - user_management_screen:1341 - Loading charge codes data for tab...
2025-06-05 20:04:53,910 - INFO - UserManagementScreen - user_management_screen:1347 - Charge code status filter: active
2025-06-05 20:04:53,912 - ERROR - UserManagementScreen - user_management_screen:1401 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 20:05:29,681 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '1234' created (ID: 4) by ADMIN.
2025-06-05 20:05:31,554 - INFO - UserManagementScreen - user_management_screen:1341 - Loading charge codes data for tab...
2025-06-05 20:05:31,554 - INFO - UserManagementScreen - user_management_screen:1347 - Charge code status filter: active
2025-06-05 20:05:31,558 - ERROR - UserManagementScreen - user_management_screen:1401 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 20:05:36,829 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 20:05:36,829 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:05:36,831 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:05:36,832 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 2 owners.
2025-06-05 20:05:40,234 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 20:05:40,236 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 20:06:49,107 - INFO - OwnerController - owner_controller:335 - Master Owner 'none (brad coulter)' (ID: 3) created by ADMIN.
2025-06-05 20:06:50,721 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:06:50,722 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-05 20:06:50,724 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 3 owners.
2025-06-05 20:06:55,764 - INFO - OwnerController - owner_controller:592 - Owner ID 3 deactivated by ADMIN.
2025-06-05 20:06:57,084 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:06:57,084 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:06:57,085 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 2 owners.
2025-06-05 20:07:00,028 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:07:00,030 - INFO - OwnerController - owner_controller:68 - Retrieved 1 master owners (status_filter=inactive).
2025-06-05 20:07:00,031 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 1 owners.
2025-06-05 20:07:04,413 - INFO - OwnerController - owner_controller:520 - Master Owner 'none coulter brad' (ID: 3) permanently deleted by admin 'ADMIN'.
2025-06-05 20:07:05,717 - INFO - UserManagementScreen - user_management_screen:1603 - Loading owners data for tab...
2025-06-05 20:07:05,717 - INFO - OwnerController - owner_controller:68 - Retrieved 0 master owners (status_filter=inactive).
2025-06-05 20:07:05,719 - INFO - UserManagementScreen - user_management_screen:1650 - Loaded 0 owners.
2025-06-05 20:07:08,054 - INFO - UserManagementScreen - user_management_screen:443 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:07:08,055 - INFO - UserManagementScreen - user_management_screen:1341 - Loading charge codes data for tab...
2025-06-05 20:07:08,056 - INFO - UserManagementScreen - user_management_screen:1347 - Charge code status filter: active
2025-06-05 20:07:08,058 - ERROR - UserManagementScreen - user_management_screen:1401 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1370, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 20:07:22,760 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 20:07:25,208 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 20:07:25,209 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 20:07:25,210 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 20:07:25,211 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 20:07:25,222 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 20:07:25,225 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 20:07:25,225 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 20:13:57,491 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 20:13:57,491 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 20:13:57,492 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 20:13:57,492 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 20:13:57,492 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 20:13:57,492 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 20:13:57,499 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 20:13:57,500 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 20:13:57,502 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 20:13:57,503 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 20:13:57,503 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 20:13:57,685 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 20:13:57,687 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 20:13:57,687 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 20:13:57,687 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 20:13:57,687 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 20:13:57,688 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 20:13:57,692 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 20:13:57,745 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 20:13:59,497 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 20:14:12,918 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 20:14:13,080 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 20:14:13,081 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 20:14:13,082 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 20:14:13,095 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 20:14:13,096 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 20:14:13,096 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 20:14:13,096 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 20:14:13,097 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 20:14:13,097 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 20:14:13,102 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 20:14:13,263 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 20:14:13,266 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 20:14:13,268 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 20:14:13,273 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 20:14:13,278 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 20:14:13,301 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 20:14:13,301 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 20:14:13,302 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 20:14:13,302 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 20:14:13,302 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 20:14:13,302 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 20:14:13,303 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 20:14:13,361 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 20:14:13,362 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 20:14:13,363 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 20:14:13,422 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 20:14:13,425 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 20:14:13,425 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 20:14:13,440 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 20:14:13,463 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 20:14:13,464 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:14:13,471 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 20:14:13,476 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 20:14:13,476 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 20:14:13,479 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 20:14:13,488 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 20:14:13,492 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 20:14:13,492 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 20:14:15,704 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 20:14:15,705 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 20:14:15,708 - INFO - UserManagementScreen - user_management_screen:100 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 20:14:15,709 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 20:14:15,709 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 20:14:15,709 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 20:14:15,709 - INFO - UserManagementScreen - user_management_screen:173 - Setting up UserManagementScreen UI...
2025-06-05 20:14:15,754 - INFO - UserManagementScreen - user_management_screen:553 - Loading users data for tab...
2025-06-05 20:14:15,756 - INFO - UserManagementScreen - user_management_screen:590 - Loaded 3 users.
2025-06-05 20:14:15,756 - INFO - UserManagementScreen - user_management_screen:203 - UserManagementScreen UI setup complete.
2025-06-05 20:14:15,842 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 20:14:15,843 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 20:14:15,843 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 20:14:15,844 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 20:14:15,844 - INFO - UserManagementScreen - user_management_screen:170 - UserManagementScreen __init__ completed.
2025-06-05 20:14:15,870 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 20:14:20,090 - INFO - UserManagementScreen - user_management_screen:439 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:14:20,090 - INFO - UserManagementScreen - user_management_screen:1335 - Loading charge codes data for tab...
2025-06-05 20:14:20,093 - INFO - UserManagementScreen - user_management_screen:1341 - Charge code status filter: active
2025-06-05 20:14:20,098 - INFO - UserManagementScreen - user_management_screen:1394 - Loaded 4 charge codes based on filter 'active'.
2025-06-05 20:14:32,001 - INFO - ChargeCodeController - charge_code_controller:411 - Charge Code '1234' (ID: 4) deleted by ADMIN.
2025-06-05 20:14:34,568 - INFO - UserManagementScreen - user_management_screen:1335 - Loading charge codes data for tab...
2025-06-05 20:14:34,569 - INFO - UserManagementScreen - user_management_screen:1341 - Charge code status filter: active
2025-06-05 20:14:34,572 - INFO - UserManagementScreen - user_management_screen:1394 - Loaded 3 charge codes based on filter 'active'.
2025-06-05 20:14:39,872 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCodeController' object has no attribute 'toggle_charge_code_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1469, in _toggle_selected_charge_code_active_status
    self.charge_code_controller.toggle_charge_code_active_status(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'toggle_charge_code_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1469, in _toggle_selected_charge_code_active_status
    self.charge_code_controller.toggle_charge_code_active_status(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'toggle_charge_code_active_status'
2025-06-05 20:21:36,315 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 20:21:36,316 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 20:21:36,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 20:21:36,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 20:21:36,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 20:21:36,316 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 20:21:36,324 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 20:21:36,324 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 20:21:36,326 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 20:21:36,327 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 20:21:36,327 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 20:21:36,509 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 20:21:36,511 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 20:21:36,511 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 20:21:36,511 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 20:21:36,511 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 20:21:36,512 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 20:21:36,516 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 20:21:36,565 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 20:21:38,025 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 20:21:48,709 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 20:21:48,869 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 20:21:48,869 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 20:21:48,870 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 20:21:48,883 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 20:21:48,883 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 20:21:48,884 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 20:21:48,884 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 20:21:48,884 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 20:21:48,884 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 20:21:48,890 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 20:21:49,053 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 20:21:49,056 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 20:21:49,058 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 20:21:49,064 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 20:21:49,069 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 20:21:49,090 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 20:21:49,091 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 20:21:49,092 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 20:21:49,092 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 20:21:49,092 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 20:21:49,093 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 20:21:49,093 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 20:21:49,152 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 20:21:49,154 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 20:21:49,154 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 20:21:49,214 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 20:21:49,217 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 20:21:49,217 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 20:21:49,229 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 20:21:49,249 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 20:21:49,249 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:21:49,257 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 20:21:49,261 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 20:21:49,261 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 20:21:49,264 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 20:21:49,275 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 20:21:49,277 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 20:21:49,278 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 20:21:52,223 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 20:21:52,224 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 20:21:52,225 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 20:21:52,225 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 20:21:52,226 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 20:21:52,226 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 20:21:52,226 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-05 20:21:52,271 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-05 20:21:52,273 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 3 users.
2025-06-05 20:21:52,273 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-05 20:21:52,359 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 20:21:52,359 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 20:21:52,360 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 20:21:52,360 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 20:21:52,360 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-05 20:21:52,386 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 20:21:58,194 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 20:21:58,194 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-05 20:21:58,200 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 4 locations.
2025-06-05 20:22:17,973 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 20:22:17,973 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-05 20:22:17,980 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-05 20:22:19,958 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:22:19,958 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:22:19,959 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:22:19,963 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 3 charge codes based on filter 'active'.
2025-06-05 20:22:29,882 - INFO - ChargeCodeController - charge_code_controller:411 - Charge Code 'EXAM001' (ID: 2) deleted by ADMIN.
2025-06-05 20:22:31,365 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:22:31,367 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:22:31,370 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 2 charge codes based on filter 'active'.
2025-06-05 20:22:39,884 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'dict' object has no attribute 'category_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1427, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 125, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 404, in _populate_fields
    main_cat_id = path[0].category_id
                  ^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'category_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1427, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 125, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 404, in _populate_fields
    main_cat_id = path[0].category_id
                  ^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'category_id'
2025-06-05 20:27:05,223 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 20:27:05,223 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 20:27:05,224 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 20:27:05,224 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 20:27:05,224 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 20:27:05,224 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 20:27:05,232 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 20:27:05,232 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 20:27:05,235 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 20:27:05,236 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 20:27:05,236 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 20:27:05,415 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 20:27:05,418 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 20:27:05,419 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 20:27:05,419 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 20:27:05,419 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 20:27:05,419 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 20:27:05,424 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 20:27:05,480 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 20:27:06,928 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 20:27:15,755 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 20:27:15,916 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 20:27:15,917 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 20:27:15,918 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 20:27:15,929 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 20:27:15,930 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 20:27:15,930 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 20:27:15,930 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 20:27:15,930 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 20:27:15,931 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 20:27:15,935 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 20:27:16,084 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 20:27:16,087 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 20:27:16,088 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 20:27:16,093 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 20:27:16,098 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 20:27:16,117 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 20:27:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 20:27:16,172 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 20:27:16,173 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 20:27:16,174 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 20:27:16,241 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 20:27:16,244 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 20:27:16,245 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 20:27:16,256 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 20:27:16,279 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 20:27:16,280 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:27:16,288 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 20:27:16,293 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 20:27:16,296 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 20:27:16,299 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 20:27:16,308 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 20:27:16,313 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 20:27:16,313 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 20:27:18,549 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 20:27:18,550 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 20:27:18,551 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 20:27:18,552 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 20:27:18,552 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 20:27:18,552 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 20:27:18,552 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-05 20:27:18,599 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-05 20:27:18,601 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 3 users.
2025-06-05 20:27:18,602 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-05 20:27:18,688 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 20:27:18,689 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 20:27:18,689 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 20:27:18,689 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 20:27:18,689 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-05 20:27:18,715 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 20:27:22,267 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 20:27:22,268 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:27:22,270 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:27:22,275 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 2 charge codes based on filter 'active'.
2025-06-05 20:28:41,434 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '9' created (ID: 4) by ADMIN.
2025-06-05 20:28:43,161 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:28:43,161 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:28:43,166 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 3 charge codes based on filter 'active'.
2025-06-05 20:28:51,832 - INFO - ChargeCodeController - charge_code_controller:411 - Charge Code '12' (ID: 3) deleted by ADMIN.
2025-06-05 20:28:53,113 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:28:53,113 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:28:53,118 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 2 charge codes based on filter 'active'.
2025-06-05 20:30:55,829 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '13' created (ID: 5) by ADMIN.
2025-06-05 20:30:57,576 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-05 20:30:57,578 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-05 20:30:57,581 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 3 charge codes based on filter 'active'.
2025-06-05 20:31:03,730 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 20:31:03,730 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-05 20:31:03,733 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:31:03,733 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-05 20:31:08,433 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 20:31:08,434 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-05 20:31:08,440 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-05 20:31:10,096 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 20:31:10,097 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-05 20:31:10,099 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 4 locations.
2025-06-05 20:31:12,083 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 20:31:12,083 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-05 20:31:12,085 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 3 users.
2025-06-05 20:31:18,390 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 20:33:23,698 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-05 20:33:23,700 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 20:33:23,706 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-05 20:34:04,733 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-05 20:34:04,733 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:34:04,735 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:34:04,735 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:34:04,744 - INFO - HorseController - horse_controller:179 - Horse 'Sombraro' (ID: 2) created successfully by ADMIN.
2025-06-05 20:34:04,744 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Sombraro' created successfully.
2025-06-05 20:34:04,744 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Sombraro' created successfully.
2025-06-05 20:34:06,607 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Sombraro
2025-06-05 20:34:06,607 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:34:06,609 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-05 20:34:06,613 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-05 20:34:06,613 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 2
2025-06-05 20:34:06,615 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Sombraro
2025-06-05 20:34:06,617 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 2.
2025-06-05 20:34:06,617 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 20:34:06,617 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-05 20:34:12,361 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Sombraro
2025-06-05 20:34:19,277 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-05 20:34:27,803 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Sombraro
2025-06-05 20:34:35,576 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-05 20:34:37,131 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 2
2025-06-05 20:34:37,139 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 2 by ADMIN.
2025-06-05 20:34:37,140 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-05 20:34:38,932 - INFO - HorseUnifiedManagement - horse_unified_management:1121 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-05 20:34:38,932 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 2
2025-06-05 20:34:38,933 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Sombraro
2025-06-05 20:34:38,936 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 2.
2025-06-05 20:34:38,936 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 20:34:42,985 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Sombraro
2025-06-05 20:34:42,988 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-05 20:34:44,235 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-05 20:34:45,253 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 2
2025-06-05 20:34:45,260 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 3 by ADMIN.
2025-06-05 20:34:45,260 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 2. Emitting signal.
2025-06-05 20:34:45,261 - INFO - HorseUnifiedManagement - horse_unified_management:915 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-05 20:34:45,261 - INFO - HorseUnifiedManagement - horse_unified_management:918 - Location changed for horse ID 2. Reloading details.
2025-06-05 20:34:45,262 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 2
2025-06-05 20:34:45,263 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Sombraro
2025-06-05 20:34:45,267 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 2.
2025-06-05 20:34:45,267 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 20:34:45,267 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-05 20:35:34,313 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-05 20:35:34,313 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 20:35:34,319 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-05 20:35:57,550 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-05 20:35:57,550 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:35:57,552 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:35:57,552 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:35:57,558 - INFO - HorseController - horse_controller:179 - Horse 'Donatello' (ID: 3) created successfully by ADMIN.
2025-06-05 20:35:57,558 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Donatello' created successfully.
2025-06-05 20:35:57,558 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Donatello' created successfully.
2025-06-05 20:35:59,164 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Donatello
2025-06-05 20:35:59,164 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:35:59,167 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-05 20:35:59,171 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-05 20:35:59,172 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 3
2025-06-05 20:35:59,172 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Donatello
2025-06-05 20:35:59,175 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 3.
2025-06-05 20:35:59,175 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 3
2025-06-05 20:35:59,175 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-05 20:36:03,729 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-05 20:36:03,729 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 20:36:03,735 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-05 20:36:20,527 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-05 20:36:20,528 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:20,529 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:20,529 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:20,534 - INFO - HorseController - horse_controller:179 - Horse 'Lorena 90' (ID: 4) created successfully by ADMIN.
2025-06-05 20:36:20,534 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Lorena 90' created successfully.
2025-06-05 20:36:20,534 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Lorena 90' created successfully.
2025-06-05 20:36:22,089 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Lorena 90
2025-06-05 20:36:22,089 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:36:22,092 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-06-05 20:36:22,097 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-06-05 20:36:22,097 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 4
2025-06-05 20:36:22,099 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Lorena 90
2025-06-05 20:36:22,101 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 4.
2025-06-05 20:36:22,101 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 4
2025-06-05 20:36:22,101 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-05 20:36:26,023 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-05 20:36:26,023 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 20:36:26,028 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-05 20:36:42,577 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-05 20:36:42,577 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:42,578 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:42,579 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 20:36:42,585 - INFO - HorseController - horse_controller:179 - Horse 'Celano' (ID: 5) created successfully by ADMIN.
2025-06-05 20:36:42,585 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Celano' created successfully.
2025-06-05 20:36:42,586 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Celano' created successfully.
2025-06-05 20:36:44,416 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 5: Celano
2025-06-05 20:36:44,416 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 20:36:44,419 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 5 results.
2025-06-05 20:36:44,425 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 5 results.
2025-06-05 20:36:44,426 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 5
2025-06-05 20:36:44,426 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 5: Celano
2025-06-05 20:36:44,429 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 5.
2025-06-05 20:36:44,431 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 5
2025-06-05 20:36:44,431 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-05 20:36:53,516 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Celano
2025-06-05 20:36:53,519 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:36:53,525 - INFO - FinancialController - financial_controller:298 - Retrieved 2 active owners for lookup.
2025-06-05 20:36:53,526 - INFO - FinancialController - financial_controller:316 - Retrieved 3 active users for lookup.
2025-06-05 20:36:53,528 - INFO - FinancialController - financial_controller:280 - Retrieved 3 charge codes for lookup.
2025-06-05 20:36:53,529 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:36:53,531 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:36:53,531 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:36:53,532 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:36:53,534 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:07,427 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Celano
2025-06-05 20:37:11,209 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-05 20:37:12,585 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 5
2025-06-05 20:37:12,591 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 5 by ADMIN.
2025-06-05 20:37:12,591 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-05 20:37:14,173 - INFO - HorseUnifiedManagement - horse_unified_management:1121 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-05 20:37:14,175 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 5
2025-06-05 20:37:14,176 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 5: Celano
2025-06-05 20:37:14,180 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 5.
2025-06-05 20:37:14,180 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 5
2025-06-05 20:37:16,088 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Celano
2025-06-05 20:37:16,091 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-05 20:37:17,085 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-05 20:37:18,094 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 5
2025-06-05 20:37:18,100 - INFO - HorseController - horse_controller:613 - Horse ID 5 assigned to location ID 2 by ADMIN.
2025-06-05 20:37:18,100 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 5. Emitting signal.
2025-06-05 20:37:18,101 - INFO - HorseUnifiedManagement - horse_unified_management:915 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-05 20:37:18,101 - INFO - HorseUnifiedManagement - horse_unified_management:918 - Location changed for horse ID 5. Reloading details.
2025-06-05 20:37:18,101 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 5
2025-06-05 20:37:18,104 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 5: Celano
2025-06-05 20:37:18,107 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 5.
2025-06-05 20:37:18,109 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 5
2025-06-05 20:37:18,109 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-05 20:37:45,535 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Celano
2025-06-05 20:37:45,539 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:45,545 - INFO - FinancialController - financial_controller:316 - Retrieved 3 active users for lookup.
2025-06-05 20:37:45,546 - INFO - FinancialController - financial_controller:280 - Retrieved 3 charge codes for lookup.
2025-06-05 20:37:45,547 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:45,549 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:45,550 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:45,551 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:37:45,552 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:19,909 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 20:39:19,909 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 20:39:19,911 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 20:39:19,911 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 20:39:19,911 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 20:39:19,912 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 20:39:19,912 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-05 20:39:19,957 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-05 20:39:19,959 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 3 users.
2025-06-05 20:39:19,959 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-05 20:39:20,072 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 20:39:20,073 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 20:39:20,073 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 20:39:20,073 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 20:39:20,074 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-05 20:39:20,100 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 20:39:23,716 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 20:39:23,716 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-05 20:39:23,719 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-05 20:39:23,719 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-05 20:39:31,203 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 20:39:31,204 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 20:39:48,133 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 20:39:56,631 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Celano
2025-06-05 20:39:56,634 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:56,640 - INFO - FinancialController - financial_controller:316 - Retrieved 3 active users for lookup.
2025-06-05 20:39:56,641 - INFO - FinancialController - financial_controller:280 - Retrieved 3 charge codes for lookup.
2025-06-05 20:39:56,642 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:56,644 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:56,645 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:56,646 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:39:56,647 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 20:58:47,642 - INFO - HorseUnifiedManagement - horse_unified_management:1660 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 20:58:47,643 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 20:58:47,644 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 20:58:47,644 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 20:58:47,644 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 20:58:47,645 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 20:58:47,689 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 20:58:47,690 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 21:16:38,528 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:16:38,528 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:16:38,529 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:16:38,529 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:16:38,529 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:16:38,529 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:16:38,537 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:16:38,537 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:16:38,540 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:16:38,540 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:16:38,541 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:16:38,722 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:16:38,723 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:16:38,724 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:16:38,724 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:16:38,724 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:16:38,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:16:38,729 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:16:38,785 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:16:40,568 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:16:49,997 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:16:50,159 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:16:50,160 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:16:50,161 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:16:50,172 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:16:50,172 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:16:50,172 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:16:50,173 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:16:50,173 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:16:50,173 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:16:50,182 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:16:50,358 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 21:16:50,361 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 21:16:50,362 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 21:16:50,367 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 21:16:50,372 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 21:16:50,391 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:16:50,392 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 21:16:50,393 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 21:16:50,393 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 21:16:50,393 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:16:50,393 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:16:50,393 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:16:50,450 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:16:50,451 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:16:50,451 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:16:50,510 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 21:16:50,513 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 21:16:50,513 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:16:50,526 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:16:50,549 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:16:50,550 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:16:50,557 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 5 results.
2025-06-05 21:16:50,566 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 5 results.
2025-06-05 21:16:50,566 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 5
2025-06-05 21:16:50,569 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 5: Celano
2025-06-05 21:16:50,575 - ERROR - FinancialController - financial_controller:146 - Error retrieving transactions for horse ID 5: (sqlite3.OperationalError) no such column: transactions.transaction_id
[SQL: SELECT transactions.transaction_id AS transactions_transaction_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.invoice_id AS transactions_invoice_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.administered_by_user_id AS transactions_administered_by_user_id, transactions.transaction_date AS transactions_transaction_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_price AS transactions_total_price, transactions.taxable AS transactions_taxable, transactions.item_notes AS transactions_item_notes, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_user_id 
WHERE transactions.horse_id = ? AND transactions.invoice_id IS NULL ORDER BY transactions.transaction_date DESC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: transactions.transaction_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 140, in get_transactions_for_horse
    transactions = query.order_by(Transaction.transaction_date.desc()).all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: transactions.transaction_id
[SQL: SELECT transactions.transaction_id AS transactions_transaction_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.invoice_id AS transactions_invoice_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.administered_by_user_id AS transactions_administered_by_user_id, transactions.transaction_date AS transactions_transaction_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_price AS transactions_total_price, transactions.taxable AS transactions_taxable, transactions.item_notes AS transactions_item_notes, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_user_id 
WHERE transactions.horse_id = ? AND transactions.invoice_id IS NULL ORDER BY transactions.transaction_date DESC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-05 21:16:50,599 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 5
2025-06-05 21:16:50,599 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:16:56,279 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Celano
2025-06-05 21:16:56,280 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddChargeDialog.__init__() got an unexpected keyword argument 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 325, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
TypeError: AddChargeDialog.__init__() got an unexpected keyword argument 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 325, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
TypeError: AddChargeDialog.__init__() got an unexpected keyword argument 'parent_view'
2025-06-05 21:23:04,852 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:23:04,853 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:23:04,853 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:23:04,853 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:23:04,854 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:23:04,854 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:23:04,861 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:23:04,861 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:23:04,865 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:23:04,866 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:23:04,866 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:23:05,053 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:23:05,056 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:23:05,056 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:23:05,057 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:23:05,057 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:23:05,058 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:23:05,062 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:23:05,119 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:23:06,887 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:23:20,844 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:23:21,007 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:23:21,007 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:23:21,008 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:23:21,020 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:23:21,021 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:23:21,021 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:23:21,021 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:23:21,022 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:23:21,022 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:23:21,029 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:23:21,194 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 21:23:21,198 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 21:23:21,200 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 21:23:21,200 - ERROR - HorseUnifiedManagement - horse_unified_management:888 - ERROR BillingTab: BillingTab.__init__() got an unexpected keyword argument 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 882, in setup_horse_tabs
    self.billing_tab = BillingTab(
                       ^^^^^^^^^^^
TypeError: BillingTab.__init__() got an unexpected keyword argument 'parent_view'
2025-06-05 21:23:21,204 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 21:23:21,221 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:23:21,221 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 21:23:21,222 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 21:23:21,222 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 21:23:21,222 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:23:21,222 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:23:21,267 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:23:21,269 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:23:21,269 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:23:21,328 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 21:23:21,332 - WARNING - HorseUnifiedManagement - horse_unified_management:371 - display_empty_state: BillingTab is None or missing set_current_horse method.
2025-06-05 21:23:21,332 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 21:23:21,332 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:23:21,345 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:23:21,372 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:23:21,373 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:23:21,376 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-05 21:23:21,378 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-05 21:23:21,381 - WARNING - HorseUnifiedManagement - horse_unified_management:371 - display_empty_state: BillingTab is None or missing set_current_horse method.
2025-06-05 21:23:21,381 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 21:23:21,381 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:23:23,570 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-05 21:23:23,570 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 21:23:23,577 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-05 21:23:45,043 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-05 21:23:45,044 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:23:45,045 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:23:45,045 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:23:45,056 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-05 21:23:45,056 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-05 21:23:45,056 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-05 21:23:46,569 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:23:46,569 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:23:46,571 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:23:46,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:23:46,574 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 21:23:46,576 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:23:46,580 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:23:46,580 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-05 21:23:48,563 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-05 21:23:49,915 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-05 21:23:51,386 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 1
2025-06-05 21:23:51,396 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-05 21:23:51,396 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-05 21:23:52,767 - INFO - HorseUnifiedManagement - horse_unified_management:1121 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-05 21:23:52,768 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 21:23:52,770 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:23:52,773 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:23:55,625 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-05 21:23:55,630 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-05 21:23:57,065 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-05 21:23:58,004 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 1
2025-06-05 21:23:58,011 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 3 by ADMIN.
2025-06-05 21:23:58,011 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 1. Emitting signal.
2025-06-05 21:23:58,011 - INFO - HorseUnifiedManagement - horse_unified_management:915 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-05 21:23:58,012 - INFO - HorseUnifiedManagement - horse_unified_management:918 - Location changed for horse ID 1. Reloading details.
2025-06-05 21:23:58,012 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 21:23:58,013 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:23:58,017 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:23:58,018 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-05 21:24:35,191 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 21:24:35,192 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 21:24:35,193 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 21:24:35,193 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 21:24:35,194 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 21:24:35,194 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 21:24:35,194 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-05 21:24:35,239 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-05 21:24:35,241 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 1 users.
2025-06-05 21:24:35,242 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-05 21:24:35,315 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 21:24:35,316 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 21:24:35,316 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 21:24:35,317 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 21:24:35,317 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-05 21:24:35,344 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 21:24:39,632 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 21:24:39,632 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-05 21:24:39,641 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-05 21:24:42,463 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 21:39:20,431 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:39:20,431 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:39:20,432 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:39:20,432 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:39:20,432 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:39:20,433 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:39:20,441 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:39:20,441 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:39:20,444 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:39:20,445 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:39:20,445 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:39:20,624 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:39:20,626 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:39:20,626 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:39:20,626 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:39:20,626 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:39:20,627 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:39:20,631 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:39:20,681 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:39:22,415 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:39:33,391 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:39:33,552 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:39:33,552 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:39:33,554 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:39:33,566 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:39:33,566 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:39:33,567 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:39:33,567 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:39:33,567 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:39:33,568 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:39:33,576 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:39:33,792 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:39:33,795 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:39:33,796 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:39:33,798 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:39:33,802 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:39:33,821 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:39:33,822 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:39:33,822 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:39:33,823 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:39:33,823 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:39:33,823 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:39:33,823 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:39:33,877 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:39:33,878 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:39:33,878 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:39:33,942 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:39:33,945 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:39:33,945 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:39:33,958 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:39:33,986 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:39:33,986 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:39:33,994 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:39:33,999 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:39:34,000 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-05 21:39:34,003 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:39:34,009 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-05 21:39:34,013 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:39:34,013 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:39:53,279 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 170, in _launch_add_charge_dialog
    f"Launching AddChargeDialog for horse: {self.current_horse.name}"
                                            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 170, in _launch_add_charge_dialog
    f"Launching AddChargeDialog for horse: {self.current_horse.name}"
                                            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
2025-06-05 21:40:21,309 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 170, in _launch_add_charge_dialog
    f"Launching AddChargeDialog for horse: {self.current_horse.name}"
                                            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 170, in _launch_add_charge_dialog
    f"Launching AddChargeDialog for horse: {self.current_horse.name}"
                                            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
2025-06-05 21:42:08,369 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 21:42:08,369 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 21:42:08,371 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 21:42:08,371 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 21:42:08,372 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 21:42:08,372 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 21:42:08,383 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 21:42:08,385 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 21:42:40,984 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:42:40,984 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:42:40,985 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:42:40,985 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:42:40,985 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:42:40,985 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:42:40,992 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:42:40,992 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:42:40,995 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:42:40,996 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:42:40,996 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:42:41,174 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:42:41,176 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:42:41,176 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:42:41,176 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:42:41,176 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:42:41,177 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:42:41,181 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:42:41,238 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:42:42,674 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:42:52,833 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:42:52,993 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:42:52,994 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:42:52,995 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:42:53,005 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:42:53,006 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:42:53,006 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:42:53,006 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:42:53,007 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:42:53,007 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:42:53,012 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:42:53,214 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:42:53,217 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:42:53,219 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:42:53,221 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:42:53,226 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:42:53,244 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:42:53,245 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:42:53,245 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:42:53,245 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:42:53,246 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:42:53,246 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:42:53,246 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:42:53,300 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:42:53,301 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:42:53,302 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:42:53,364 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:42:53,367 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:42:53,367 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:42:53,378 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:42:53,397 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:42:53,398 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:42:53,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:42:53,409 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:42:53,410 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-05 21:42:53,412 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:42:53,422 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-05 21:42:53,425 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:42:53,426 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:42:57,322 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 21:42:57,323 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 86, in __init__
    self.setWindowTitle(f"Add Charges for: {self.horse.name}")
                                            ^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 86, in __init__
    self.setWindowTitle(f"Add Charges for: {self.horse.name}")
                                            ^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'name'
2025-06-05 21:43:20,375 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 21:43:20,376 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 21:43:20,377 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 21:43:20,378 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 21:43:20,388 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 21:43:20,390 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 21:43:20,391 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 21:45:22,010 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:45:22,011 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:45:22,011 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:45:22,011 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:45:22,012 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:45:22,012 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:45:22,019 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:45:22,019 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:45:22,022 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:45:22,023 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:45:22,023 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:45:22,204 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:45:22,206 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:45:22,206 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:45:22,206 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:45:22,206 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:45:22,207 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:45:22,211 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:45:22,261 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:45:23,858 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:45:50,166 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:45:50,327 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:45:50,328 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:45:50,330 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:45:50,341 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:45:50,342 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:45:50,342 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:45:50,342 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:45:50,343 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:45:50,343 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:45:50,349 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:45:50,510 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:45:50,513 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:45:50,514 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:45:50,516 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:45:50,521 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:45:50,539 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:45:50,540 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:45:50,540 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:45:50,540 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:45:50,540 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:45:50,541 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:45:50,543 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:45:50,594 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:45:50,595 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:45:50,596 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:45:50,666 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:45:50,669 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:45:50,669 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:45:50,682 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:45:50,702 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:45:50,702 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:45:50,709 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:45:50,715 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:45:50,715 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-05 21:45:50,718 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:45:50,726 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-05 21:45:50,731 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:45:50,731 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:45:57,920 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 21:45:57,928 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 96, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    button_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 96, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    button_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-05 21:48:02,565 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 21:48:02,566 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 21:48:02,568 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 21:48:02,568 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 21:48:02,568 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 21:48:02,569 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 21:48:02,580 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 21:48:02,580 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 21:48:24,498 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:48:24,499 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:48:24,499 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:48:24,499 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:48:24,500 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:48:24,500 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:48:24,507 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:48:24,507 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:48:24,511 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:48:24,512 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:48:24,512 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:48:24,694 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:48:24,696 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:48:24,696 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:48:24,696 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:48:24,696 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:48:24,697 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:48:24,701 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:48:24,752 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:48:26,509 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:48:39,463 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:48:39,624 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:48:39,624 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:48:39,626 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:48:39,638 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:48:39,639 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:48:39,639 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:48:39,639 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:48:39,640 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:48:39,640 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:48:39,646 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:48:39,808 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:48:39,811 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:48:39,812 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:48:39,814 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:48:39,818 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:48:39,836 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:48:39,837 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:48:39,838 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:48:39,838 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:48:39,839 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:48:39,839 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:48:39,839 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:48:39,889 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:48:39,890 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:48:39,891 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:48:39,950 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:48:39,953 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:48:39,953 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:48:39,964 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:48:39,992 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:48:39,992 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:48:40,000 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:48:40,004 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:48:40,005 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-05 21:48:40,007 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:48:40,016 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-05 21:48:40,019 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:48:40,020 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:48:43,313 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 21:48:43,321 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'birth_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 104, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 279, in _populate_header
    if self.horse.birth_date:
       ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'birth_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 104, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 279, in _populate_header
    if self.horse.birth_date:
       ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'birth_date'
2025-06-05 21:51:05,436 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:51:05,436 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:51:05,437 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:51:05,437 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:51:05,437 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:51:05,437 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:51:05,444 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:51:05,445 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:51:05,448 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:51:05,449 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:51:05,449 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:51:05,632 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:51:05,634 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:51:05,634 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:51:05,634 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:51:05,634 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:51:05,635 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:51:05,639 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:51:05,691 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:51:07,282 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:51:16,119 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:51:16,280 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:51:16,280 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:51:16,282 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:51:16,295 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:51:16,295 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:51:16,295 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:51:16,296 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:51:16,296 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:51:16,297 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:51:16,302 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:51:16,453 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:51:16,457 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:51:16,458 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:51:16,460 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:51:16,464 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:51:16,482 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:51:16,483 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:51:16,484 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:51:16,484 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:51:16,485 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:51:16,485 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:51:16,485 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:51:16,536 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:51:16,537 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:51:16,537 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:51:16,597 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:51:16,600 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:51:16,601 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:51:16,611 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:51:16,631 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:51:16,631 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:51:16,639 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 21:51:16,644 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 21:51:16,645 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-05 21:51:16,647 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 21:51:16,655 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-05 21:51:16,658 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 21:51:16,659 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:51:20,634 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 21:51:20,642 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'locations'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 107, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 295, in _populate_header
    location = self.horse.locations[0] if self.horse.locations else None
                                          ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'locations'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 107, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 295, in _populate_header
    location = self.horse.locations[0] if self.horse.locations else None
                                          ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'locations'
2025-06-05 21:51:36,790 - INFO - HorseUnifiedManagement - horse_unified_management:1042 - add_new_horse: START
2025-06-05 21:51:36,791 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-05 21:51:36,796 - INFO - HorseUnifiedManagement - horse_unified_management:1079 - add_new_horse: FINISHED
2025-06-05 21:51:54,977 - INFO - HorseUnifiedManagement - horse_unified_management:1137 - save_changes: START
2025-06-05 21:51:54,977 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:51:54,979 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:51:54,979 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-05 21:51:54,988 - INFO - HorseController - horse_controller:179 - Horse 'Doroni' (ID: 2) created successfully by ADMIN.
2025-06-05 21:51:54,988 - INFO - HorseUnifiedManagement - horse_unified_management:1204 - save_changes: Save successful. Message: Horse 'Doroni' created successfully.
2025-06-05 21:51:54,988 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Doroni' created successfully.
2025-06-05 21:51:57,336 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-05 21:51:57,336 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:51:57,339 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-05 21:51:57,343 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-05 21:51:57,343 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-05 21:51:57,344 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-05 21:51:57,347 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-05 21:51:57,348 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 21:51:57,348 - INFO - HorseUnifiedManagement - horse_unified_management:1262 - save_changes: FINISHED
2025-06-05 21:51:59,848 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-05 21:52:01,091 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-05 21:52:02,169 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 2
2025-06-05 21:52:02,178 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 2 by ADMIN.
2025-06-05 21:52:02,178 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-05 21:52:04,086 - INFO - HorseUnifiedManagement - horse_unified_management:1098 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-05 21:52:04,088 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-05 21:52:04,089 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-05 21:52:04,092 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-05 21:52:04,094 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 21:52:06,738 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-05 21:52:06,742 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-05 21:52:08,757 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Main Stable (Equineville, PA)
2025-06-05 21:52:09,812 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Main Stable') to Horse ID 2
2025-06-05 21:52:09,819 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-05 21:52:09,819 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-05 21:52:09,819 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Received location_assignment_changed: {'id': 1, 'name': 'Main Stable'}
2025-06-05 21:52:09,820 - INFO - HorseUnifiedManagement - horse_unified_management:897 - Location changed for horse ID 2. Reloading details.
2025-06-05 21:52:09,820 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-05 21:52:09,821 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-05 21:52:09,825 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-05 21:52:09,825 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 21:52:09,825 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-05 21:52:18,267 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Doroni
2025-06-05 21:52:18,273 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Horse' object has no attribute 'locations'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 107, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 295, in _populate_header
    location = self.horse.locations[0] if self.horse.locations else None
                                          ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'locations'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 176, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 107, in __init__
    self._populate_header()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 295, in _populate_header
    location = self.horse.locations[0] if self.horse.locations else None
                                          ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Horse' object has no attribute 'locations'
2025-06-05 21:55:33,877 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 21:55:33,877 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 21:55:33,879 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 21:55:33,879 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 21:55:33,879 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 21:55:33,880 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 21:55:33,900 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 21:55:33,902 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 21:56:58,328 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 21:56:58,328 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 21:56:58,329 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 21:56:58,329 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 21:56:58,329 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 21:56:58,330 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 21:56:58,337 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 21:56:58,337 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 21:56:58,340 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 21:56:58,341 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 21:56:58,341 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 21:56:58,522 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 21:56:58,524 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 21:56:58,524 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 21:56:58,525 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 21:56:58,525 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 21:56:58,525 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 21:56:58,529 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 21:56:58,581 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 21:56:59,842 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 21:57:10,227 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 21:57:10,389 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-05 21:57:10,390 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 21:57:10,392 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 21:57:10,403 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 21:57:10,403 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 21:57:10,403 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 21:57:10,404 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 21:57:10,404 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 21:57:10,404 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 21:57:10,410 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 21:57:10,593 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-05 21:57:10,596 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-05 21:57:10,597 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-05 21:57:10,599 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-05 21:57:10,603 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-05 21:57:10,622 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 21:57:10,622 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-05 21:57:10,623 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-05 21:57:10,623 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-05 21:57:10,623 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 21:57:10,623 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 21:57:10,623 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 21:57:10,674 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 21:57:10,675 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 21:57:10,675 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 21:57:10,735 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-05 21:57:10,738 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-05 21:57:10,738 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 21:57:10,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 21:57:10,771 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-05 21:57:10,771 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-05 21:57:10,779 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-05 21:57:10,784 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-05 21:57:10,785 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-05 21:57:10,787 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-05 21:57:10,795 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-05 21:57:10,798 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-05 21:57:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 21:57:15,058 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Doroni
2025-06-05 21:57:15,066 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
2025-06-05 21:57:44,836 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
2025-06-05 21:58:39,424 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
2025-06-06 13:29:46,649 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: 'dee3a170b-32c9-4f3c-ba80-a0a2eb5bffb1'
2025-06-06 13:29:46,652 - INFO - HorseController - horse_controller:368 - Search for horses (term: 'dee3a170b-32c9-4f3c-ba80-a0a2eb5bffb1', owner: 'None', status: active) found 0 results.
2025-06-06 13:29:46,653 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-06 13:29:46,654 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-06 13:29:46,658 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 1.
2025-06-06 13:29:46,658 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-06 13:29:46,662 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 13:29:46,664 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 13:29:46,667 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 18:23:55,320 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 18:23:55,322 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 18:23:55,325 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 18:23:55,326 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 18:23:55,327 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 18:23:55,330 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-06 18:23:55,331 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 18:24:39,762 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Doroni
2025-06-06 18:24:39,772 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 364, in _on_cell_changed
    self._update_line_total(row)
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 396, in _update_line_total
    self._update_totals()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 414, in _update_totals
    checkbox = self.charges_table.cellWidget(row, COL_TAXABLE).findChild(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'findChild'
2025-06-06 18:37:59,691 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 18:37:59,691 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 18:37:59,692 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 18:37:59,692 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 18:37:59,692 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 18:37:59,692 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 18:37:59,705 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 18:37:59,706 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 18:37:59,735 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 18:37:59,736 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 18:37:59,736 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 18:37:59,926 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 18:37:59,928 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 18:37:59,928 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 18:37:59,929 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 18:37:59,929 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 18:37:59,929 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 18:37:59,941 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 18:37:59,996 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 18:38:02,386 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 18:38:12,811 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 18:38:12,973 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 18:38:12,974 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 18:38:12,975 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 18:38:12,988 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 18:38:12,989 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 18:38:12,989 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 18:38:12,990 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 18:38:12,991 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 18:38:12,991 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 18:38:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 18:38:14,549 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 18:38:14,553 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 18:38:14,554 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 18:38:14,556 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 18:38:14,561 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 18:38:14,579 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 18:38:14,579 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 18:38:14,580 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 18:38:14,580 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 18:38:14,581 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 18:38:14,581 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 18:38:14,581 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 18:38:14,631 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 18:38:14,632 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 18:38:14,633 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 18:38:14,695 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 18:38:14,699 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 18:38:14,699 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 18:38:14,711 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 18:38:14,737 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 18:38:14,737 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 18:38:14,744 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 18:38:14,751 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 18:38:14,751 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 18:38:14,754 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 18:38:14,760 - INFO - FinancialController - financial_controller:141 - Retrieved 0 transactions for horse ID 2.
2025-06-06 18:38:14,763 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 18:38:14,763 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 18:38:35,190 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Doroni
2025-06-06 18:40:25,736 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
2025-06-06 18:40:40,192 - INFO - BillingTab - billing_tab:172 - Launching AddChargeDialog for horse: Doroni
2025-06-06 18:40:58,895 - INFO - FinancialController - financial_controller:85 - Successfully created 1 transactions for horse ID 2 by user ADMIN.
2025-06-06 18:40:58,904 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 181, in _launch_add_charge_dialog
    if dialog.exec() == QDialog.DialogCode.Accepted:
                        ^^^^^^^
NameError: name 'QDialog' is not defined
2025-06-06 18:43:53,158 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 18:43:53,158 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 18:43:53,159 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 18:43:53,159 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 18:43:53,159 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 18:43:53,159 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 18:43:53,167 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 18:43:53,167 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 18:43:53,170 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 18:43:53,171 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 18:43:53,171 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 18:43:53,353 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 18:43:53,355 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 18:43:53,355 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 18:43:53,355 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 18:43:53,355 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 18:43:53,356 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 18:43:53,360 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 18:43:53,410 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 18:43:55,560 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 18:44:05,631 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 18:44:05,793 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 18:44:05,794 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 18:44:05,796 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 18:44:05,807 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 18:44:05,807 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 18:44:05,808 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 18:44:05,808 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 18:44:05,808 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 18:44:05,809 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 18:44:05,814 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 18:44:06,017 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 18:44:06,021 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 18:44:06,022 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 18:44:06,023 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 18:44:06,028 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 18:44:06,046 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 18:44:06,046 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 18:44:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 18:44:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 18:44:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 18:44:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 18:44:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 18:44:06,099 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 18:44:06,100 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 18:44:06,101 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 18:44:06,162 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 18:44:06,165 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 18:44:06,166 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 18:44:06,178 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 18:44:06,197 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 18:44:06,198 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 18:44:06,204 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 18:44:06,211 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 18:44:06,211 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 18:44:06,214 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 18:44:06,222 - INFO - FinancialController - financial_controller:141 - Retrieved 1 transactions for horse ID 2.
2025-06-06 18:44:06,225 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 18:44:06,225 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 18:44:34,793 - INFO - BillingTab - billing_tab:176 - Launching AddChargeDialog for horse: Doroni
2025-06-06 18:44:41,214 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-06 18:44:41,214 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-06 18:44:41,216 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-06 18:44:41,216 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-06 18:44:41,216 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-06 18:44:41,217 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-06 18:44:41,217 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-06 18:44:41,266 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 18:44:41,268 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 1 users.
2025-06-06 18:44:41,269 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-06 18:44:41,347 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-06 18:44:41,348 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-06 18:44:41,348 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-06 18:44:41,348 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-06 18:44:41,349 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-06 18:44:41,375 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-06 18:44:45,316 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-06 18:44:45,316 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:44:45,319 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:44:45,322 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 2 charge codes based on filter 'active'.
2025-06-06 18:44:52,128 - INFO - ChargeCodeController - charge_code_controller:411 - Charge Code 'EXAM001' (ID: 2) deleted by ADMIN.
2025-06-06 18:44:53,370 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:44:53,370 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:44:53,373 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 1 charge codes based on filter 'active'.
2025-06-06 18:46:33,454 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '9' created (ID: 2) by ADMIN.
2025-06-06 18:46:35,252 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:46:35,252 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:46:35,256 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 2 charge codes based on filter 'active'.
2025-06-06 18:47:53,324 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '20' created (ID: 3) by ADMIN.
2025-06-06 18:47:55,920 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:47:55,920 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:47:55,924 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 3 charge codes based on filter 'active'.
2025-06-06 18:49:05,043 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '40' created (ID: 4) by ADMIN.
2025-06-06 18:49:06,828 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:49:06,828 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:49:06,833 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 4 charge codes based on filter 'active'.
2025-06-06 18:50:30,013 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '1017' created (ID: 5) by ADMIN.
2025-06-06 18:50:38,310 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:50:38,311 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:50:38,315 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 5 charge codes based on filter 'active'.
2025-06-06 18:52:15,004 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '13' created (ID: 6) by ADMIN.
2025-06-06 18:52:16,892 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:52:16,894 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:52:16,898 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 6 charge codes based on filter 'active'.
2025-06-06 18:53:26,849 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '15' created (ID: 7) by ADMIN.
2025-06-06 18:53:28,660 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 18:53:28,660 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 18:53:28,665 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-06 18:53:32,891 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-06 18:53:32,891 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-06 18:53:32,895 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-06 18:53:32,895 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-06 18:53:41,811 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-06 18:53:41,812 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-06 18:54:07,487 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-06 18:54:07,488 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 18:54:07,491 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 1 users.
2025-06-06 18:54:10,528 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-06 19:04:34,325 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-06 19:04:34,495 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-06 19:04:34,497 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-06 19:04:34,503 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 19:04:34,504 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-06 19:04:42,087 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-06 19:04:57,580 - INFO - BillingTab - billing_tab:176 - Launching AddChargeDialog for horse: Doroni
2025-06-06 19:05:19,122 - INFO - FinancialController - financial_controller:85 - Successfully created 1 transactions for horse ID 2 by user ADMIN.
2025-06-06 19:05:19,130 - INFO - FinancialController - financial_controller:141 - Retrieved 2 transactions for horse ID 2.
2025-06-06 19:05:30,766 - INFO - BillingTab - billing_tab:176 - Launching AddChargeDialog for horse: Doroni
2025-06-06 19:14:44,702 - INFO - BillingTab - billing_tab:176 - Launching AddChargeDialog for horse: Doroni
2025-06-06 19:15:00,624 - INFO - FinancialController - financial_controller:85 - Successfully created 1 transactions for horse ID 2 by user ADMIN.
2025-06-06 19:15:00,632 - INFO - FinancialController - financial_controller:141 - Retrieved 3 transactions for horse ID 2.
2025-06-06 19:16:47,848 - INFO - BillingTab - billing_tab:176 - Launching AddChargeDialog for horse: Doroni
2025-06-06 19:35:22,943 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-06 19:35:22,943 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-06 19:35:22,945 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-06 19:35:22,945 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 19:35:22,946 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 19:35:22,946 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 19:35:22,958 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 19:35:22,959 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 19:36:45,886 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 19:36:45,887 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 19:36:45,887 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 19:36:45,887 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 19:36:45,887 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 19:36:45,887 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 19:36:45,901 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 19:36:45,901 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 19:36:45,929 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 19:36:45,929 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 19:36:45,930 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 19:36:46,119 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 19:36:46,120 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 19:36:46,121 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 19:36:46,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 19:36:46,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 19:36:46,122 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 19:36:46,135 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 19:36:46,192 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 19:36:47,727 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 19:37:00,716 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 19:37:00,876 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 19:37:00,876 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 19:37:00,878 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 19:37:00,887 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 19:37:00,888 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 19:37:00,888 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 19:37:00,889 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 19:37:00,889 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 19:37:00,889 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 19:37:00,900 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 19:37:02,176 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 19:37:02,180 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 19:37:02,181 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 19:37:02,184 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 19:37:02,188 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 19:37:02,207 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 19:37:02,207 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 19:37:02,208 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 19:37:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 19:37:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 19:37:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 19:37:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 19:37:02,263 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 19:37:02,264 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 19:37:02,264 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 19:37:02,331 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 19:37:02,335 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 19:37:02,335 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 19:37:02,346 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 19:37:02,372 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 19:37:02,372 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 19:37:02,380 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 19:37:02,387 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 19:37:02,387 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 19:37:02,390 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 19:37:02,402 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'Transaction' has no attribute 'administered_by_user'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 207, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 308, in get_transactions_for_horse
    joinedload(Transaction.administered_by_user),
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'administered_by_user'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 207, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 308, in get_transactions_for_horse
    joinedload(Transaction.administered_by_user),
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'administered_by_user'
2025-06-06 19:37:07,462 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 19:43:17,276 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 19:43:17,276 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 19:43:17,277 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 19:43:17,277 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 19:43:17,277 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 19:43:17,277 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 19:43:17,285 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 19:43:17,286 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 19:43:17,288 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 19:43:17,289 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 19:43:17,289 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 19:43:17,469 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 19:43:17,471 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 19:43:17,471 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 19:43:17,472 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 19:43:17,472 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 19:43:17,472 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 19:43:17,477 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 19:43:17,532 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 19:43:20,032 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 19:43:37,053 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 19:43:37,213 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 19:43:37,213 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 19:43:37,215 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 19:43:37,225 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 19:43:37,225 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 19:43:37,226 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 19:43:37,226 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 19:43:37,226 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 19:43:37,226 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 19:43:37,232 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 19:43:37,410 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 19:43:37,413 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 19:43:37,414 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 19:43:37,415 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 19:43:37,419 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 19:43:37,435 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 19:43:37,435 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 19:43:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 19:43:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 19:43:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 19:43:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 19:43:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 19:43:37,479 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 19:43:37,479 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 19:43:37,479 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 19:43:37,544 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 19:43:37,547 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 19:43:37,547 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 19:43:37,560 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 19:43:37,585 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 19:43:37,586 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 19:43:37,595 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 19:43:37,602 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 19:43:37,604 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 19:43:37,607 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 19:43:37,614 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 19:43:37,615 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 19:43:50,122 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-06 19:43:50,122 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-06 19:43:50,124 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-06 19:43:50,124 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-06 19:43:50,125 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-06 19:43:50,125 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-06 19:43:50,125 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-06 19:43:50,169 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 19:43:50,171 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-06 19:43:50,172 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-06 19:43:50,248 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-06 19:43:50,249 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-06 19:43:50,249 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-06 19:43:50,249 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-06 19:43:50,250 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-06 19:43:50,278 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-06 19:43:53,640 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-06 19:43:53,640 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-06 19:43:53,645 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 3 locations.
2025-06-06 19:43:54,348 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-06 19:43:54,348 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-06 19:43:54,355 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-06 19:43:55,100 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-06 19:43:55,101 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 19:43:55,103 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 19:43:55,108 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-06 19:43:55,868 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-06 19:43:55,868 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-06 19:43:55,871 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-06 19:43:55,872 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-06 19:43:57,896 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-06 19:43:57,896 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 19:43:57,898 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 19:43:57,902 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-06 19:44:02,405 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-06 19:44:26,539 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 19:44:26,539 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 19:44:26,539 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 19:44:26,539 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 19:44:26,540 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 19:44:26,540 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 19:44:26,547 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 19:44:26,547 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 19:44:26,550 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 19:44:26,551 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 19:44:26,551 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 19:44:26,731 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 19:44:26,733 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 19:44:26,733 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 19:44:26,733 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 19:44:26,733 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 19:44:26,734 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 19:44:26,738 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 19:44:26,794 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 19:44:28,729 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 19:44:37,839 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 19:44:37,998 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 19:44:37,998 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 19:44:38,000 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 19:44:38,012 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 19:44:38,013 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 19:44:38,013 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 19:44:38,014 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 19:44:38,014 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 19:44:38,014 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 19:44:38,019 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 19:44:38,169 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 19:44:38,172 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 19:44:38,174 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 19:44:38,174 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 19:44:38,178 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 19:44:38,193 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 19:44:38,194 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 19:44:38,194 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 19:44:38,194 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 19:44:38,195 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 19:44:38,195 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 19:44:38,195 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 19:44:38,237 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 19:44:38,238 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 19:44:38,238 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 19:44:38,301 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 19:44:38,304 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 19:44:38,304 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 19:44:38,317 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 19:44:38,339 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 19:44:38,340 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 19:44:38,348 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 19:44:38,354 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 19:44:38,356 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 19:44:38,358 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 19:44:38,366 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 19:44:38,366 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 19:47:12,420 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-06 19:47:12,420 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-06 19:47:12,422 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-06 19:47:12,423 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 19:47:12,423 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 19:47:12,423 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 19:47:12,435 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 19:47:12,435 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 19:51:08,508 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 19:51:08,508 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 19:51:08,509 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 19:51:08,509 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 19:51:08,509 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 19:51:08,509 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 19:51:08,517 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 19:51:08,517 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 19:51:08,520 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 19:51:08,521 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 19:51:08,521 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 19:51:08,701 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 19:51:08,703 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 19:51:08,703 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 19:51:08,703 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 19:51:08,703 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 19:51:08,704 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 19:51:08,708 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 19:51:08,762 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 19:51:10,445 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 19:51:21,370 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 19:51:21,531 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 19:51:21,531 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 19:51:21,533 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 19:51:21,545 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 19:51:21,546 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 19:51:21,546 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 19:51:21,546 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 19:51:21,546 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 19:51:21,547 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 19:51:21,552 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 19:51:21,717 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 19:51:21,721 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 19:51:21,722 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 19:51:21,723 - ERROR - HorseUnifiedManagement - horse_unified_management:867 - ERROR BillingTab: name 'QColor' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 861, in setup_horse_tabs
    self.billing_tab = BillingTab(
                       ^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 68, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 114, in _setup_ui
    self.add_charge_btn = self._create_action_button(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 100, in _create_action_button
    background-color: {QColor(color).lighter(115).name()};
                       ^^^^^^
NameError: name 'QColor' is not defined
2025-06-06 19:51:21,728 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 19:51:21,744 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 19:51:21,744 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 19:51:21,745 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 19:51:21,745 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 19:51:21,745 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 19:51:21,746 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 19:51:21,790 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 19:51:21,791 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 19:51:21,791 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 19:51:21,850 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 19:51:21,853 - WARNING - HorseUnifiedManagement - horse_unified_management:356 - display_empty_state: BillingTab is None or missing set_current_horse method.
2025-06-06 19:51:21,854 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 19:51:21,854 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 19:51:21,868 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 19:51:21,890 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 19:51:21,890 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 19:51:21,897 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 19:51:21,903 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 19:51:21,904 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 19:51:21,907 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 19:51:21,917 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 19:51:21,917 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 19:54:11,997 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 19:54:11,998 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 19:54:11,998 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 19:54:11,999 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 19:54:11,999 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 19:54:11,999 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 19:54:12,007 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 19:54:12,008 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 19:54:12,011 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 19:54:12,011 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 19:54:12,011 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 19:54:12,196 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 19:54:12,198 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 19:54:12,198 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 19:54:12,198 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 19:54:12,198 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 19:54:12,199 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 19:54:12,204 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 19:54:12,262 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 19:54:13,930 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 19:54:22,110 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 19:54:22,272 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 19:54:22,272 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 19:54:22,273 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 19:54:22,286 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 19:54:22,287 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 19:54:22,287 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 19:54:22,287 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 19:54:22,288 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 19:54:22,288 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 19:54:22,294 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 19:54:22,456 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 19:54:22,459 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 19:54:22,460 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 19:54:22,463 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 19:54:22,468 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 19:54:22,488 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 19:54:22,488 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 19:54:22,489 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 19:54:22,489 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 19:54:22,489 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 19:54:22,490 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 19:54:22,490 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 19:54:22,544 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 19:54:22,546 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 19:54:22,546 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 19:54:22,610 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 19:54:22,613 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 19:54:22,613 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 19:54:22,624 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 19:54:22,646 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 19:54:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 19:54:22,654 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 19:54:22,660 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 19:54:22,661 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 19:54:22,663 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 19:54:22,671 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'Transaction' has no attribute 'service_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 226, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 310, in get_transactions_for_horse
    Transaction.service_date.desc(), Transaction.created_date.desc()
    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'service_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 226, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 310, in get_transactions_for_horse
    Transaction.service_date.desc(), Transaction.created_date.desc()
    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'service_date'
2025-06-06 19:54:27,484 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 19:54:30,169 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-06 19:54:30,171 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-06 19:54:30,174 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'Transaction' has no attribute 'service_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 226, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 310, in get_transactions_for_horse
    Transaction.service_date.desc(), Transaction.created_date.desc()
    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'service_date'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 226, in load_transactions
    self.transactions = self.financial_controller.get_transactions_for_horse(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 310, in get_transactions_for_horse
    Transaction.service_date.desc(), Transaction.created_date.desc()
    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Transaction' has no attribute 'service_date'
2025-06-06 20:16:41,676 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:16:41,676 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:16:41,676 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:16:41,676 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:16:41,677 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:16:41,677 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:16:41,684 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:16:41,684 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:16:41,687 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:16:41,687 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:16:41,688 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:16:41,870 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:16:41,872 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:16:41,872 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:16:41,873 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:16:41,873 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:16:41,873 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:16:41,877 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:16:41,931 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:16:43,983 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:16:59,607 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 20:16:59,771 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 20:16:59,772 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 20:16:59,774 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 20:16:59,787 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 20:16:59,787 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 20:16:59,787 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:16:59,788 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:16:59,788 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:16:59,788 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:16:59,793 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:16:59,952 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:16:59,955 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:16:59,956 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:16:59,959 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:16:59,964 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:16:59,983 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:16:59,983 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:16:59,983 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:16:59,984 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:16:59,984 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:16:59,984 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:16:59,984 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:17:00,040 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:17:00,041 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:17:00,041 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:17:00,102 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:17:00,105 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:17:00,105 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:17:00,116 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:17:00,137 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:17:00,138 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:17:00,145 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:17:00,151 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:17:00,151 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:17:00,154 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:17:00,162 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:17:00,163 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Transaction' object has no attribute 'id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 229, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 238, in populate_transactions_table
    id_item = QTableWidgetItem(str(trans.id))
                                   ^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 217, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 229, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 238, in populate_transactions_table
    id_item = QTableWidgetItem(str(trans.id))
                                   ^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'id'
2025-06-06 20:17:04,198 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:20:39,396 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:20:39,397 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:20:39,397 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:20:39,397 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:20:39,398 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:20:39,398 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:20:39,405 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:20:39,405 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:20:39,408 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:20:39,409 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:20:39,409 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:20:39,585 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:20:39,587 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:20:39,587 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:20:39,588 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:20:39,588 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:20:39,588 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:20:39,593 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:20:39,650 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:20:41,788 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:20:50,475 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 20:20:50,637 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 20:20:50,637 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 20:20:50,639 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 20:20:50,652 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 20:20:50,653 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 20:20:50,653 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:20:50,653 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:20:50,654 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:20:50,654 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:20:50,660 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:20:50,817 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:20:50,820 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:20:50,821 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:20:50,824 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:20:50,828 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:20:50,848 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:20:50,848 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:20:50,849 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:20:50,849 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:20:50,849 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:20:50,849 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:20:50,850 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:20:50,901 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:20:50,903 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:20:50,903 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:20:50,963 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:20:50,966 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:20:50,966 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:20:50,978 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:20:51,017 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:20:51,017 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:20:51,026 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:20:51,032 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:20:51,032 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:20:51,035 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:20:51,042 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:20:51,043 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Transaction' object has no attribute 'total_amount'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 207, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 219, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 247, in populate_transactions_table
    row, 5, QTableWidgetItem(f"{trans.total_amount:.2f}")
                                ^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'total_amount'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 207, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 219, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 247, in populate_transactions_table
    row, 5, QTableWidgetItem(f"{trans.total_amount:.2f}")
                                ^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'total_amount'
2025-06-06 20:20:56,402 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:25:19,907 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:25:19,907 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:25:19,908 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:25:19,908 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:25:19,908 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:25:19,909 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:25:19,916 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:25:19,916 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:25:19,918 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:25:19,919 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:25:19,919 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:25:20,099 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:25:20,100 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:25:20,101 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:25:20,101 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:25:20,101 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:25:20,101 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:25:20,106 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:25:20,158 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:25:22,060 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:25:30,592 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 20:25:30,753 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 20:25:30,753 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 20:25:30,755 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 20:25:30,766 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 20:25:30,767 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 20:25:30,767 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:25:30,767 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:25:30,768 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:25:30,768 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:25:30,774 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:25:30,937 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:25:30,941 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:25:30,942 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:25:30,945 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:25:30,950 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:25:30,968 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:25:30,969 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:25:30,969 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:25:30,969 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:25:30,970 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:25:30,970 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:25:30,970 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:25:31,020 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:25:31,022 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:25:31,022 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:25:31,083 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:25:31,086 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:25:31,086 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:25:31,101 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:25:31,123 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:25:31,124 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:25:31,132 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:25:31,140 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:25:31,141 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:25:31,143 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:25:31,152 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:25:31,154 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 20:25:31,155 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:25:46,396 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:28:29,896 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-06 20:34:57,644 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 20:34:57,645 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-06 20:34:57,648 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-06 20:34:57,648 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 20:34:57,670 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 20:34:57,674 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 20:34:57,679 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 20:35:43,798 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:35:43,799 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:35:43,799 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:35:43,799 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:35:43,799 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:35:43,799 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:35:43,807 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:35:43,808 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:35:43,810 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:35:43,811 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:35:43,811 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:35:43,993 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:35:43,995 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:35:43,995 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:35:43,996 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:35:43,996 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:35:43,996 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:35:44,000 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:35:44,064 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:35:46,246 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:35:54,967 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): '123...'
2025-06-06 20:35:55,122 - WARNING - UserController - user_controller:62 - Incorrect password attempt for login ID 'ADMIN' (input was 'admin').
2025-06-06 20:35:56,965 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: Invalid Login ID or Password.
2025-06-06 20:36:04,570 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 20:36:04,731 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 20:36:04,731 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 20:36:04,732 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 20:36:04,743 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 20:36:04,744 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 20:36:04,744 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:36:04,744 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:36:04,745 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:36:04,745 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:36:04,751 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:36:04,954 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:36:04,957 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:36:04,959 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:36:04,962 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:36:04,968 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:36:04,989 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:36:04,990 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:36:04,991 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:36:04,991 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:36:04,991 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:36:04,992 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:36:04,992 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:36:05,048 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:36:05,050 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:36:05,051 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:36:05,114 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:36:05,117 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:36:05,118 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:36:05,131 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:36:05,159 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:36:05,159 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:36:05,168 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:36:05,175 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:36:05,176 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:36:05,178 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:36:05,188 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:36:05,192 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 20:36:05,192 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:36:27,164 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:36:27,171 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'ChargeCodeDelegate' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 307, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 101, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    self.setup_table()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 232, in setup_table
    COL_CHARGE_CODE, ChargeCodeDelegate(charge_codes, self)
                     ^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeDelegate' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 307, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 101, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    self.setup_table()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 232, in setup_table
    COL_CHARGE_CODE, ChargeCodeDelegate(charge_codes, self)
                     ^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeDelegate' is not defined
2025-06-06 20:36:36,581 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:36:36,581 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:36:36,581 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:36:36,582 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:36:36,582 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:36:36,582 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:36:36,590 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:36:36,590 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:36:36,594 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:36:36,594 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:36:36,594 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:36:36,773 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:36:36,775 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:36:36,775 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:36:36,775 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:36:36,775 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:36:36,775 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:36:36,779 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:36:36,834 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:36:38,570 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:36:46,567 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 20:36:46,728 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 20:36:46,728 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 20:36:46,730 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 20:36:46,741 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 20:36:46,741 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 20:36:46,742 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:36:46,742 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:36:46,742 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:36:46,742 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:36:46,748 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:36:46,900 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:36:46,903 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:36:46,905 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:36:46,907 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:36:46,912 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:36:46,932 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:36:46,932 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:36:46,932 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:36:46,933 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:36:46,933 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:36:46,933 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:36:46,933 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:36:46,984 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:36:46,985 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:36:46,985 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:36:47,045 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:36:47,047 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:36:47,047 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:36:47,062 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:36:47,088 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:36:47,089 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:36:47,097 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:36:47,103 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:36:47,104 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:36:47,107 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:36:47,116 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:36:47,121 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 20:36:47,121 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:36:50,344 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:36:50,350 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'ChargeCodeDelegate' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 307, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 101, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    self.setup_table()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 232, in setup_table
    COL_CHARGE_CODE, ChargeCodeDelegate(charge_codes, self)
                     ^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeDelegate' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 307, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 101, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 144, in _setup_layout
    self.setup_table()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 232, in setup_table
    COL_CHARGE_CODE, ChargeCodeDelegate(charge_codes, self)
                     ^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeDelegate' is not defined
2025-06-06 20:40:17,424 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:40:17,424 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:40:17,424 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:40:17,424 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:40:17,424 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:40:17,425 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:40:17,432 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:40:17,432 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:40:17,435 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:40:17,435 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:40:17,435 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:40:17,619 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:40:17,621 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:40:17,621 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:40:17,621 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:40:17,621 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:40:17,622 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:40:17,626 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:40:17,681 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:40:19,380 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:40:31,891 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 20:40:32,055 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 20:40:32,055 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 20:40:32,057 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 20:40:32,070 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 20:40:32,071 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 20:40:32,071 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:40:32,072 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:40:32,072 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:40:32,073 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:40:32,079 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:40:32,280 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:40:32,283 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:40:32,285 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:40:32,287 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:40:32,293 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:40:32,314 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:40:32,315 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:40:32,316 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:40:32,316 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:40:32,316 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:40:32,316 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:40:32,316 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:40:32,372 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:40:32,374 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:40:32,374 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:40:32,438 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:40:32,441 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:40:32,441 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:40:32,453 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:40:32,476 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:40:32,477 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:40:32,485 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:40:32,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:40:32,493 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:40:32,496 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:40:32,504 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:40:32,507 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 20:40:32,507 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:40:37,373 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:47:26,924 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:52:38,770 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 20:52:38,771 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-06 20:52:38,773 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-06 20:52:38,773 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 20:52:38,788 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 20:52:38,792 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 20:52:38,794 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 20:52:42,739 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:52:42,740 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:52:42,740 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:52:42,740 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:52:42,740 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:52:42,740 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:52:42,747 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:52:42,748 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:52:42,750 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:52:42,751 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:52:42,751 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:52:42,935 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:52:42,937 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:52:42,937 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:52:42,937 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:52:42,937 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:52:42,938 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:52:42,942 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:52:42,995 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:52:45,340 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:52:56,002 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 20:52:56,164 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 20:52:56,164 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 20:52:56,165 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 20:52:56,176 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 20:52:56,177 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 20:52:56,177 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:52:56,177 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:52:56,177 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:52:56,178 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:52:56,183 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:52:56,339 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:52:56,342 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:52:56,343 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:52:56,347 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:52:56,351 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:52:56,373 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:52:56,374 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:52:56,375 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:52:56,375 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:52:56,375 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:52:56,376 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:52:56,376 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:52:56,435 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:52:56,436 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:52:56,437 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:52:56,498 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:52:56,501 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:52:56,501 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:52:56,516 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:52:56,540 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:52:56,540 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:52:56,548 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:52:56,555 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:52:56,556 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:52:56,558 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:52:56,571 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2.
2025-06-06 20:52:56,575 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 20:52:56,575 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 20:53:00,482 - INFO - BillingTab - billing_tab:304 - Launching AddChargeDialog for horse: Doroni
2025-06-06 20:53:00,519 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 308, in _load_initial_data
    self.logger.debug(f"Loaded {len(self._charge_codes_list)} charge codes.")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 308, in _load_initial_data
    self.logger.debug(f"Loaded {len(self._charge_codes_list)} charge codes.")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-06 20:57:46,459 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 20:57:46,459 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 20:57:46,459 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 20:57:46,460 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 20:57:46,460 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 20:57:46,460 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 20:57:46,467 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 20:57:46,467 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 20:57:46,470 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 20:57:46,471 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 20:57:46,471 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 20:57:46,651 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 20:57:46,653 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 20:57:46,653 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 20:57:46,653 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 20:57:46,653 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 20:57:46,654 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 20:57:46,658 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 20:57:46,711 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 20:57:55,669 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 20:58:03,646 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 20:58:03,807 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 20:58:03,807 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 20:58:03,809 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 20:58:03,821 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 20:58:03,821 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 20:58:03,822 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 20:58:03,822 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 20:58:03,822 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 20:58:03,823 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 20:58:03,829 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 20:58:03,990 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 20:58:03,994 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 20:58:03,995 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 20:58:03,998 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 20:58:04,004 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 20:58:04,024 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 20:58:04,025 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 20:58:04,026 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 20:58:04,026 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 20:58:04,026 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 20:58:04,026 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 20:58:04,026 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 20:58:04,083 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 20:58:04,086 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 20:58:04,086 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 20:58:04,158 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 20:58:04,161 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 20:58:04,161 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 20:58:04,174 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 20:58:04,197 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 20:58:04,197 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 20:58:04,204 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 20:58:04,210 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 20:58:04,211 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 20:58:04,214 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 20:58:04,222 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 211, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_horse and len(self.transactions) > 0)
                                                     ^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 211, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_horse and len(self.transactions) > 0)
                                                     ^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-06 20:58:09,016 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:01:52,650 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:01:52,650 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:01:52,651 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:01:52,651 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:01:52,651 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:01:52,651 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:01:52,659 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:01:52,659 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:01:52,662 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:01:52,663 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:01:52,663 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:01:52,845 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:01:52,847 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:01:52,847 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:01:52,847 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:01:52,847 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:01:52,848 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:01:52,852 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:01:52,914 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:01:54,635 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:02:02,798 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:02:02,960 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:02:02,960 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:02:02,962 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:02:02,976 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:02:02,976 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:02:02,977 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:02:02,977 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:02:02,977 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:02:02,978 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:02:02,983 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:02:03,136 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:02:03,139 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:02:03,141 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:02:03,144 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:02:03,150 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:02:03,170 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:02:03,170 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:02:03,171 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:02:03,171 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:02:03,171 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:02:03,171 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:02:03,172 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:02:03,226 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:02:03,228 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:02:03,228 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:02:03,289 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:02:03,292 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:02:03,293 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:02:03,300 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:02:03,325 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:02:03,326 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:02:03,333 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:02:03,339 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:02:03,339 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:02:03,342 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:02:03,353 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:02:03,353 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:02:20,098 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:02:20,122 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
2025-06-06 21:05:01,043 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:05:01,043 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:05:01,044 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:05:01,044 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:05:01,044 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:05:01,044 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:05:01,052 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:05:01,052 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:05:01,055 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:05:01,056 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:05:01,056 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:05:01,235 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:05:01,237 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:05:01,237 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:05:01,237 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:05:01,238 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:05:01,238 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:05:01,242 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:05:01,298 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:05:03,412 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:05:12,118 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:05:12,281 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:05:12,282 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:05:12,283 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:05:12,295 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:05:12,295 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:05:12,295 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:05:12,296 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:05:12,296 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:05:12,296 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:05:12,305 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:05:12,467 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:05:12,470 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:05:12,471 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:05:12,474 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:05:12,479 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:05:12,499 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:05:12,499 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:05:12,500 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:05:12,500 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:05:12,500 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:05:12,500 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:05:12,501 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:05:12,552 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:05:12,554 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:05:12,554 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:05:12,618 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:05:12,621 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:05:12,622 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:05:12,637 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:05:12,660 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:05:12,661 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:05:12,668 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:05:12,675 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:05:12,676 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:05:12,679 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:05:12,690 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:05:12,691 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:05:19,993 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:06:05,918 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:09:38,171 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 21:09:38,172 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-06 21:09:38,173 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-06 21:09:38,173 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 21:09:38,192 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 21:09:38,199 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 21:09:38,202 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 21:09:42,158 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:09:42,158 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:09:42,158 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:09:42,158 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:09:42,159 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:09:42,159 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:09:42,167 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:09:42,167 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:09:42,170 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:09:42,171 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:09:42,171 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:09:42,349 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:09:42,351 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:09:42,351 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:09:42,352 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:09:42,352 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:09:42,352 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:09:42,357 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:09:42,412 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:09:54,528 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:10:04,974 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 21:10:05,136 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 21:10:05,137 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 21:10:05,138 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 21:10:05,150 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 21:10:05,151 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 21:10:05,151 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:10:05,151 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:10:05,152 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:10:05,152 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:10:05,159 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:10:05,318 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:10:05,322 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:10:05,323 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:10:05,326 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:10:05,331 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:10:05,353 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:10:05,353 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:10:05,354 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:10:05,354 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:10:05,355 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:10:05,355 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:10:05,355 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:10:05,409 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:10:05,410 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:10:05,410 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:10:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:10:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:10:05,478 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:10:05,493 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:10:05,518 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:10:05,519 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:10:05,528 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:10:05,535 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:10:05,535 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:10:05,538 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:10:05,547 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:10:05,547 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:10:13,829 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:10:13,865 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 21:14:46,502 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:14:46,502 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:14:46,503 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:14:46,503 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:14:46,503 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:14:46,503 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:14:46,510 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:14:46,510 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:14:46,513 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:14:46,513 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:14:46,514 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:14:46,694 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:14:46,696 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:14:46,696 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:14:46,696 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:14:46,696 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:14:46,697 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:14:46,701 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:14:46,764 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:14:48,396 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:14:55,904 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:14:56,066 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:14:56,067 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:14:56,068 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:14:56,081 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:14:56,081 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:14:56,082 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:14:56,082 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:14:56,082 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:14:56,082 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:14:56,090 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:14:56,273 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:14:56,276 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:14:56,278 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:14:56,280 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:14:56,285 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:14:56,304 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:14:56,304 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:14:56,305 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:14:56,305 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:14:56,305 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:14:56,305 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:14:56,305 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:14:56,360 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:14:56,362 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:14:56,362 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:14:56,425 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:14:56,428 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:14:56,428 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:14:56,442 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:14:56,463 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:14:56,463 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:14:56,470 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:14:56,476 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:14:56,476 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:14:56,479 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:14:56,487 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:14:56,487 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:15:01,776 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:15:01,814 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 21:15:41,803 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-06 21:15:41,804 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-06 21:15:41,806 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-06 21:15:41,806 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-06 21:15:41,806 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-06 21:15:41,806 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-06 21:15:41,807 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-06 21:15:41,851 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 21:15:41,854 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-06 21:15:41,855 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-06 21:15:41,937 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-06 21:15:41,938 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-06 21:15:41,939 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-06 21:15:41,939 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-06 21:15:41,940 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-06 21:15:41,970 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-06 21:15:44,002 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-06 21:15:44,003 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-06 21:15:44,005 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-06 21:15:44,011 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-06 21:16:01,287 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-06 21:16:11,410 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:16:11,441 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 21:19:33,668 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-06 21:19:33,670 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-06 21:19:33,673 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 1
2025-06-06 21:19:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:19:38,898 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:19:38,901 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:21:22,421 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 21:21:22,422 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-06 21:21:22,423 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-06 21:21:22,424 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 21:21:22,433 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 21:21:22,436 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 21:21:22,437 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 21:23:04,101 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:23:04,101 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:23:04,102 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:23:04,102 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:23:04,102 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:23:04,102 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:23:04,111 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:23:04,111 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:23:04,114 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:23:04,115 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:23:04,115 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:23:04,294 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:23:04,296 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:23:04,296 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:23:04,296 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:23:04,297 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:23:04,297 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:23:04,301 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:23:04,357 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:23:06,117 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:23:17,574 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 21:23:17,738 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 21:23:17,738 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 21:23:17,739 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 21:23:17,752 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 21:23:17,752 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 21:23:17,753 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:23:17,753 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:23:17,753 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:23:17,753 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:23:17,759 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:23:17,911 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:23:17,914 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:23:17,915 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:23:17,918 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:23:17,923 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:23:17,942 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:23:17,942 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:23:17,942 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:23:17,943 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:23:17,943 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:23:17,943 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:23:17,943 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:23:18,002 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:23:18,004 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:23:18,004 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:23:18,068 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:23:18,071 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:23:18,072 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:23:18,086 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:23:18,114 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:23:18,115 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:23:18,125 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:23:18,131 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:23:18,132 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:23:18,134 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:23:18,143 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:23:18,144 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:23:21,777 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:23:21,809 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 21:34:23,223 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-06 21:34:23,224 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-06 21:34:23,225 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-06 21:34:23,226 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-06 21:34:23,234 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-06 21:34:23,236 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-06 21:34:23,237 - INFO - root - main:372 - Application exiting with code 0
2025-06-06 21:43:27,450 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:43:27,450 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:43:27,451 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:43:27,451 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:43:27,451 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:43:27,451 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:43:27,459 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:43:27,459 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:43:27,461 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:43:27,462 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:43:27,462 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:43:27,645 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:43:27,647 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:43:27,647 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:43:27,648 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:43:27,648 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:43:27,648 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:43:27,653 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:43:27,717 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:43:29,429 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:43:38,745 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 21:43:38,907 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 21:43:38,908 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 21:43:38,909 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 21:43:38,919 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 21:43:38,920 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 21:43:38,920 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:43:38,920 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:43:38,921 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:43:38,921 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:43:38,928 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:43:39,107 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:43:39,110 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:43:39,111 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:43:39,114 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:43:39,118 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:43:39,138 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:43:39,138 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:43:39,138 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:43:39,138 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:43:39,139 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:43:39,139 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:43:39,139 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:43:39,192 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:43:39,193 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:43:39,194 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:43:39,255 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:43:39,258 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:43:39,258 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:43:39,269 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:43:39,292 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:43:39,292 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:43:39,299 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:43:39,306 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:43:39,306 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:43:39,309 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:43:39,318 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:43:39,318 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:43:45,083 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:43:45,084 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'ChargeCodeController' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 66, in __init__
    self.charge_code_controller = ChargeCodeController()
                                  ^^^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeController' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 66, in __init__
    self.charge_code_controller = ChargeCodeController()
                                  ^^^^^^^^^^^^^^^^^^^^
NameError: name 'ChargeCodeController' is not defined
2025-06-06 21:46:51,615 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:46:51,615 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:46:51,616 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:46:51,616 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:46:51,616 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:46:51,616 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:46:51,625 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:46:51,625 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:46:51,628 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:46:51,629 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:46:51,629 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:46:51,809 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:46:51,811 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:46:51,811 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:46:51,811 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:46:51,811 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:46:51,812 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:46:51,816 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:46:51,875 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:46:53,680 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:47:04,929 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 21:47:05,091 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 21:47:05,091 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 21:47:05,093 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 21:47:05,104 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 21:47:05,104 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 21:47:05,104 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:47:05,104 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:47:05,105 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:47:05,105 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:47:05,113 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:47:05,268 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:47:05,272 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:47:05,273 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:47:05,275 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:47:05,280 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:47:05,300 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:47:05,300 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:47:05,301 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:47:05,301 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:47:05,302 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:47:05,302 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:47:05,302 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:47:05,354 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:47:05,355 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:47:05,356 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:47:05,420 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:47:05,423 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:47:05,423 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:47:05,441 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:47:05,464 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:47:05,464 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:47:05,471 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:47:05,478 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:47:05,479 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:47:05,482 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:47:05,493 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:47:05,494 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:47:08,633 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:47:08,634 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 77, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 123, in _setup_layout
    title_font = QFont(AppConfig.DEFAULT_FONT_FAMILY, 12, QFont.Weight.Bold)
                       ^^^^^^^^^
NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 77, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 123, in _setup_layout
    title_font = QFont(AppConfig.DEFAULT_FONT_FAMILY, 12, QFont.Weight.Bold)
                       ^^^^^^^^^
NameError: name 'AppConfig' is not defined
2025-06-06 21:49:39,036 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:49:39,037 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:49:39,037 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:49:39,037 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:49:39,038 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:49:39,038 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:49:39,046 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:49:39,046 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:49:39,049 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:49:39,050 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:49:39,050 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:49:39,230 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:49:39,232 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:49:39,233 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:49:39,233 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:49:39,233 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:49:39,233 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:49:39,238 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:49:39,298 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:49:41,239 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:50:00,595 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:50:00,754 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:50:00,755 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:50:00,756 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:50:00,767 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:50:00,767 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:50:00,767 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:50:00,768 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:50:00,768 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:50:00,768 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:50:00,773 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:50:00,921 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:50:00,924 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:50:00,926 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:50:00,928 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:50:00,933 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:50:00,951 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:50:00,952 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:50:00,953 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:50:00,953 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:50:00,953 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:50:00,953 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:50:00,953 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:50:01,004 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:50:01,006 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:50:01,006 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:50:01,065 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:50:01,067 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:50:01,068 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:50:01,080 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:50:01,102 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:50:01,103 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:50:01,110 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:50:01,115 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:50:01,116 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:50:01,118 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:50:01,126 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:50:01,126 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:50:04,241 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:50:04,244 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: RuntimeError: Invalid parameter None passed to addLayoutOwnership().
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 80, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 146, in _setup_layout
    footer_layout.addLayout(totals_form_layout)
RuntimeError: Invalid parameter None passed to addLayoutOwnership().
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 80, in __init__
    self._setup_layout()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 146, in _setup_layout
    footer_layout.addLayout(totals_form_layout)
RuntimeError: Invalid parameter None passed to addLayoutOwnership().
2025-06-06 21:52:04,064 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:52:04,065 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:52:04,065 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:52:04,065 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:52:04,066 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:52:04,066 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:52:04,073 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:52:04,074 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:52:04,077 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:52:04,078 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:52:04,078 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:52:04,260 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:52:04,261 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:52:04,262 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:52:04,262 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:52:04,262 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:52:04,262 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:52:04,268 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:52:04,322 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:52:05,760 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:52:13,878 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:52:14,041 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:52:14,042 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:52:14,043 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:52:14,057 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:52:14,057 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:52:14,058 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:52:14,058 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:52:14,058 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:52:14,059 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:52:14,064 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:52:14,231 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:52:14,235 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:52:14,236 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:52:14,239 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:52:14,243 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:52:14,264 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:52:14,264 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:52:14,265 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:52:14,265 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:52:14,265 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:52:14,265 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:52:14,266 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:52:14,319 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:52:14,321 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:52:14,321 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:52:14,383 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:52:14,386 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:52:14,387 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:52:14,405 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:52:14,428 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:52:14,428 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:52:14,436 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:52:14,442 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:52:14,445 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:52:14,448 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:52:14,455 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:52:14,456 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:52:19,144 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:52:19,148 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QAbstractSpinBox' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 72, in __init__
    self._apply_styles()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 202, in _apply_styles
    self.tax_amount_input.setButtonSymbols(QAbstractSpinBox.ButtonSymbols.NoButtons)
                                           ^^^^^^^^^^^^^^^^
NameError: name 'QAbstractSpinBox' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 72, in __init__
    self._apply_styles()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 202, in _apply_styles
    self.tax_amount_input.setButtonSymbols(QAbstractSpinBox.ButtonSymbols.NoButtons)
                                           ^^^^^^^^^^^^^^^^
NameError: name 'QAbstractSpinBox' is not defined
2025-06-06 21:54:44,641 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:54:44,641 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:54:44,642 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:54:44,642 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:54:44,643 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:54:44,643 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:54:44,650 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:54:44,651 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:54:44,653 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:54:44,654 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:54:44,654 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:54:44,834 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:54:44,836 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:54:44,836 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:54:44,836 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:54:44,836 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:54:44,837 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:54:44,841 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:54:44,899 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:54:46,222 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:55:00,920 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 21:55:01,081 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 21:55:01,082 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 21:55:01,083 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 21:55:01,095 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 21:55:01,095 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 21:55:01,096 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:55:01,096 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:55:01,097 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:55:01,097 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:55:01,103 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:55:01,256 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:55:01,259 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:55:01,261 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:55:01,264 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:55:01,269 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:55:01,288 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:55:01,289 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:55:01,289 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:55:01,289 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:55:01,290 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:55:01,290 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:55:01,290 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:55:01,342 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:55:01,343 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:55:01,343 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:55:01,413 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:55:01,416 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:55:01,416 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:55:01,431 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:55:01,453 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:55:01,453 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:55:01,461 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:55:01,467 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:55:01,468 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:55:01,471 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:55:01,478 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:55:01,479 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:55:06,884 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:55:06,914 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 21:59:00,737 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 21:59:00,737 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 21:59:00,738 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 21:59:00,738 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 21:59:00,738 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 21:59:00,738 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 21:59:00,747 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 21:59:00,747 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 21:59:00,750 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 21:59:00,750 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 21:59:00,751 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 21:59:00,932 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 21:59:00,934 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 21:59:00,934 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 21:59:00,935 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 21:59:00,935 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 21:59:00,935 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 21:59:00,939 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 21:59:01,001 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 21:59:03,072 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 21:59:10,557 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-06 21:59:10,720 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-06 21:59:10,720 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-06 21:59:10,722 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-06 21:59:10,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-06 21:59:10,733 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-06 21:59:10,734 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 21:59:10,734 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 21:59:10,734 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 21:59:10,735 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 21:59:10,742 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 21:59:10,915 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 21:59:10,919 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 21:59:10,920 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 21:59:10,923 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 21:59:10,928 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 21:59:10,948 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 21:59:10,949 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 21:59:10,949 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 21:59:10,950 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 21:59:10,950 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 21:59:10,950 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 21:59:10,950 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 21:59:11,006 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 21:59:11,007 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 21:59:11,007 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 21:59:11,068 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 21:59:11,071 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 21:59:11,072 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 21:59:11,083 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 21:59:11,108 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 21:59:11,109 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 21:59:11,117 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 21:59:11,123 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 21:59:11,124 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 21:59:11,128 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 21:59:11,135 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 21:59:11,136 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 21:59:18,187 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 21:59:18,220 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 22:04:19,521 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 22:04:19,522 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 22:04:19,522 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 22:04:19,522 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 22:04:19,523 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 22:04:19,523 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 22:04:19,529 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 22:04:19,530 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 22:04:19,533 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 22:04:19,533 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 22:04:19,534 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 22:04:19,715 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 22:04:19,717 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 22:04:19,718 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 22:04:19,718 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 22:04:19,718 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 22:04:19,718 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 22:04:19,722 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 22:04:19,778 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 22:04:21,272 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 22:04:31,676 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 22:04:31,838 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 22:04:31,839 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 22:04:31,840 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 22:04:31,854 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 22:04:31,854 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 22:04:31,854 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 22:04:31,855 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 22:04:31,855 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 22:04:31,855 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 22:04:31,862 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 22:04:32,019 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 22:04:32,023 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 22:04:32,025 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 22:04:32,027 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 22:04:32,033 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 22:04:32,053 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 22:04:32,054 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 22:04:32,055 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 22:04:32,055 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 22:04:32,055 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 22:04:32,055 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 22:04:32,055 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 22:04:32,114 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 22:04:32,116 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 22:04:32,116 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 22:04:32,181 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 22:04:32,185 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 22:04:32,185 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 22:04:32,199 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 22:04:32,225 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 22:04:32,225 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 22:04:32,234 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 22:04:32,240 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 22:04:32,240 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 22:04:32,242 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 22:04:32,250 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 22:04:32,251 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 22:04:35,008 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 22:04:35,020 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 312, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
AttributeError: PySide6.QtWidgets.QDialog.__init__(): 'horse' is not a Qt property or a signal
2025-06-06 22:10:17,781 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-06 22:10:17,782 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-06 22:10:17,782 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-06 22:10:17,782 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-06 22:10:17,783 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-06 22:10:17,783 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-06 22:10:17,791 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-06 22:10:17,791 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-06 22:10:17,794 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-06 22:10:17,795 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-06 22:10:17,795 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-06 22:10:17,974 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-06 22:10:17,976 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-06 22:10:17,976 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-06 22:10:17,976 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-06 22:10:17,976 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-06 22:10:17,976 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-06 22:10:17,981 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-06 22:10:18,039 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-06 22:10:19,515 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-06 22:10:29,870 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-06 22:10:30,031 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-06 22:10:30,031 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-06 22:10:30,033 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-06 22:10:30,046 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-06 22:10:30,046 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-06 22:10:30,047 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-06 22:10:30,049 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-06 22:10:30,050 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-06 22:10:30,050 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-06 22:10:30,056 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-06 22:10:30,210 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-06 22:10:30,214 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-06 22:10:30,215 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-06 22:10:30,218 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-06 22:10:30,222 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-06 22:10:30,242 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-06 22:10:30,243 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-06 22:10:30,243 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-06 22:10:30,243 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-06 22:10:30,244 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-06 22:10:30,244 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-06 22:10:30,244 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-06 22:10:30,296 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-06 22:10:30,298 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-06 22:10:30,298 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-06 22:10:30,364 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-06 22:10:30,367 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-06 22:10:30,367 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-06 22:10:30,378 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-06 22:10:30,404 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-06 22:10:30,405 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-06 22:10:30,416 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-06 22:10:30,424 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-06 22:10:30,424 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-06 22:10:30,427 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-06 22:10:30,434 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-06 22:10:30,436 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-06 22:10:33,562 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 22:10:33,595 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 22:11:39,910 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 22:11:39,942 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 22:13:41,238 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 22:13:41,269 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-06 22:14:41,372 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-06 22:14:41,372 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-06 22:14:41,374 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-06 22:14:41,375 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-06 22:14:41,375 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-06 22:14:41,375 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-06 22:14:41,376 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-06 22:14:41,419 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-06 22:14:41,422 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-06 22:14:41,422 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-06 22:14:41,506 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-06 22:14:41,507 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-06 22:14:41,507 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-06 22:14:41,508 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-06 22:14:41,508 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-06 22:14:41,536 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-06 22:14:43,413 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-06 22:14:43,413 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-06 22:14:43,418 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 3 locations.
2025-06-06 22:14:45,594 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-06 22:14:45,595 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-06 22:14:45,602 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-06 22:16:25,000 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-06 22:16:29,864 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-06 22:16:29,895 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-07 17:57:30,376 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 17:57:30,376 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 17:57:30,376 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 17:57:30,377 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 17:57:30,377 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 17:57:30,377 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 17:57:30,391 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 17:57:30,391 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 17:57:30,394 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 17:57:30,395 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 17:57:30,395 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 17:57:30,582 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 17:57:30,584 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 17:57:30,584 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 17:57:30,585 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 17:57:30,585 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 17:57:30,585 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 17:57:30,596 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 17:57:30,653 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 17:57:32,266 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 18:00:26,448 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 18:00:26,613 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 18:00:26,614 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 18:00:26,615 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 18:00:26,630 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 18:00:26,631 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 18:00:26,631 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 18:00:26,632 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 18:00:26,633 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 18:00:26,635 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 18:00:26,641 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 18:00:26,753 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 18:00:26,757 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 18:00:26,758 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 18:00:26,761 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 18:00:26,765 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 18:00:26,784 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 18:00:26,784 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 18:00:26,785 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 18:00:26,787 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 18:00:26,787 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 18:00:26,787 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 18:00:26,787 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 18:00:26,842 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 18:00:26,843 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 18:00:26,843 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 18:00:26,913 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 18:00:26,916 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 18:00:26,916 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 18:00:26,932 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 18:00:26,957 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 18:00:26,958 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 18:00:26,966 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 18:00:26,972 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 18:00:26,975 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 18:00:26,978 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 18:00:26,986 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 18:00:26,987 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 18:00:30,696 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-07 18:00:30,696 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-07 18:00:30,698 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-07 18:00:30,699 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-07 18:00:30,699 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-07 18:00:30,699 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-07 18:00:30,699 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-07 18:00:30,743 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-07 18:00:30,746 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-07 18:00:30,746 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-07 18:00:30,832 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-07 18:00:30,833 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-07 18:00:30,834 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-07 18:00:30,834 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-07 18:00:30,834 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-07 18:00:30,867 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-07 18:00:38,058 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-07 18:00:38,059 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-07 18:00:38,064 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 3 locations.
2025-06-07 18:00:40,749 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-07 18:00:40,750 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-07 18:00:40,757 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-07 18:00:41,978 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-07 18:00:41,978 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-07 18:00:41,980 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-07 18:00:41,985 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-07 18:00:42,696 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-07 18:00:42,698 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-07 18:00:42,701 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-07 18:00:42,701 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-07 18:00:44,552 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-07 18:00:44,552 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-07 18:00:44,556 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-07 18:00:46,783 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-07 18:01:11,058 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-07 18:01:11,092 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-07 18:02:32,164 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-07 18:02:32,164 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-07 18:02:32,166 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-07 18:02:32,167 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-07 18:02:32,167 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-07 18:02:32,167 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-07 18:02:32,167 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-07 18:02:32,212 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-07 18:02:32,214 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-07 18:02:32,214 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-07 18:02:32,299 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-07 18:02:32,301 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-07 18:02:32,301 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-07 18:02:32,301 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-07 18:02:32,302 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-07 18:02:32,335 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-07 18:02:36,168 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-07 18:02:36,168 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-07 18:02:36,171 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 3 locations.
2025-06-07 18:02:37,278 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-07 18:02:37,278 - INFO - UserManagementScreen - user_management_screen:1015 - Loading charge code categories/processes data...
2025-06-07 18:02:37,285 - INFO - UserManagementScreen - user_management_screen:1085 - Displayed categories in tree (UI filter: 'active').
2025-06-07 18:02:39,464 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-07 18:02:39,465 - INFO - UserManagementScreen - user_management_screen:1330 - Loading charge codes data for tab...
2025-06-07 18:02:39,467 - INFO - UserManagementScreen - user_management_screen:1336 - Charge code status filter: active
2025-06-07 18:02:39,471 - INFO - UserManagementScreen - user_management_screen:1388 - Loaded 7 charge codes based on filter 'active'.
2025-06-07 18:02:42,230 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-07 18:02:42,231 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-07 18:02:42,233 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-07 18:02:42,233 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-07 18:04:39,224 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-07 18:04:52,047 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-07 18:04:52,080 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-07 18:21:23,161 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-07 18:21:23,193 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-07 18:23:44,304 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Doroni
2025-06-07 18:23:49,064 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-06-07 18:26:46,058 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-07 18:26:46,059 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-07 18:26:46,061 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-07 18:26:46,061 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-07 18:26:46,061 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-07 18:26:46,062 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-07 18:26:46,062 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-07 18:26:46,106 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-07 18:26:46,107 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-07 18:26:46,107 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-07 18:26:46,192 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-07 18:26:46,193 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-07 18:26:46,193 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-07 18:26:46,193 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-07 18:26:46,194 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-07 18:26:46,225 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-07 18:27:15,404 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-07 18:27:15,404 - INFO - UserManagementScreen - user_management_screen:1592 - Loading owners data for tab...
2025-06-07 18:27:15,405 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-07 18:27:15,406 - INFO - UserManagementScreen - user_management_screen:1639 - Loaded 2 owners.
2025-06-07 18:33:30,441 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-07 18:56:18,702 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 18:56:18,702 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-07 18:56:18,705 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-07 18:56:18,705 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 18:56:18,723 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 18:56:18,728 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 18:56:18,732 - INFO - root - main:372 - Application exiting with code 0
2025-06-07 18:56:23,306 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 18:56:23,306 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 18:56:23,307 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 18:56:23,307 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 18:56:23,307 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 18:56:23,307 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 18:56:23,317 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 18:56:23,318 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 18:56:23,320 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 18:56:23,321 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 18:56:23,321 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 18:56:23,501 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 18:56:23,502 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 18:56:23,503 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 18:56:23,503 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 18:56:23,503 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 18:56:23,503 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 18:56:23,507 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 18:56:23,567 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 18:56:25,958 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 18:56:36,468 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 18:56:36,627 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 18:56:36,627 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 18:56:36,630 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 18:56:36,643 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 18:56:36,644 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 18:56:36,644 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 18:56:36,644 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 18:56:36,645 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 18:56:36,645 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 18:56:36,650 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 18:56:36,766 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 18:56:36,770 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 18:56:36,771 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 18:56:36,774 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 18:56:36,778 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 18:56:36,797 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 18:56:36,798 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 18:56:36,799 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 18:56:36,799 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 18:56:36,799 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 18:56:36,799 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 18:56:36,800 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 18:56:36,852 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 18:56:36,853 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 18:56:36,853 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 18:56:36,918 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 18:56:36,921 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 18:56:36,921 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 18:56:36,936 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 18:56:36,966 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 18:56:36,966 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 18:56:36,975 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 18:56:36,981 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 18:56:36,982 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 18:56:36,986 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 18:56:37,035 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
2025-06-07 18:56:45,939 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 18:57:58,990 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 1
2025-06-07 18:57:58,993 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-07 18:57:58,999 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 216, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 279, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
2025-06-07 18:59:57,418 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 18:59:57,419 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 18:59:57,419 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 18:59:57,419 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 18:59:57,420 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 18:59:57,420 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 18:59:57,428 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 18:59:57,428 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 18:59:57,430 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 18:59:57,431 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 18:59:57,431 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 18:59:57,613 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 18:59:57,615 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 18:59:57,615 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 18:59:57,615 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 18:59:57,616 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 18:59:57,616 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 18:59:57,620 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 18:59:57,680 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 18:59:59,366 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 19:00:08,761 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 19:00:08,924 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 19:00:08,924 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 19:00:08,926 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 19:00:08,938 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 19:00:08,939 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 19:00:08,940 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 19:00:08,940 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 19:00:08,940 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 19:00:08,942 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 19:00:08,947 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 19:00:09,109 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 19:00:09,112 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 19:00:09,113 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 19:00:09,116 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 19:00:09,121 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 19:00:09,144 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 19:00:09,145 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 19:00:09,145 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 19:00:09,145 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 19:00:09,146 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 19:00:09,146 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 19:00:09,146 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 19:00:09,203 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 19:00:09,204 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 19:00:09,204 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 19:00:09,272 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 19:00:09,275 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 19:00:09,275 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 19:00:09,291 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 19:00:09,320 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 19:00:09,320 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 19:00:09,329 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 19:00:09,335 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 19:00:09,335 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 19:00:09,338 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 19:00:09,366 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 192, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 255, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 192, in set_current_horse
    self.update_buttons_state()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 255, in update_buttons_state
    self.create_invoice_btn.setEnabled(has_items_to_invoice)
TypeError: 'PySide6.QtWidgets.QWidget.setEnabled' called with wrong argument types:
  PySide6.QtWidgets.QWidget.setEnabled(NoneType)
Supported signatures:
  PySide6.QtWidgets.QWidget.setEnabled(arg__1: bool, /)
2025-06-07 19:00:15,213 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 19:00:59,217 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 19:00:59,218 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-07 19:00:59,220 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-07 19:00:59,220 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 19:00:59,239 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 19:00:59,247 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 19:00:59,249 - INFO - root - main:372 - Application exiting with code 0
2025-06-07 19:01:03,840 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 19:01:03,840 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 19:01:03,841 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 19:01:03,841 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 19:01:03,842 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 19:01:03,842 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 19:01:03,849 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 19:01:03,850 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 19:01:03,853 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 19:01:03,853 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 19:01:03,854 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 19:01:04,033 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 19:01:04,034 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 19:01:04,034 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 19:01:04,035 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 19:01:04,035 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 19:01:04,035 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 19:01:04,040 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 19:01:04,099 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 19:01:05,684 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 19:01:12,959 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 19:01:13,120 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 19:01:13,120 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 19:01:13,122 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 19:01:13,133 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 19:01:13,133 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 19:01:13,134 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 19:01:13,134 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 19:01:13,134 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 19:01:13,134 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 19:01:13,141 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 19:01:13,297 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 19:01:13,301 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 19:01:13,303 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 19:01:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 19:01:13,311 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 19:01:13,331 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 19:01:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 19:01:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 19:01:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 19:01:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 19:01:13,333 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 19:01:13,333 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 19:01:13,388 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 19:01:13,390 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 19:01:13,390 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 19:01:13,460 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 19:01:13,463 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 19:01:13,464 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 19:01:13,478 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 19:01:13,506 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 19:01:13,507 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 19:01:13,515 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 19:01:13,521 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 19:01:13,522 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 19:01:13,525 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 19:01:13,533 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 19:01:13,533 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 19:01:16,910 - INFO - BillingTab - billing_tab:309 - Launching AddChargeDialog for horse: Doroni
2025-06-07 19:01:16,944 - INFO - FinancialController - financial_controller:99 - Retrieved 7 charge codes for lookup.
2025-06-07 19:01:20,824 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 19:01:20,824 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-07 19:01:20,825 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-07 19:01:20,826 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 19:01:20,837 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 19:01:20,839 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 19:01:20,839 - INFO - root - main:372 - Application exiting with code 0
2025-06-07 19:52:43,373 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 19:52:43,373 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 19:52:43,374 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 19:52:43,374 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 19:52:43,374 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 19:52:43,374 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 19:52:43,388 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 19:52:43,388 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 19:52:43,416 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 19:52:43,417 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 19:52:43,417 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 19:52:43,615 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 19:52:43,617 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 19:52:43,617 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 19:52:43,617 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 19:52:43,617 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 19:52:43,618 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 19:52:43,631 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 19:52:43,705 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 19:52:45,508 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 19:52:54,371 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 19:52:54,534 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 19:52:54,534 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 19:52:54,536 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 19:52:54,548 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 19:52:54,549 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 19:52:54,549 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 19:52:54,550 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 19:52:54,550 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 19:52:54,551 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 19:52:54,565 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 19:52:55,834 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 19:52:55,839 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 19:52:55,840 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 19:52:55,845 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 19:52:55,850 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 19:52:55,871 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 19:52:55,871 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 19:52:55,872 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 19:52:55,872 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 19:52:55,872 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 19:52:55,873 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 19:52:55,873 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 19:52:55,930 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 19:52:55,931 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 19:52:55,932 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 19:52:56,006 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 19:52:56,010 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 19:52:56,011 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 19:52:56,023 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 19:52:56,054 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 19:52:56,055 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 19:52:56,063 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 19:52:56,069 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 19:52:56,069 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 19:52:56,072 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 19:52:56,078 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 241, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 253, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 293, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 318, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1490, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1035, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 241, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 253, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 293, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 318, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
2025-06-07 19:53:00,865 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 19:57:40,960 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 19:57:40,960 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 19:57:40,961 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 19:57:40,961 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 19:57:40,961 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 19:57:40,962 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 19:57:40,970 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 19:57:40,971 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 19:57:40,974 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 19:57:40,974 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 19:57:40,975 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 19:57:41,153 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 19:57:41,155 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 19:57:41,155 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 19:57:41,156 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 19:57:41,156 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 19:57:41,156 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 19:57:41,160 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 19:57:41,226 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 19:57:43,270 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 19:57:52,189 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 19:57:52,352 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 19:57:52,352 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 19:57:52,354 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 19:57:52,370 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 19:57:52,370 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 19:57:52,370 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 19:57:52,371 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 19:57:52,372 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 19:57:52,372 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 19:57:52,379 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 19:57:52,536 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 19:57:52,540 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 19:57:52,541 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 19:57:52,545 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 19:57:52,550 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 19:57:52,570 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 19:57:52,571 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 19:57:52,572 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 19:57:52,572 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 19:57:52,572 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 19:57:52,573 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 19:57:52,573 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 19:57:52,628 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 19:57:52,629 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 19:57:52,630 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 19:57:52,696 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 19:57:52,700 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 19:57:52,700 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 19:57:52,716 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 19:57:52,733 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 19:57:52,734 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 19:57:52,741 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 19:57:52,748 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 19:57:52,749 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 19:57:52,751 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 19:57:52,758 - INFO - FinancialController - financial_controller:112 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-07 19:57:52,762 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 19:57:52,763 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 19:58:06,394 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 19:58:06,400 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'PySide6.QtWidgets.QAbstractItemView' has no attribute 'NoButtons'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 119, in __init__
    self._apply_styles()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 237, in _apply_styles
    self.tax_amount_input.setButtonSymbols(QAbstractItemView.NoButtons)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QAbstractItemView' has no attribute 'NoButtons'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 119, in __init__
    self._apply_styles()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 237, in _apply_styles
    self.tax_amount_input.setButtonSymbols(QAbstractItemView.NoButtons)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QAbstractItemView' has no attribute 'NoButtons'
2025-06-07 20:01:13,691 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:01:13,692 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:01:13,692 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:01:13,692 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:01:13,692 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:01:13,693 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:01:13,700 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:01:13,701 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:01:13,704 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:01:13,704 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:01:13,704 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:01:13,887 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:01:13,888 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:01:13,889 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:01:13,889 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:01:13,889 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:01:13,890 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:01:13,894 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:01:13,955 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:01:15,850 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:01:24,981 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:01:25,143 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:01:25,143 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:01:25,145 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:01:25,156 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:01:25,157 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:01:25,158 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:01:25,158 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:01:25,159 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:01:25,159 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:01:25,166 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:01:25,327 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:01:25,330 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:01:25,332 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:01:25,336 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:01:25,341 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:01:25,362 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:01:25,363 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:01:25,364 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:01:25,364 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:01:25,364 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:01:25,365 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:01:25,365 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:01:25,422 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:01:25,425 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:01:25,425 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:01:25,491 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:01:25,494 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:01:25,494 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:01:25,507 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:01:25,528 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:01:25,528 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:01:25,536 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:01:25,543 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:01:25,543 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:01:25,546 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:01:25,555 - INFO - FinancialController - financial_controller:112 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:01:25,559 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:01:25,559 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:01:29,602 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:01:29,610 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 125, in __init__
    self._setup_connections()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 263, in _setup_connections
    self.charges_table.currentRowChanged.connect(self._handle_row_change)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 125, in __init__
    self._setup_connections()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 263, in _setup_connections
    self.charges_table.currentRowChanged.connect(self._handle_row_change)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
2025-06-07 20:01:57,409 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:02:05,024 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:02:11,828 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:02:25,544 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:02:25,549 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 125, in __init__
    self._setup_connections()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 263, in _setup_connections
    self.charges_table.currentRowChanged.connect(self._handle_row_change)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 338, in _launch_add_charge_dialog
    dialog = AddChargeDialog(
             ^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 125, in __init__
    self._setup_connections()
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 263, in _setup_connections
    self.charges_table.currentRowChanged.connect(self._handle_row_change)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PySide6.QtWidgets.QTableWidget' object has no attribute 'currentRowChanged'
2025-06-07 20:02:30,939 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-07 20:02:30,939 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-07 20:02:30,941 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-07 20:02:30,941 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 20:02:30,941 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 20:02:30,942 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 20:02:30,954 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 20:02:30,955 - INFO - root - main:372 - Application exiting with code 0
2025-06-07 20:07:00,260 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:07:00,261 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:07:00,261 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:07:00,261 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:07:00,261 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:07:00,261 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:07:00,269 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:07:00,269 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:07:00,272 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:07:00,273 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:07:00,273 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:07:00,452 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:07:00,455 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:07:00,455 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:07:00,455 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:07:00,455 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:07:00,456 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:07:00,460 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:07:00,525 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:07:01,958 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:07:11,367 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:07:11,528 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:07:11,529 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:07:11,530 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:07:11,543 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:07:11,543 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:07:11,543 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:07:11,544 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:07:11,544 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:07:11,544 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:07:11,551 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:07:11,709 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:07:11,712 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:07:11,713 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:07:11,718 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:07:11,724 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:07:11,745 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:07:11,746 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:07:11,746 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:07:11,747 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:07:11,747 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:07:11,747 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:07:11,747 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:07:11,804 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:07:11,806 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:07:11,806 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:07:11,876 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:07:11,879 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:07:11,879 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:07:11,894 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:07:11,921 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:07:11,921 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:07:11,930 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:07:11,936 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:07:11,938 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:07:11,941 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:07:11,948 - INFO - FinancialController - financial_controller:112 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:07:11,952 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:07:11,953 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:07:15,820 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:07:15,862 - INFO - FinancialController - financial_controller:137 - Retrieved 7 charge codes for lookup.
2025-06-07 20:07:53,687 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 400, in _delete_selected_charge
    success, message = self.financial_controller.delete_charge_transaction(
    ^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:09:34,591 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:09:34,592 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:09:34,592 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:09:34,593 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:09:34,593 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:09:34,593 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:09:34,601 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:09:34,601 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:09:34,604 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:09:34,605 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:09:34,605 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:09:34,784 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:09:34,786 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:09:34,786 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:09:34,786 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:09:34,786 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:09:34,787 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:09:34,791 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:09:34,851 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:09:36,010 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:09:44,210 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:09:44,371 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:09:44,371 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:09:44,373 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:09:44,387 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:09:44,388 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:09:44,388 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:09:44,388 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:09:44,388 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:09:44,389 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:09:44,395 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:09:44,570 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:09:44,573 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:09:44,575 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:09:44,579 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:09:44,586 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:09:44,608 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:09:44,608 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:09:44,609 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:09:44,609 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:09:44,610 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:09:44,610 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:09:44,610 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:09:44,669 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:09:44,670 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:09:44,671 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:09:44,741 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:09:44,745 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:09:44,745 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:09:44,762 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:09:44,787 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:09:44,787 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:09:44,796 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:09:44,803 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:09:44,804 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:09:44,806 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:09:44,813 - INFO - FinancialController - financial_controller:149 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:09:44,819 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:09:44,819 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:09:51,495 - INFO - FinancialController - financial_controller:106 - Transaction ID 2 deleted successfully.
2025-06-07 20:09:51,496 - INFO - FinancialController - financial_controller:149 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:10:01,534 - INFO - FinancialController - financial_controller:106 - Transaction ID 1 deleted successfully.
2025-06-07 20:10:01,535 - INFO - FinancialController - financial_controller:149 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:10:05,510 - INFO - FinancialController - financial_controller:106 - Transaction ID 3 deleted successfully.
2025-06-07 20:10:05,511 - INFO - FinancialController - financial_controller:149 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:10:07,996 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:10:08,035 - INFO - FinancialController - financial_controller:174 - Retrieved 7 charge codes for lookup.
2025-06-07 20:10:29,996 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:11:18,889 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:11:32,412 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 503, in accept
    success, message, new_transactions = (
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object
2025-06-07 20:14:30,968 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:14:30,968 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:14:30,968 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:14:30,969 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:14:30,969 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:14:30,969 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:14:30,977 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:14:30,977 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:14:30,980 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:14:30,980 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:14:30,981 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:14:31,160 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:14:31,162 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:14:31,162 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:14:31,162 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:14:31,162 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:14:31,163 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:14:31,167 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:14:31,229 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:14:32,765 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:14:46,127 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:14:46,287 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:14:46,288 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:14:46,290 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:14:46,303 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:14:46,303 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:14:46,304 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:14:46,305 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:14:46,306 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:14:46,306 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:14:46,312 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:14:46,465 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:14:46,468 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:14:46,470 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:14:46,474 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:14:46,478 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:14:46,498 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:14:46,498 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:14:46,499 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:14:46,499 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:14:46,499 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:14:46,500 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:14:46,500 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:14:46,553 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:14:46,555 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:14:46,555 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:14:46,624 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:14:46,628 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:14:46,628 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:14:46,639 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:14:46,670 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:14:46,671 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:14:46,680 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:14:46,685 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:14:46,687 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:14:46,692 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:14:46,699 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:14:46,703 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:14:46,704 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:14:50,754 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:14:50,797 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:15:11,945 - INFO - FinancialController - financial_controller:107 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:15:11,955 - INFO - FinancialController - financial_controller:205 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:15:24,888 - INFO - FinancialController - financial_controller:164 - Transaction ID 1 deleted successfully.
2025-06-07 20:15:24,889 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:15:26,154 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:15:26,190 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:15:45,135 - INFO - FinancialController - financial_controller:107 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:15:45,145 - INFO - FinancialController - financial_controller:205 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:16:31,611 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:16:31,611 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:16:31,612 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:16:31,612 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:16:31,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:16:31,612 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:16:31,619 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:16:31,620 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:16:31,623 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:16:31,624 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:16:31,624 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:16:31,808 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:16:31,810 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:16:31,810 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:16:31,810 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:16:31,811 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:16:31,811 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:16:31,815 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:16:31,878 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:16:33,474 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:16:43,074 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:16:43,235 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:16:43,236 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:16:43,237 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:16:43,249 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:16:43,249 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:16:43,251 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:16:43,251 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:16:43,251 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:16:43,251 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:16:43,257 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:16:43,418 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:16:43,421 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:16:43,423 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:16:43,428 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:16:43,433 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:16:43,453 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:16:43,453 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:16:43,454 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:16:43,454 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:16:43,454 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:16:43,454 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:16:43,455 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:16:43,512 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:16:43,514 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:16:43,514 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:16:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:16:43,588 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:16:43,588 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:16:43,603 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:16:43,629 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:16:43,629 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:16:43,636 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:16:43,642 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:16:43,643 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:16:43,646 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:16:43,654 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:16:43,658 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:16:43,658 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:16:51,287 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-07 20:16:53,644 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-07 20:17:05,475 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:17:05,519 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:20:59,373 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:20:59,374 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:20:59,374 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:20:59,374 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:20:59,374 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:20:59,374 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:20:59,381 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:20:59,381 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:20:59,384 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:20:59,384 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:20:59,384 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:20:59,561 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:20:59,564 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:20:59,564 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:20:59,564 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:20:59,565 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:20:59,565 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:20:59,569 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:20:59,637 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:21:01,312 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:21:11,736 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:21:11,899 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:21:11,899 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:21:11,901 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:21:11,912 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:21:11,913 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:21:11,913 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:21:11,913 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:21:11,913 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:21:11,914 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:21:11,919 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:21:12,085 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:21:12,089 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:21:12,090 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:21:12,094 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:21:12,099 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:21:12,119 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:21:12,119 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:21:12,119 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:21:12,120 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:21:12,120 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:21:12,120 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:21:12,120 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:21:12,177 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:21:12,178 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:21:12,178 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:21:12,244 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:21:12,247 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:21:12,247 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:21:12,261 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:21:12,286 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:21:12,286 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:21:12,294 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:21:12,300 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:21:12,301 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:21:12,303 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:21:12,311 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:21:12,315 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:21:12,315 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:21:15,614 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:21:15,656 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:21:49,778 - INFO - FinancialController - financial_controller:107 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:21:49,787 - INFO - FinancialController - financial_controller:205 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:22:01,846 - INFO - FinancialController - financial_controller:164 - Transaction ID 1 deleted successfully.
2025-06-07 20:22:01,846 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:22:03,332 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:22:03,369 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:23:16,670 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-06-07 20:23:48,167 - INFO - HorseUnifiedManagement - horse_unified_management:1643 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-07 20:23:48,167 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-07 20:23:48,168 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-07 20:23:48,168 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 20:23:48,169 - WARNING - HorseUnifiedManagement - horse_unified_management:544 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 20:23:48,169 - WARNING - HorseUnifiedManagement - horse_unified_management:547 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 20:23:48,183 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 20:23:48,184 - INFO - root - main:372 - Application exiting with code 0
2025-06-07 20:25:41,703 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:25:41,703 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:25:41,704 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:25:41,704 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:25:41,704 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:25:41,705 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:25:41,711 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:25:41,712 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:25:41,718 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:25:41,718 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:25:41,719 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:25:41,900 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:25:41,902 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:25:41,902 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:25:41,903 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:25:41,903 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:25:41,903 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:25:41,907 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:25:41,973 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:25:43,509 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:25:57,703 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-07 20:25:57,868 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-07 20:25:57,868 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-07 20:25:57,870 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-07 20:25:57,883 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-07 20:25:57,884 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-07 20:25:57,884 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:25:57,884 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:25:57,885 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:25:57,885 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:25:57,891 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:25:58,052 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:25:58,055 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:25:58,057 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:25:58,061 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:25:58,067 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:25:58,087 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:25:58,087 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:25:58,088 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:25:58,088 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:25:58,088 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:25:58,088 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:25:58,088 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:25:58,144 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:25:58,144 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:25:58,144 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:25:58,215 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:25:58,219 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:25:58,219 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:25:58,237 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:25:58,265 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:25:58,265 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:25:58,273 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:25:58,279 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:25:58,280 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:25:58,282 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:25:58,289 - INFO - FinancialController - financial_controller:205 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:25:58,293 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:25:58,293 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:26:02,675 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:26:02,716 - INFO - FinancialController - financial_controller:230 - Retrieved 7 charge codes for lookup.
2025-06-07 20:26:40,552 - INFO - FinancialController - financial_controller:107 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:26:40,561 - INFO - FinancialController - financial_controller:205 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:32:21,071 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:32:21,071 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:32:21,072 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:32:21,072 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:32:21,072 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:32:21,072 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:32:21,080 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:32:21,080 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:32:21,083 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:32:21,083 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:32:21,084 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:32:21,263 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:32:21,265 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:32:21,265 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:32:21,266 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:32:21,266 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:32:21,266 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:32:21,270 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:32:21,333 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:32:22,464 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:32:29,382 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:32:29,543 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:32:29,543 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:32:29,545 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:32:29,557 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:32:29,558 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:32:29,558 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:32:29,558 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:32:29,558 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:32:29,559 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:32:29,565 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:32:29,727 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:32:29,730 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:32:29,731 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:32:29,735 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:32:29,740 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:32:29,760 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:32:29,760 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:32:29,761 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:32:29,761 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:32:29,761 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:32:29,761 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:32:29,761 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:32:29,821 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:32:29,822 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:32:29,822 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:32:29,889 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:32:29,893 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:32:29,893 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:32:29,907 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:32:29,936 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:32:29,936 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:32:29,944 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:32:29,951 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:32:29,953 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:32:29,955 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:32:29,965 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:32:29,969 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:32:29,970 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:32:35,646 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 1.
2025-06-07 20:32:35,659 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
2025-06-07 20:32:45,712 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:32:45,757 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:32:59,806 - INFO - FinancialController - financial_controller:104 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:32:59,815 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:33:05,660 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:33:05,664 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
2025-06-07 20:35:29,714 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:35:29,714 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:35:29,715 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:35:29,715 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:35:29,715 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:35:29,715 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:35:29,722 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:35:29,723 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:35:29,726 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:35:29,726 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:35:29,727 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:35:29,906 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:35:29,908 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:35:29,908 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:35:29,909 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:35:29,909 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:35:29,909 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:35:29,913 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:35:29,977 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:35:31,346 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:35:38,998 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:35:39,160 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:35:39,160 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:35:39,162 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:35:39,174 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:35:39,175 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:35:39,176 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:35:39,177 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:35:39,177 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:35:39,177 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:35:39,184 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:35:39,343 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:35:39,346 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:35:39,348 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:35:39,351 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:35:39,356 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:35:39,376 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:35:39,376 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:35:39,377 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:35:39,377 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:35:39,377 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:35:39,377 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:35:39,378 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:35:39,432 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:35:39,434 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:35:39,434 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:35:39,502 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:35:39,506 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:35:39,506 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:35:39,520 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:35:39,545 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:35:39,546 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:35:39,553 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:35:39,560 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:35:39,560 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:35:39,563 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:35:39,575 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:35:39,579 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:35:39,579 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:35:44,726 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:35:44,731 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 369, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 64, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 115, in _populate_form
    self.notes_edit.setPlainText(self.transaction.notes or "")
                                 ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Transaction' object has no attribute 'notes'
2025-06-07 20:37:01,937 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:37:01,937 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:37:01,938 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:37:01,938 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:37:01,938 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:37:01,938 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:37:01,946 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:37:01,948 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:37:01,953 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:37:01,954 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:37:01,954 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:37:02,134 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:37:02,136 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:37:02,136 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:37:02,136 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:37:02,136 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:37:02,137 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:37:02,141 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:37:02,206 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:37:03,646 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:37:11,099 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:37:11,260 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:37:11,260 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:37:11,262 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:37:11,275 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:37:11,275 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:37:11,276 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:37:11,276 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:37:11,277 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:37:11,277 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:37:11,284 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:37:11,436 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:37:11,439 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:37:11,441 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:37:11,445 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:37:11,450 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:37:11,470 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:37:11,471 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:37:11,472 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:37:11,472 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:37:11,472 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:37:11,472 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:37:11,472 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:37:11,525 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:37:11,526 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:37:11,527 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:37:11,591 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:37:11,594 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:37:11,594 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:37:11,606 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:37:11,628 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:37:11,630 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:37:11,638 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:37:11,644 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:37:11,645 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:37:11,647 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:37:11,654 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:37:11,660 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:37:11,660 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:37:15,651 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:37:57,976 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:42:52,003 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:42:52,004 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:42:52,004 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:42:52,004 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:42:52,005 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:42:52,005 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:42:52,012 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:42:52,012 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:42:52,015 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:42:52,015 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:42:52,016 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:42:52,194 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:42:52,196 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:42:52,196 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:42:52,197 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:42:52,197 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:42:52,197 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:42:52,201 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:42:52,265 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:42:53,578 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:43:01,665 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:43:01,826 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:43:01,827 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:43:01,828 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:43:01,839 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:43:01,839 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:43:01,840 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:43:01,840 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:43:01,840 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:43:01,840 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:43:01,847 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:43:02,010 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:43:02,014 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:43:02,016 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:43:02,020 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:43:02,025 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:43:02,044 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:43:02,045 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:43:02,046 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:43:02,046 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:43:02,047 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:43:02,047 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:43:02,047 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:43:02,100 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:43:02,101 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:43:02,101 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:43:02,166 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:43:02,169 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:43:02,169 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:43:02,180 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:43:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:43:02,209 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:43:02,218 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:43:02,224 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:43:02,224 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:43:02,227 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:43:02,235 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:43:02,238 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:43:02,238 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:43:06,940 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:43:06,982 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:43:14,055 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:43:28,415 - INFO - FinancialController - financial_controller:161 - Transaction ID 2 updated successfully.
2025-06-07 20:43:30,763 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:43:53,179 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 20:44:03,805 - INFO - FinancialController - financial_controller:199 - Transaction ID 2 deleted successfully.
2025-06-07 20:44:03,806 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:44:09,754 - INFO - FinancialController - financial_controller:199 - Transaction ID 1 deleted successfully.
2025-06-07 20:44:09,755 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:44:11,318 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:44:11,354 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:50:27,558 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:50:27,558 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:50:27,559 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:50:27,559 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:50:27,559 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:50:27,559 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:50:27,567 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:50:27,567 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:50:27,570 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:50:27,571 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:50:27,571 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:50:27,749 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:50:27,751 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:50:27,752 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:50:27,752 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:50:27,752 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:50:27,753 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:50:27,757 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:50:27,827 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:50:29,292 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:50:37,057 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:50:37,219 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:50:37,220 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:50:37,221 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:50:37,231 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:50:37,232 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:50:37,232 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:50:37,232 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:50:37,233 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:50:37,233 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:50:37,241 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:50:37,405 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:50:37,408 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:50:37,410 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:50:37,414 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:50:37,419 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:50:37,439 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:50:37,439 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:50:37,440 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:50:37,440 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:50:37,440 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:50:37,440 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:50:37,441 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:50:37,497 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:50:37,499 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:50:37,499 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:50:37,564 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:50:37,568 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:50:37,568 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:50:37,579 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:50:37,610 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:50:37,610 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:50:37,618 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:50:37,624 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:50:37,625 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:50:37,627 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:50:37,635 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:50:37,640 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:50:37,640 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:50:41,945 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:50:41,990 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:50:49,848 - INFO - FinancialController - financial_controller:104 - Successfully added 1 charges for horse ID 2.
2025-06-07 20:50:49,857 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:50:55,515 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 1.
2025-06-07 20:51:05,230 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:51:05,265 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:59:00,140 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 20:59:00,141 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 20:59:00,141 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 20:59:00,142 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 20:59:00,142 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 20:59:00,142 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 20:59:00,150 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 20:59:00,150 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 20:59:00,153 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 20:59:00,153 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 20:59:00,153 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 20:59:00,333 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 20:59:00,335 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 20:59:00,335 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 20:59:00,336 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 20:59:00,336 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 20:59:00,336 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 20:59:00,340 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 20:59:00,407 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 20:59:02,564 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 20:59:13,401 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 20:59:13,564 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 20:59:13,564 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 20:59:13,566 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 20:59:13,578 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 20:59:13,578 - INFO - HorseUnifiedManagement - horse_unified_management:105 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 20:59:13,578 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 20:59:13,579 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 20:59:13,579 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 20:59:13,579 - INFO - HorseUnifiedManagement - horse_unified_management:165 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 20:59:13,587 - INFO - HorseUnifiedManagement - horse_unified_management:818 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 20:59:13,739 - INFO - HorseUnifiedManagement - horse_unified_management:831 - BasicInfoTab created.
2025-06-07 20:59:13,742 - INFO - HorseUnifiedManagement - horse_unified_management:843 - OwnersTab created.
2025-06-07 20:59:13,743 - INFO - HorseUnifiedManagement - horse_unified_management:855 - LocationTab created.
2025-06-07 20:59:13,748 - INFO - HorseUnifiedManagement - horse_unified_management:865 - BillingTab created.
2025-06-07 20:59:13,752 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Tabs added.
2025-06-07 20:59:13,772 - INFO - HorseUnifiedManagement - horse_unified_management:1702 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 20:59:13,773 - INFO - HorseUnifiedManagement - horse_unified_management:1724 - Connecting BasicInfoTab signals.
2025-06-07 20:59:13,773 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-06-07 20:59:13,773 - INFO - HorseUnifiedManagement - horse_unified_management:1748 - Connecting LocationTab signals.
2025-06-07 20:59:13,774 - INFO - HorseUnifiedManagement - horse_unified_management:1756 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 20:59:13,774 - INFO - HorseUnifiedManagement - horse_unified_management:1759 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 20:59:13,774 - INFO - HorseUnifiedManagement - horse_unified_management:180 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 20:59:13,829 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 20:59:13,831 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 20:59:13,832 - INFO - HorseUnifiedManagement - horse_unified_management:160 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 20:59:13,911 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement showEvent: START
2025-06-07 20:59:13,914 - INFO - HorseUnifiedManagement - horse_unified_management:376 - display_empty_state: FINISHED
2025-06-07 20:59:13,914 - INFO - HorseUnifiedManagement - horse_unified_management:228 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 20:59:13,928 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 20:59:13,954 - INFO - HorseUnifiedManagement - horse_unified_management:528 - load_initial_data: START - Attempting to load horses.
2025-06-07 20:59:13,955 - INFO - HorseUnifiedManagement - horse_unified_management:1329 - load_horses: Filter status: 'active', Search: ''
2025-06-07 20:59:13,964 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 20:59:13,970 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 20:59:13,970 - INFO - HorseUnifiedManagement - horse_unified_management:1014 - load_horse_details: START for horse ID: 2
2025-06-07 20:59:13,973 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 20:59:13,980 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 20:59:13,984 - INFO - HorseUnifiedManagement - horse_unified_management:1039 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 20:59:13,984 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 20:59:18,107 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 20:59:18,145 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 20:59:51,322 - INFO - FinancialController - financial_controller:104 - Successfully added 3 charges for horse ID 2.
2025-06-07 20:59:51,332 - INFO - FinancialController - financial_controller:259 - Retrieved 4 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:00:02,743 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-07 21:00:44,830 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-07 21:07:54,420 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 21:07:54,420 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 21:07:54,421 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 21:07:54,421 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 21:07:54,421 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 21:07:54,421 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 21:07:54,428 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 21:07:54,428 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 21:07:54,431 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 21:07:54,431 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 21:07:54,432 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 21:07:54,611 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 21:07:54,613 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 21:07:54,613 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 21:07:54,613 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 21:07:54,614 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 21:07:54,614 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 21:07:54,619 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 21:07:54,686 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 21:07:56,418 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 21:08:04,377 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 21:08:04,538 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 21:08:04,539 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 21:08:04,540 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 21:08:04,551 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 21:08:04,552 - INFO - HorseUnifiedManagement - horse_unified_management:108 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 21:08:04,552 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 21:08:04,553 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 21:08:04,554 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 21:08:04,554 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 21:08:04,561 - INFO - HorseUnifiedManagement - horse_unified_management:821 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 21:08:04,724 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-07 21:08:04,727 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-07 21:08:04,728 - INFO - HorseUnifiedManagement - horse_unified_management:858 - LocationTab created.
2025-06-07 21:08:04,732 - INFO - HorseUnifiedManagement - horse_unified_management:868 - BillingTab created.
2025-06-07 21:08:04,737 - INFO - HorseUnifiedManagement - horse_unified_management:885 - Tabs added.
2025-06-07 21:08:04,757 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 21:08:04,758 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-07 21:08:04,759 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-07 21:08:04,759 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-07 21:08:04,759 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 21:08:04,759 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 21:08:04,759 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 21:08:04,817 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 21:08:04,817 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 21:08:04,818 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 21:08:04,882 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-07 21:08:04,885 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-07 21:08:04,885 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 21:08:04,900 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 21:08:04,925 - INFO - HorseUnifiedManagement - horse_unified_management:531 - load_initial_data: START - Attempting to load horses.
2025-06-07 21:08:04,926 - INFO - HorseUnifiedManagement - horse_unified_management:1332 - load_horses: Filter status: 'active', Search: ''
2025-06-07 21:08:04,932 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 21:08:04,938 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 21:08:04,939 - INFO - HorseUnifiedManagement - horse_unified_management:1017 - load_horse_details: START for horse ID: 2
2025-06-07 21:08:04,941 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 21:08:04,948 - INFO - FinancialController - financial_controller:259 - Retrieved 4 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:08:04,952 - INFO - HorseUnifiedManagement - horse_unified_management:1042 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 21:08:04,952 - INFO - HorseUnifiedManagement - horse_unified_management:534 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 21:08:15,056 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-07 21:08:33,491 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-07 21:09:10,744 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-07 21:09:10,783 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-07 21:09:33,775 - INFO - FinancialController - financial_controller:104 - Successfully added 1 charges for horse ID 2.
2025-06-07 21:09:33,786 - INFO - FinancialController - financial_controller:259 - Retrieved 5 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:09:41,107 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 1.
2025-06-07 21:09:46,109 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 2.
2025-06-07 21:09:51,826 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 3.
2025-06-07 21:09:55,479 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 3.
2025-06-07 21:09:59,790 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 5.
2025-06-07 21:10:08,103 - INFO - FinancialController - financial_controller:161 - Transaction ID 5 updated successfully.
2025-06-07 21:10:11,448 - INFO - FinancialController - financial_controller:259 - Retrieved 5 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:10:19,062 - INFO - FinancialController - financial_controller:199 - Transaction ID 5 deleted successfully.
2025-06-07 21:10:19,063 - INFO - FinancialController - financial_controller:259 - Retrieved 4 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:10:23,546 - INFO - FinancialController - financial_controller:199 - Transaction ID 1 deleted successfully.
2025-06-07 21:10:23,547 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:10:27,618 - INFO - FinancialController - financial_controller:199 - Transaction ID 2 deleted successfully.
2025-06-07 21:10:27,619 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:10:33,000 - INFO - FinancialController - financial_controller:199 - Transaction ID 3 deleted successfully.
2025-06-07 21:10:33,001 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:17:01,699 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-06-07 21:17:03,102 - INFO - HorseUnifiedManagement - horse_unified_management:1017 - load_horse_details: START for horse ID: 1
2025-06-07 21:17:03,104 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-07 21:17:03,108 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 1 (invoiced=False).
2025-06-07 21:17:03,108 - INFO - HorseUnifiedManagement - horse_unified_management:1042 - load_horse_details: FINISHED for horse ID: 1
2025-06-07 21:17:03,399 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-06-07 21:17:36,088 - INFO - HorseUnifiedManagement - horse_unified_management:1017 - load_horse_details: START for horse ID: 2
2025-06-07 21:17:36,090 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 21:17:36,095 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:17:36,095 - INFO - HorseUnifiedManagement - horse_unified_management:1042 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 21:25:07,680 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-07 21:25:07,680 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-07 21:25:07,681 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-07 21:25:07,682 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-07 21:25:07,682 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-07 21:25:07,682 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-07 21:25:07,689 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-07 21:25:07,690 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-07 21:25:07,692 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-07 21:25:07,693 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-07 21:25:07,693 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-07 21:25:07,874 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-07 21:25:07,876 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-07 21:25:07,876 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-07 21:25:07,876 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-07 21:25:07,877 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-07 21:25:07,877 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-07 21:25:07,883 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-07 21:25:07,952 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-07 21:25:09,463 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-07 21:25:16,706 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-07 21:25:16,869 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-07 21:25:16,869 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-07 21:25:16,871 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-07 21:25:16,883 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-07 21:25:16,884 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-07 21:25:16,884 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-07 21:25:16,885 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-07 21:25:16,886 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-07 21:25:16,888 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-07 21:25:16,894 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-07 21:25:17,055 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-07 21:25:17,058 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-07 21:25:17,059 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-07 21:25:17,064 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-07 21:25:17,069 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-07 21:25:17,088 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-07 21:25:17,089 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-07 21:25:17,089 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-07 21:25:17,089 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-07 21:25:17,090 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-07 21:25:17,090 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-07 21:25:17,090 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-07 21:25:17,145 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-07 21:25:17,146 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-07 21:25:17,147 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-07 21:25:17,222 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-07 21:25:17,224 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-07 21:25:17,225 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-07 21:25:17,240 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-07 21:25:17,271 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-07 21:25:17,272 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-07 21:25:17,280 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-07 21:25:17,287 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-07 21:25:17,288 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-07 21:25:17,290 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-07 21:25:17,297 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-07 21:25:17,302 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-07 21:25:17,303 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-07 21:25:30,941 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-07 21:26:16,293 - INFO - HorseUnifiedManagement - horse_unified_management:1648 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-07 21:26:16,294 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-07 21:26:16,295 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-07 21:26:16,295 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-07 21:26:16,295 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-07 21:26:16,296 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-07 21:26:16,308 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-07 21:26:16,308 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 08:37:58,091 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 08:37:58,091 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 08:37:58,091 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 08:37:58,092 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 08:37:58,092 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 08:37:58,092 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 08:37:58,100 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 08:37:58,100 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 08:37:58,103 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 08:37:58,103 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 08:37:58,104 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 08:37:58,283 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 08:37:58,285 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 08:37:58,285 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 08:37:58,285 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 08:37:58,285 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 08:37:58,286 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 08:37:58,291 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 08:37:58,354 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 08:37:59,958 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 08:38:10,192 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 08:38:10,356 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 08:38:10,356 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 08:38:10,358 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 08:38:10,371 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 08:38:10,371 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 08:38:10,372 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 08:38:10,373 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 08:38:10,374 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 08:38:10,374 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 08:38:10,379 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 08:38:10,529 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 08:38:10,534 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 08:38:10,535 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 08:38:10,539 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 08:38:10,543 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 08:38:10,562 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 08:38:10,563 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 08:38:10,563 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 08:38:10,563 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 08:38:10,563 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 08:38:10,564 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 08:38:10,564 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 08:38:10,617 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 08:38:10,619 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 08:38:10,619 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 08:38:10,707 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 08:38:10,710 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 08:38:10,711 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 08:38:10,725 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 08:38:10,750 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 08:38:10,751 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 08:38:10,759 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-08 08:38:10,764 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-08 08:38:10,765 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 08:38:10,767 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 08:38:10,777 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-08 08:38:10,781 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 08:38:10,781 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 08:38:17,512 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 1
2025-06-08 08:38:17,515 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-08 08:38:17,520 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 1 (invoiced=False).
2025-06-08 08:38:17,520 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 1
2025-06-08 08:38:19,279 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-08 08:38:19,319 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 08:38:27,795 - INFO - FinancialController - financial_controller:104 - Successfully added 1 charges for horse ID 1.
2025-06-08 08:38:27,805 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 1 (invoiced=False).
2025-06-08 08:38:35,432 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 5.
2025-06-08 08:38:43,543 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-08 08:38:43,579 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 08:39:07,549 - INFO - FinancialController - financial_controller:104 - Successfully added 1 charges for horse ID 1.
2025-06-08 08:39:07,559 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 1 (invoiced=False).
2025-06-08 08:40:56,064 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-08 08:40:56,105 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 08:45:03,857 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 08:45:03,857 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 08:45:03,860 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 08:45:03,860 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 08:45:03,891 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 08:45:03,898 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 08:45:03,899 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 17:33:40,496 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 17:33:40,496 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 17:33:40,496 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 17:33:40,497 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 17:33:40,497 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 17:33:40,497 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 17:33:40,511 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 17:33:40,511 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 17:33:40,539 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 17:33:40,540 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 17:33:40,540 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 17:33:40,731 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 17:33:40,733 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 17:33:40,734 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 17:33:40,734 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 17:33:40,734 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 17:33:40,734 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 17:33:40,748 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 17:33:40,820 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 17:33:42,948 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 17:33:52,200 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 17:33:52,360 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 17:33:52,360 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 17:33:52,362 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 17:33:52,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 17:33:52,373 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 17:33:52,374 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 17:33:52,374 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 17:33:52,374 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 17:33:52,374 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 17:33:52,384 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 17:33:53,704 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 17:33:53,708 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 17:33:53,710 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 17:33:53,714 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 17:33:53,718 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 17:33:53,737 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 17:33:53,737 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 17:33:53,739 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 17:33:53,739 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 17:33:53,739 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 17:33:53,739 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 17:33:53,740 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 17:33:53,794 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 17:33:53,795 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 17:33:53,795 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 17:33:53,864 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 17:33:53,868 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 17:33:53,869 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 17:33:53,885 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 17:33:53,908 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 17:33:53,908 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 17:33:53,917 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-08 17:33:53,923 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-08 17:33:53,926 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 17:33:53,929 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 17:33:53,936 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:33:53,942 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 17:33:53,942 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 17:34:19,074 - INFO - HorseUnifiedManagement - horse_unified_management:1044 - add_new_horse: START
2025-06-08 17:34:19,074 - INFO - BasicInfoTab - basic_info_tab:599 - BasicInfoTab set_new_mode: True
2025-06-08 17:34:19,080 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-08 17:34:39,362 - INFO - HorseUnifiedManagement - horse_unified_management:1139 - save_changes: START
2025-06-08 17:34:39,362 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-08 17:34:39,364 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-08 17:34:39,364 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-08 17:34:39,373 - INFO - HorseController - horse_controller:179 - Horse 'Red Notice' (ID: 3) created successfully by tm.
2025-06-08 17:34:39,373 - INFO - HorseUnifiedManagement - horse_unified_management:1206 - save_changes: Save successful. Message: Horse 'Red Notice' created successfully.
2025-06-08 17:34:39,374 - INFO - HorseUnifiedManagement - base_view:315 - Displaying Info: Success - Horse 'Red Notice' created successfully.
2025-06-08 17:34:40,980 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-08 17:34:40,980 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 17:34:40,982 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 17:34:40,987 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 17:34:40,987 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 3
2025-06-08 17:34:40,989 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-08 17:34:40,992 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:34:40,992 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 3
2025-06-08 17:34:40,992 - INFO - HorseUnifiedManagement - horse_unified_management:1264 - save_changes: FINISHED
2025-06-08 17:34:44,331 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Red Notice
2025-06-08 17:34:47,455 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-08 17:34:52,877 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-08 17:34:54,523 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Red Notice
2025-06-08 17:36:12,562 - INFO - OwnersTab - owners_tab:306 - Dialog OK. Owner: {'farm_name': 'Quail Pond Farms', 'account_number': '329002', 'first_name': 'Patrick', 'last_name': 'Kennedy', 'address_line1': '537 Pestletown Road', 'address_line2': '', 'city': 'Waterford Works', 'state_code': 'NJ', 'zip_code': '08005', 'country_name': 'USA', 'phone': '', 'email': '', 'is_active': True}, Percentage: 100.0
2025-06-08 17:36:12,568 - INFO - OwnerController - owner_controller:335 - Master Owner 'Quail Pond Farms (Patrick Kennedy)' (ID: 3) created by tm.
2025-06-08 17:36:12,577 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 3 by tm.
2025-06-08 17:36:12,577 - INFO - HorseUnifiedManagement - base_view:315 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-08 17:36:14,105 - INFO - HorseUnifiedManagement - horse_unified_management:1100 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-08 17:36:14,105 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 3
2025-06-08 17:36:14,108 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-08 17:36:14,111 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:36:14,111 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 3
2025-06-08 17:36:19,078 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Red Notice
2025-06-08 17:36:19,082 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-08 17:36:22,465 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-08 17:36:23,464 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Red Notice
2025-06-08 17:36:23,468 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-08 17:37:29,970 - INFO - LocationController - location_controller:128 - Location 'Quail Pond Farms' created by tm.
2025-06-08 17:37:29,971 - INFO - HorseUnifiedManagement - base_view:315 - Displaying Info: Success - Location created successfully.
2025-06-08 17:37:31,938 - WARNING - LocationTab - location_tab:255 - AddEditLocationDialog did not return created location details. User may need to assign manually.
2025-06-08 17:37:31,938 - INFO - HorseUnifiedManagement - base_view:315 - Displaying Info: Location Created - New location created. If not automatically assigned, please use 'Assign Existing Location' to link it.
2025-06-08 17:37:38,438 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Red Notice
2025-06-08 17:37:38,441 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-08 17:37:40,770 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 4, Display: Quail Pond Farms (Waterford Works, NJ)
2025-06-08 17:37:42,136 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 4 ('Quail Pond Farms') to Horse ID 3
2025-06-08 17:37:42,144 - INFO - HorseController - horse_controller:613 - Horse ID 3 assigned to location ID 4 by tm.
2025-06-08 17:37:42,144 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 4 to Horse ID 3. Emitting signal.
2025-06-08 17:37:42,144 - INFO - HorseUnifiedManagement - horse_unified_management:896 - Received location_assignment_changed: {'id': 4, 'name': 'Quail Pond Farms'}
2025-06-08 17:37:42,144 - INFO - HorseUnifiedManagement - horse_unified_management:899 - Location changed for horse ID 3. Reloading details.
2025-06-08 17:37:42,145 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 3
2025-06-08 17:37:42,146 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-08 17:37:42,150 - INFO - FinancialController - financial_controller:259 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:37:42,150 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 3
2025-06-08 17:37:42,150 - INFO - HorseUnifiedManagement - base_view:315 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-08 17:37:53,102 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Red Notice
2025-06-08 17:37:53,143 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:39:44,562 - INFO - FinancialController - financial_controller:104 - Successfully added 3 charges for horse ID 3.
2025-06-08 17:39:44,572 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:39:49,757 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 7.
2025-06-08 17:40:01,862 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 8.
2025-06-08 17:40:08,172 - INFO - FinancialController - financial_controller:161 - Transaction ID 8 updated successfully.
2025-06-08 17:40:09,934 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:40:13,079 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 9.
2025-06-08 17:40:22,066 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 7.
2025-06-08 17:40:29,437 - INFO - FinancialController - financial_controller:161 - Transaction ID 7 updated successfully.
2025-06-08 17:40:30,854 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:40:34,010 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 8.
2025-06-08 17:40:46,326 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 17:40:46,328 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 17:40:46,332 - INFO - FinancialController - financial_controller:259 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:40:46,332 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 17:40:51,840 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:40:51,877 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:41:08,370 - INFO - FinancialController - financial_controller:104 - Successfully added 2 charges for horse ID 2.
2025-06-08 17:41:08,379 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:41:20,259 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 17:41:24,576 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 11.
2025-06-08 17:41:32,082 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 3
2025-06-08 17:41:32,083 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-08 17:41:32,087 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-08 17:41:32,088 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 3
2025-06-08 17:41:33,446 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 17:41:33,447 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 17:41:33,451 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:41:33,452 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 17:41:37,738 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:41:37,775 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:42:03,332 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 17:42:36,346 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 17:43:15,909 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:43:15,948 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:43:41,808 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:43:41,846 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:45:28,918 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:45:28,956 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:46:43,506 - INFO - BillingTab - billing_tab:335 - Launching AddChargeDialog for horse: Doroni
2025-06-08 17:46:43,545 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:50:14,052 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 17:50:14,053 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 17:50:14,055 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 17:50:14,055 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 17:50:14,085 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 17:50:14,100 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 17:50:14,100 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 17:50:23,745 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 17:50:23,746 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 17:50:23,747 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 17:50:23,747 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 17:50:23,747 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 17:50:23,747 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 17:50:23,754 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 17:50:23,755 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 17:50:23,757 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 17:50:23,758 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 17:50:23,758 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 17:50:23,937 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 17:50:23,939 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 17:50:23,939 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 17:50:23,940 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 17:50:23,940 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 17:50:23,940 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 17:50:23,945 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 17:50:24,016 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 17:50:25,733 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 17:50:33,241 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 17:50:33,405 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 17:50:33,405 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 17:50:33,407 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 17:50:33,421 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 17:50:33,421 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 17:50:33,422 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 17:50:33,422 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 17:50:33,422 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 17:50:33,422 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 17:50:33,428 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 17:50:33,586 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 17:50:33,590 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 17:50:33,591 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 17:50:33,595 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 17:50:33,600 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 17:50:33,618 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 17:50:33,619 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 17:50:33,620 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 17:50:33,620 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 17:50:33,621 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 17:50:33,621 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 17:50:33,621 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 17:50:33,675 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 17:50:33,676 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 17:50:33,676 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 17:50:33,744 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 17:50:33,747 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 17:50:33,748 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 17:50:33,761 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 17:50:33,782 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 17:50:33,782 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 17:50:33,789 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 17:50:33,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 17:50:33,799 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 17:50:33,802 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 17:50:33,809 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:50:33,813 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 17:50:33,813 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 17:56:41,534 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 17:56:41,534 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 17:56:41,535 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 17:56:41,535 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 17:56:41,535 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 17:56:41,536 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 17:56:41,543 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 17:56:41,543 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 17:56:41,546 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 17:56:41,546 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 17:56:41,546 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 17:56:41,726 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 17:56:41,728 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 17:56:41,729 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 17:56:41,729 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 17:56:41,729 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 17:56:41,730 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 17:56:41,734 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 17:56:41,803 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 17:56:43,628 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 17:56:57,249 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 17:56:57,411 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 17:56:57,411 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 17:56:57,413 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 17:56:57,426 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 17:56:57,426 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 17:56:57,427 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 17:56:57,427 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 17:56:57,428 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 17:56:57,428 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 17:56:57,435 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 17:56:57,585 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 17:56:57,588 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 17:56:57,590 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 17:56:57,594 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 17:56:57,599 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 17:56:57,618 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 17:56:57,619 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 17:56:57,619 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 17:56:57,620 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 17:56:57,620 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 17:56:57,620 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 17:56:57,620 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 17:56:57,674 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 17:56:57,675 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 17:56:57,676 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 17:56:57,743 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 17:56:57,746 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 17:56:57,746 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 17:56:57,762 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 17:56:57,789 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 17:56:57,789 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 17:56:57,798 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 17:56:57,806 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 17:56:57,806 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 17:56:57,809 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 17:56:57,817 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 17:56:57,820 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 17:56:57,821 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 17:57:05,614 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 17:57:05,653 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:57:05,655 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:05,656 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:05,656 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:05,656 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:05,658 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:05,658 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:57:24,712 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 17:57:47,651 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 17:58:40,600 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 17:58:40,639 - INFO - FinancialController - financial_controller:284 - Retrieved 7 charge codes for lookup.
2025-06-08 17:58:40,641 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 17:58:40,641 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:58:40,642 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 17:58:40,642 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:58:40,643 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 17:58:40,644 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:385 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:00:09,750 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 18:10:14,568 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:10:14,569 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:10:14,569 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:10:14,569 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:10:14,570 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:10:14,570 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:10:14,578 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:10:14,578 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:10:14,580 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:10:14,581 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:10:14,581 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:10:14,762 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:10:14,764 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:10:14,764 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:10:14,764 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:10:14,764 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:10:14,765 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:10:14,769 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:10:14,837 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:10:24,526 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:10:34,747 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:10:34,911 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:10:34,911 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:10:34,913 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:10:34,924 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:10:34,924 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:10:34,924 - INFO - HorseUnifiedManagement - base_view:75 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:10:34,925 - INFO - HorseUnifiedManagement - base_view:79 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:10:34,925 - INFO - HorseUnifiedManagement - base_view:84 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:10:34,925 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:10:34,931 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:10:35,089 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:10:35,093 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:10:35,095 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:10:35,099 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:10:35,104 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:10:35,123 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:10:35,124 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:10:35,125 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:10:35,125 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:10:35,125 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:10:35,125 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:10:35,125 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:10:35,179 - INFO - HorseUnifiedManagement - base_view:296 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:10:35,180 - INFO - HorseUnifiedManagement - base_view:120 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:10:35,180 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:10:35,250 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:10:35,254 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:10:35,254 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:10:35,268 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:10:35,294 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:10:35,296 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:10:35,305 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:10:35,312 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:10:35,313 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:10:35,316 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:10:35,327 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:10:35,331 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:10:35,331 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:10:41,467 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:10:41,508 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:41,508 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:41,510 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:41,510 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:41,512 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:41,513 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:10:51,337 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 10.
2025-06-08 18:11:51,500 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:11:51,539 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:11:51,539 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:11:51,542 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:11:51,542 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:11:51,544 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:11:51,544 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:17:21,426 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:17:21,426 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:17:21,427 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:17:21,427 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:17:21,427 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:17:21,428 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:17:21,435 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:17:21,435 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:17:21,438 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:17:21,438 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:17:21,438 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:17:21,619 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:17:21,621 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:17:21,621 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:17:21,622 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:17:21,622 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:17:21,622 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:17:21,627 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:17:21,691 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:17:23,340 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:17:40,342 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:17:40,504 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:17:40,504 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:17:40,506 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:17:40,518 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:17:40,518 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:17:40,518 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:17:40,519 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:17:40,519 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:17:40,519 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:17:40,525 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:17:40,694 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:17:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:17:40,699 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:17:40,703 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:17:40,708 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:17:40,727 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:17:40,728 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:17:40,728 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:17:40,729 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:17:40,729 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:17:40,729 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:17:40,729 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:17:40,783 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:17:40,783 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:17:40,784 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:17:40,853 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:17:40,856 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:17:40,856 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:17:40,874 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:17:40,901 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:17:40,901 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:17:40,910 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:17:40,920 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:17:40,921 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:17:40,923 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:17:40,932 - INFO - FinancialController - financial_controller:259 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:17:40,936 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:17:40,936 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:17:52,862 - INFO - FinancialController - financial_controller:199 - Transaction ID 10 deleted successfully.
2025-06-08 18:17:52,863 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:18:00,734 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:18:00,773 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:18:00,774 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:20:11,739 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 18:20:11,740 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 18:20:11,742 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 18:20:11,742 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 18:20:11,768 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 18:20:11,771 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 18:20:11,776 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 18:20:16,000 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:20:16,001 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:20:16,001 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:20:16,001 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:20:16,001 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:20:16,002 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:20:16,009 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:20:16,009 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:20:16,012 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:20:16,013 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:20:16,013 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:20:16,195 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:20:16,196 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:20:16,197 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:20:16,197 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:20:16,197 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:20:16,197 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:20:16,202 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:20:16,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:20:17,346 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:20:24,490 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:20:24,653 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:20:24,653 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:20:24,656 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:20:24,670 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:20:24,670 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:20:24,670 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:20:24,671 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:20:24,671 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:20:24,671 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:20:24,677 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:20:24,838 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:20:24,841 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:20:24,843 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:20:24,847 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:20:24,852 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:20:24,872 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:20:24,872 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:20:24,874 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:20:24,875 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:20:24,876 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:20:24,876 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:20:24,876 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:20:24,931 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:20:24,932 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:20:24,932 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:20:25,003 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:20:25,006 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:20:25,007 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:20:25,023 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:20:25,050 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:20:25,051 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:20:25,060 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:20:25,068 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:20:25,069 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:20:25,071 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:20:25,081 - INFO - FinancialController - financial_controller:259 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:20:25,085 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:20:25,085 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:20:37,428 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:20:37,465 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:20:37,466 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:20:52,777 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 11.
2025-06-08 18:20:52,799 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <Transaction at 0x22c1e740710> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 380, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 74, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 211, in _populate_form
    if self.transaction.charge_code:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Transaction at 0x22c1e740710> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 380, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 74, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 211, in _populate_form
    if self.transaction.charge_code:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Transaction at 0x22c1e740710> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-08 18:20:57,483 - INFO - FinancialController - financial_controller:222 - Retrieved transaction ID 4.
2025-06-08 18:20:57,487 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <Transaction at 0x22c1e7bf850> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 380, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 74, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 211, in _populate_form
    if self.transaction.charge_code:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Transaction at 0x22c1e7bf850> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 380, in _edit_selected_charge
    dialog = EditChargeDialog(
             ^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 74, in __init__
    self._populate_form()
  File "C:\Projects\EDMS\views\horse\dialogs\edit_charge_dialog.py", line 211, in _populate_form
    if self.transaction.charge_code:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Transaction at 0x22c1e7bf850> is not bound to a Session; lazy load operation of attribute 'charge_code' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-08 18:26:58,943 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:26:58,943 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:26:58,943 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:26:58,944 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:26:58,944 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:26:58,944 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:26:58,951 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:26:58,951 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:26:58,954 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:26:58,955 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:26:58,955 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:26:59,133 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:26:59,135 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:26:59,135 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:26:59,135 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:26:59,135 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:26:59,136 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:26:59,140 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:26:59,205 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:27:00,852 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:27:08,285 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:27:08,448 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:27:08,448 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:27:08,449 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:27:08,462 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:27:08,463 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:27:08,463 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:27:08,463 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:27:08,464 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:27:08,464 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:27:08,470 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:27:08,629 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:27:08,633 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:27:08,635 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:27:08,639 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:27:08,643 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:27:08,664 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:27:08,664 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:27:08,666 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:27:08,666 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:27:08,666 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:27:08,666 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:27:08,666 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:27:08,722 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:27:08,724 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:27:08,724 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:27:08,794 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:27:08,798 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:27:08,799 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:27:08,814 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:27:08,844 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:27:08,845 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:27:08,854 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:27:08,862 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:27:08,862 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:27:08,865 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:27:08,874 - INFO - FinancialController - financial_controller:255 - Retrieved 2 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:27:08,878 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:27:08,878 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:27:14,808 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 11 with its charge code.
2025-06-08 18:27:30,096 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:27:30,134 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:27:30,135 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:27:38,249 - INFO - FinancialController - financial_controller:192 - Transaction ID 11 deleted successfully.
2025-06-08 18:27:38,250 - INFO - FinancialController - financial_controller:255 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:27:49,415 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 4 with its charge code.
2025-06-08 18:35:55,737 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:35:55,737 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:35:55,738 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:35:55,738 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:35:55,738 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:35:55,739 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:35:55,746 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:35:55,747 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:35:55,750 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:35:55,750 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:35:55,750 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:35:55,929 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:35:55,931 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:35:55,931 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:35:55,931 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:35:55,932 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:35:55,932 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:35:55,936 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:35:56,008 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:35:57,523 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:36:04,697 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:36:04,859 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:36:04,859 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:36:04,861 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:36:04,873 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:36:04,874 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:36:04,874 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:36:04,875 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:36:04,875 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:36:04,875 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:36:04,880 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:36:05,040 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:36:05,044 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:36:05,045 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:36:05,049 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:36:05,054 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:36:05,075 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:36:05,075 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:36:05,076 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:36:05,076 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:36:05,077 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:36:05,077 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:36:05,077 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:36:05,135 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:36:05,136 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:36:05,137 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:36:05,211 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:36:05,215 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:36:05,216 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:36:05,231 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:36:05,256 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:36:05,256 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:36:05,265 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:36:05,272 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:36:05,273 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:36:05,276 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:36:05,284 - INFO - FinancialController - financial_controller:255 - Retrieved 1 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:36:05,288 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:36:05,288 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:37:23,278 - INFO - BillingTab - billing_tab:321 - Launching AddChargeDialog for horse: Doroni
2025-06-08 18:37:23,318 - INFO - FinancialController - financial_controller:280 - Retrieved 7 charge codes for lookup.
2025-06-08 18:37:56,460 - INFO - FinancialController - financial_controller:97 - Successfully added 2 charges for horse ID 2.
2025-06-08 18:37:56,471 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:37:59,740 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:37:59,780 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:37:59,780 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:37:59,782 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:37:59,783 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:37:59,784 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:37:59,784 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:38:16,058 - INFO - FinancialController - financial_controller:154 - Transaction ID 10 updated successfully.
2025-06-08 18:38:16,059 - INFO - FinancialController - financial_controller:154 - Transaction ID 11 updated successfully.
2025-06-08 18:38:16,064 - INFO - FinancialController - financial_controller:154 - Transaction ID 4 updated successfully.
2025-06-08 18:38:18,464 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:41:33,650 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 18:41:33,650 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 18:41:33,653 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 18:41:33,653 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 18:41:33,676 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 18:41:33,680 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 18:41:33,687 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 18:41:38,510 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:41:38,510 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:41:38,511 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:41:38,511 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:41:38,511 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:41:38,511 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:41:38,519 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:41:38,519 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:41:38,522 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:41:38,523 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:41:38,523 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:41:38,707 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:41:38,709 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:41:38,709 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:41:38,709 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:41:38,709 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:41:38,710 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:41:38,714 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:41:38,781 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:41:40,748 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:41:48,456 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:41:48,618 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:41:48,619 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:41:48,621 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:41:48,633 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:41:48,634 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:41:48,634 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:41:48,634 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:41:48,635 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:41:48,635 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:41:48,641 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:41:48,805 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:41:48,808 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:41:48,810 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:41:48,814 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:41:48,818 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:41:48,838 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:41:48,839 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:41:48,839 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:41:48,839 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:41:48,839 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:41:48,840 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:41:48,840 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:41:48,893 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:41:48,894 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:41:48,894 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:41:48,961 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:41:48,963 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:41:48,964 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:41:48,976 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:41:48,998 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:41:48,999 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:41:49,007 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:41:49,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:41:49,016 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:41:49,019 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:41:49,026 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:41:49,030 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:41:49,031 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:41:59,121 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:41:59,157 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:41:59,158 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:41:59,160 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:41:59,160 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:41:59,162 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:41:59,162 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:42:10,390 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 10 with its charge code.
2025-06-08 18:49:37,710 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 18:49:37,711 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 18:49:37,714 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 18:49:37,715 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 18:49:37,726 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 18:49:37,729 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 18:49:37,729 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 18:49:52,682 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 18:49:52,683 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 18:49:52,684 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 18:49:52,684 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 18:49:52,684 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 18:49:52,684 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 18:49:52,692 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 18:49:52,693 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 18:49:52,695 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 18:49:52,696 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 18:49:52,696 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 18:49:52,876 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 18:49:52,878 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 18:49:52,878 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 18:49:52,878 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 18:49:52,878 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 18:49:52,879 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 18:49:52,883 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 18:49:52,949 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 18:49:55,398 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 18:50:03,290 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 18:50:03,451 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 18:50:03,451 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 18:50:03,453 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 18:50:03,465 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 18:50:03,466 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 18:50:03,466 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 18:50:03,466 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 18:50:03,467 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 18:50:03,467 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 18:50:03,475 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 18:50:03,629 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 18:50:03,632 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 18:50:03,634 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 18:50:03,638 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 18:50:03,644 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 18:50:03,664 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 18:50:03,665 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 18:50:03,666 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 18:50:03,667 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 18:50:03,667 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 18:50:03,667 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 18:50:03,668 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 18:50:03,726 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 18:50:03,727 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 18:50:03,727 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 18:50:03,794 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 18:50:03,798 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 18:50:03,798 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 18:50:03,811 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 18:50:03,835 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 18:50:03,835 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 18:50:03,843 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 18:50:03,850 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 18:50:03,850 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 18:50:03,853 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 18:50:03,860 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 18:50:03,864 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 18:50:03,865 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 18:50:23,376 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 18:50:23,416 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:50:23,416 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:50:23,418 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 18:50:23,418 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:50:23,420 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 18:50:23,420 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,029 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 19:01:56,069 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,070 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,072 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,073 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,074 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:01:56,075 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:13:00,667 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 19:13:00,668 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 19:13:00,668 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 19:13:00,668 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 19:13:00,668 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 19:13:00,668 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 19:13:00,676 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 19:13:00,676 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 19:13:00,678 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 19:13:00,679 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 19:13:00,679 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 19:13:00,857 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 19:13:00,859 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 19:13:00,859 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 19:13:00,860 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 19:13:00,860 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 19:13:00,860 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 19:13:00,864 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 19:13:00,935 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 19:13:02,562 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 19:13:10,362 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 19:13:10,522 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 19:13:10,522 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 19:13:10,524 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 19:13:10,538 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 19:13:10,538 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 19:13:10,538 - INFO - HorseUnifiedManagement - base_view:62 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 19:13:10,539 - INFO - HorseUnifiedManagement - base_view:66 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 19:13:10,539 - INFO - HorseUnifiedManagement - base_view:71 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 19:13:10,540 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 19:13:10,545 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 19:13:10,711 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 19:13:10,714 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 19:13:10,716 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 19:13:10,720 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 19:13:10,725 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 19:13:10,746 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 19:13:10,746 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 19:13:10,747 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 19:13:10,748 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 19:13:10,748 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 19:13:10,748 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 19:13:10,748 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 19:13:10,804 - INFO - HorseUnifiedManagement - base_view:293 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 19:13:10,805 - INFO - HorseUnifiedManagement - base_view:107 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 19:13:10,806 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 19:13:10,873 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 19:13:10,876 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 19:13:10,877 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 19:13:10,892 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 19:13:10,926 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 19:13:10,927 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 19:13:10,936 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 19:13:10,943 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 19:13:10,943 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 19:13:10,946 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 19:13:10,954 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 19:13:10,959 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 19:13:10,959 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 19:14:18,454 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-08 19:14:26,843 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-08 19:15:33,851 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-08 19:15:33,852 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-08 19:15:33,854 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-08 19:15:33,854 - INFO - UserManagementScreen - base_view:62 - BaseView __init__ for UserManagementScreen started.
2025-06-08 19:15:33,855 - INFO - UserManagementScreen - base_view:66 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-08 19:15:33,855 - INFO - UserManagementScreen - base_view:71 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-08 19:15:33,855 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-08 19:15:33,902 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-08 19:15:33,905 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-08 19:15:33,905 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-08 19:15:33,991 - INFO - UserManagementScreen - base_view:293 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-08 19:15:33,992 - INFO - UserManagementScreen - base_view:102 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-08 19:15:33,993 - INFO - UserManagementScreen - base_view:305 - Status update: Ready
2025-06-08 19:15:33,993 - INFO - UserManagementScreen - base_view:107 - BaseView __init__ for UserManagementScreen finished.
2025-06-08 19:15:33,993 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-08 19:15:34,034 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-08 19:15:36,552 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-08 19:15:36,552 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-08 19:15:36,561 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 4 locations.
2025-06-08 19:15:41,548 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-08 19:15:53,600 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-08 19:16:38,979 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-08 19:16:38,979 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-08 19:16:38,982 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-08 19:16:38,982 - INFO - UserManagementScreen - base_view:62 - BaseView __init__ for UserManagementScreen started.
2025-06-08 19:16:38,982 - INFO - UserManagementScreen - base_view:66 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-08 19:16:38,983 - INFO - UserManagementScreen - base_view:71 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-08 19:16:38,983 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-08 19:16:39,029 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-08 19:16:39,030 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-08 19:16:39,030 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-08 19:16:39,120 - INFO - UserManagementScreen - base_view:293 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-08 19:16:39,122 - INFO - UserManagementScreen - base_view:102 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-08 19:16:39,122 - INFO - UserManagementScreen - base_view:305 - Status update: Ready
2025-06-08 19:16:39,122 - INFO - UserManagementScreen - base_view:107 - BaseView __init__ for UserManagementScreen finished.
2025-06-08 19:16:39,123 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-08 19:16:39,159 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-08 19:16:42,119 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: tm
2025-06-08 19:17:20,010 - INFO - UserManagementScreen - user_management_screen:434 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-08 19:17:20,010 - INFO - UserManagementScreen - user_management_screen:772 - Loading locations data for tab...
2025-06-08 19:17:20,013 - INFO - UserManagementScreen - user_management_screen:823 - Loaded 4 locations.
2025-06-08 19:17:22,780 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-08 19:20:08,819 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-08 19:20:11,553 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 19:20:11,554 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 19:20:11,556 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 19:20:11,556 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 19:20:11,565 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 19:20:11,568 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 19:20:11,570 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 19:56:45,101 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 19:56:45,101 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 19:56:45,101 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 19:56:45,102 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 19:56:45,102 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 19:56:45,102 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 19:56:45,116 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 19:56:45,116 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 19:56:45,145 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 19:56:45,146 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 19:56:45,146 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 19:56:45,337 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 19:56:45,339 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 19:56:45,339 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 19:56:45,339 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 19:56:45,339 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 19:56:45,340 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 19:56:45,352 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 19:56:45,426 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 19:56:46,957 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 19:56:54,924 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 19:56:55,088 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 19:56:55,088 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 19:56:55,090 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 19:56:55,106 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 19:56:55,107 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 19:56:55,108 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 19:56:55,108 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 19:56:55,108 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 19:56:55,109 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 19:56:55,119 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 19:56:56,415 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 19:56:56,419 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 19:56:56,421 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 19:56:56,425 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 19:56:56,431 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 19:56:56,452 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 19:56:56,453 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 19:56:56,454 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 19:56:56,454 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 19:56:56,454 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 19:56:56,454 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 19:56:56,454 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 19:56:56,508 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 19:56:56,510 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 19:56:56,510 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 19:56:56,585 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 19:56:56,590 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 19:56:56,590 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 19:56:56,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 19:56:56,628 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 19:56:56,628 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 19:56:56,636 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 19:56:56,644 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 19:56:56,645 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 19:56:56,650 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 19:56:56,658 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 19:56:56,662 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 19:56:56,662 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 19:57:01,674 - INFO - BillingTab - billing_tab:345 - Launching EditAllChargesDialog for horse: Doroni
2025-06-08 19:57:01,714 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 19:57:01,714 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:57:01,715 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 1: 'NoneType' object has no attribute 'value'
2025-06-08 19:57:01,716 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:57:01,718 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 19:57:01,718 - WARNING - EditAllChargesDialog - edit_all_charges_dialog:389 - Could not calculate total for row 2: 'NoneType' object has no attribute 'value'
2025-06-08 20:06:00,076 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:06:00,076 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:06:00,077 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:06:00,077 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:06:00,077 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:06:00,077 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:06:00,085 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:06:00,085 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:06:00,088 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:06:00,089 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:06:00,089 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:06:00,273 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:06:00,274 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:06:00,275 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:06:00,275 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:06:00,275 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:06:00,276 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:06:00,280 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:06:00,356 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:06:02,811 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 20:06:23,003 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 20:06:23,165 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 20:06:23,165 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 20:06:23,167 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 20:06:23,181 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 20:06:23,181 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 20:06:23,182 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 20:06:23,182 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 20:06:23,182 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 20:06:23,183 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 20:06:23,188 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 20:06:23,356 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 20:06:23,360 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 20:06:23,362 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 20:06:23,367 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 20:06:23,372 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 20:06:23,393 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 20:06:23,393 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 20:06:23,394 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 20:06:23,395 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 20:06:23,395 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 20:06:23,395 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 20:06:23,395 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 20:06:23,450 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 20:06:23,452 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 20:06:23,452 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 20:06:23,524 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 20:06:23,528 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 20:06:23,528 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 20:06:23,540 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 20:06:23,567 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 20:06:23,567 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 20:06:23,575 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 20:06:23,582 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 20:06:23,583 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:06:23,586 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:06:23,593 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:06:23,598 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:06:23,598 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 20:10:02,157 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 20:10:02,157 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 20:10:02,160 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 20:10:02,160 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 20:10:02,187 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 20:10:02,191 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 20:10:02,198 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 20:10:07,493 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:10:07,493 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:10:07,494 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:10:07,494 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:10:07,494 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:10:07,494 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:10:07,502 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:10:07,502 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:10:07,505 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:10:07,506 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:10:07,506 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:10:07,690 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:10:07,692 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:10:07,692 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:10:07,692 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:10:07,692 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:10:07,693 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:10:07,697 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:10:07,764 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:10:09,512 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 20:10:22,325 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 20:10:22,488 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 20:10:22,488 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 20:10:22,490 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 20:10:22,503 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 20:10:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 20:10:22,504 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 20:10:22,504 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 20:10:22,505 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 20:10:22,505 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 20:10:22,512 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 20:10:22,663 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 20:10:22,666 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 20:10:22,667 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 20:10:22,672 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 20:10:22,677 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 20:10:22,697 - INFO - HorseUnifiedManagement - horse_unified_management:1707 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 20:10:22,697 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting BasicInfoTab signals.
2025-06-08 20:10:22,697 - INFO - HorseUnifiedManagement - horse_unified_management:1746 - Connecting OwnersTab signals.
2025-06-08 20:10:22,698 - INFO - HorseUnifiedManagement - horse_unified_management:1754 - Connecting LocationTab signals.
2025-06-08 20:10:22,698 - INFO - HorseUnifiedManagement - horse_unified_management:1762 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 20:10:22,698 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 20:10:22,698 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 20:10:22,747 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 20:10:22,748 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 20:10:22,748 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 20:10:22,817 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 20:10:22,819 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 20:10:22,819 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 20:10:22,832 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 20:10:22,857 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 20:10:22,857 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 20:10:22,864 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 20:10:22,871 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 20:10:22,872 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:10:22,874 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:10:22,882 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:10:22,886 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:10:22,886 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 20:10:27,053 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete - Are you sure you want to delete this charge?

- Radiograph Left Hind Fetlock
2025-06-08 20:25:45,034 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-08 20:25:45,040 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-08 20:25:46,570 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 4, Display: Quail Pond Farms (Waterford Works, NJ)
2025-06-08 20:25:47,594 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 4 ('Quail Pond Farms') to Horse ID 2
2025-06-08 20:25:47,605 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 4 by tm.
2025-06-08 20:25:47,605 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 4 to Horse ID 2. Emitting signal.
2025-06-08 20:25:47,606 - INFO - HorseUnifiedManagement - horse_unified_management:896 - Received location_assignment_changed: {'id': 4, 'name': 'Quail Pond Farms'}
2025-06-08 20:25:47,606 - INFO - HorseUnifiedManagement - horse_unified_management:899 - Location changed for horse ID 2. Reloading details.
2025-06-08 20:25:47,607 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:25:47,608 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:25:47,612 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:25:47,612 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:25:47,613 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-08 20:36:50,273 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:36:50,273 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:36:50,274 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:36:50,274 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:36:50,275 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:36:50,275 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:36:50,282 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:36:50,282 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:36:50,285 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:36:50,286 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:36:50,286 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:36:50,465 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:36:50,467 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:36:50,467 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:36:50,467 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:36:50,467 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:36:50,468 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:36:50,472 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:36:50,546 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:36:52,246 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 20:37:02,891 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'TM', password_attempt (first 3 chars): '123...'
2025-06-08 20:37:03,053 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 20:37:03,053 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 20:37:03,055 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 20:37:03,067 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 20:37:03,067 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 20:37:03,067 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 20:37:03,067 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 20:37:03,068 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 20:37:03,068 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 20:37:03,075 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 20:37:03,246 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 20:37:03,249 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 20:37:03,251 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 20:37:03,255 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 20:37:03,260 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 20:37:03,281 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 20:37:03,282 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 20:37:03,282 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 20:37:03,282 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 20:37:03,282 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 20:37:03,283 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 20:37:03,283 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 20:37:03,333 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 20:37:03,334 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 20:37:03,334 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 20:37:03,409 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 20:37:03,412 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 20:37:03,412 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 20:37:03,427 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 20:37:03,463 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 20:37:03,464 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 20:37:03,473 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 20:37:03,480 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 20:37:03,480 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:37:03,483 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:37:03,492 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:37:03,496 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:37:03,497 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 20:37:08,754 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 1
2025-06-08 20:37:08,756 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-08 20:37:08,761 - INFO - FinancialController - financial_controller:255 - Retrieved 2 transactions for horse ID 1 (invoiced=False).
2025-06-08 20:37:08,761 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 1
2025-06-08 20:37:10,975 - INFO - HorseUnifiedManagement - horse_unified_management:1107 - handle_toggle_active_status_from_tab: Requested: False
2025-06-08 20:37:10,975 - INFO - HorseUnifiedManagement - horse_unified_management:1598 - handle_toggle_active_status: Received request.
2025-06-08 20:37:10,977 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Deactivate - Are you sure you want to deactivate horse 'Soul Rebel'?
2025-06-08 20:37:14,578 - INFO - HorseUnifiedManagement - horse_unified_management:1642 - handle_toggle_active_status: User cancelled.
2025-06-08 20:37:22,762 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:37:22,763 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:37:22,767 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:37:22,767 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:45:46,097 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:45:46,097 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:45:46,099 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:45:46,099 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:45:46,099 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:45:46,099 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:45:46,107 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:45:46,107 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:45:46,110 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:45:46,110 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:45:46,111 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:45:46,292 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:45:46,294 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:45:46,294 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:45:46,295 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:45:46,295 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:45:46,295 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:45:46,300 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:45:46,367 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:45:48,384 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 20:45:58,987 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 20:45:59,148 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 20:45:59,148 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 20:45:59,150 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 20:45:59,165 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 20:45:59,165 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 20:45:59,166 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 20:45:59,166 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 20:45:59,166 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 20:45:59,167 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 20:45:59,174 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 20:45:59,341 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 20:45:59,345 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 20:45:59,347 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 20:45:59,351 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 20:45:59,356 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 20:45:59,375 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 20:45:59,376 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 20:45:59,377 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 20:45:59,377 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 20:45:59,377 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 20:45:59,377 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 20:45:59,377 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 20:45:59,431 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 20:45:59,433 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 20:45:59,433 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 20:45:59,501 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 20:45:59,504 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 20:45:59,504 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 20:45:59,511 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 20:45:59,541 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 20:45:59,542 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 20:45:59,550 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 20:45:59,557 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 20:45:59,557 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:45:59,561 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:45:59,567 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:45:59,571 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:45:59,571 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 20:48:52,912 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 10 with its charge code.
2025-06-08 20:48:59,002 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 1
2025-06-08 20:48:59,004 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-08 20:48:59,008 - INFO - FinancialController - financial_controller:255 - Retrieved 2 transactions for horse ID 1 (invoiced=False).
2025-06-08 20:48:59,008 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 1
2025-06-08 20:49:36,419 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:49:36,420 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:49:36,420 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:49:36,420 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:49:36,421 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:49:36,421 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:49:36,428 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:49:36,428 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:49:36,430 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:49:36,431 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:49:36,431 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:49:36,612 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:49:36,614 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:49:36,614 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:49:36,614 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:49:36,614 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:49:36,615 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:49:36,620 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:49:36,689 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:49:40,931 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 20:49:40,943 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 20:49:40,943 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 20:52:47,551 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 20:52:47,552 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 20:52:47,552 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 20:52:47,552 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 20:52:47,552 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 20:52:47,553 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 20:52:47,560 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 20:52:47,560 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 20:52:47,563 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 20:52:47,564 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 20:52:47,564 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 20:52:47,746 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 20:52:47,748 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 20:52:47,748 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 20:52:47,749 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 20:52:47,749 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 20:52:47,749 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 20:52:47,754 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 20:52:47,824 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 20:52:49,111 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 20:53:03,340 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-08 20:53:03,502 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-08 20:53:03,502 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-08 20:53:03,504 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-08 20:53:03,517 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-08 20:53:03,517 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-08 20:53:03,517 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 20:53:03,517 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 20:53:03,518 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 20:53:03,518 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 20:53:03,525 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 20:53:03,684 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 20:53:03,688 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 20:53:03,689 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 20:53:03,694 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 20:53:03,699 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 20:53:03,718 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 20:53:03,718 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 20:53:03,719 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 20:53:03,719 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 20:53:03,719 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 20:53:03,719 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 20:53:03,720 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 20:53:03,771 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 20:53:03,772 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 20:53:03,772 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 20:53:03,842 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 20:53:03,846 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 20:53:03,846 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 20:53:03,860 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 20:53:03,888 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 20:53:03,888 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 20:53:03,897 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 20:53:03,905 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 20:53:03,906 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 20:53:03,909 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 20:53:03,919 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 20:53:03,923 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 20:53:03,924 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:01:41,565 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 21:01:41,566 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 21:01:41,566 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 21:01:41,567 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 21:01:41,567 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 21:01:41,567 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 21:01:41,574 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 21:01:41,575 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 21:01:41,577 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 21:01:41,578 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 21:01:41,578 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 21:01:41,757 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 21:01:41,759 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 21:01:41,759 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 21:01:41,759 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 21:01:41,760 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 21:01:41,760 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 21:01:41,764 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 21:01:41,839 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 21:01:43,762 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 21:01:51,121 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 21:01:51,283 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 21:01:51,283 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 21:01:51,285 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 21:01:51,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 21:01:51,299 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 21:01:51,300 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 21:01:51,300 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 21:01:51,300 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 21:01:51,301 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 21:01:51,306 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 21:01:51,469 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 21:01:51,473 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 21:01:51,474 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 21:01:51,475 - ERROR - HorseUnifiedManagement - horse_unified_management:869 - ERROR BillingTab: name 'QLabel' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 863, in setup_horse_tabs
    self.billing_tab = BillingTab(
                       ^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 68, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 145, in _setup_ui
    self.title_label = QLabel("Un-invoiced Charges")
                       ^^^^^^
NameError: name 'QLabel' is not defined
2025-06-08 21:01:51,480 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 21:01:51,495 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 21:01:51,495 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 21:01:51,496 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 21:01:51,496 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 21:01:51,496 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 21:01:51,496 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 21:01:51,537 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 21:01:51,539 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 21:01:51,539 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 21:01:51,613 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 21:01:51,617 - WARNING - HorseUnifiedManagement - horse_unified_management:358 - display_empty_state: BillingTab is None or missing set_current_horse method.
2025-06-08 21:01:51,617 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 21:01:51,618 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 21:01:51,638 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 21:01:51,662 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 21:01:51,662 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 21:01:51,671 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 21:01:51,679 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 21:01:51,681 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 21:01:51,683 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 21:01:51,690 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 21:01:51,691 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:03:21,236 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 21:03:21,237 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 21:03:21,239 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 21:03:21,239 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 21:03:21,256 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 21:03:21,259 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 21:03:21,260 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 21:03:40,170 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 21:03:40,170 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 21:03:40,171 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 21:03:40,171 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 21:03:40,171 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 21:03:40,171 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 21:03:40,178 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 21:03:40,178 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 21:03:40,181 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 21:03:40,181 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 21:03:40,181 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 21:03:40,364 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 21:03:40,366 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 21:03:40,366 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 21:03:40,366 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 21:03:40,366 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 21:03:40,367 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 21:03:40,371 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 21:03:40,439 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 21:03:42,048 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 21:03:49,421 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 21:03:49,583 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 21:03:49,583 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 21:03:49,585 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 21:03:49,598 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 21:03:49,598 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 21:03:49,598 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 21:03:49,599 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 21:03:49,599 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 21:03:49,601 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 21:03:49,610 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 21:03:49,777 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 21:03:49,781 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 21:03:49,783 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 21:03:49,784 - ERROR - HorseUnifiedManagement - horse_unified_management:869 - ERROR BillingTab: name 'QLabel' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 863, in setup_horse_tabs
    self.billing_tab = BillingTab(
                       ^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 68, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 145, in _setup_ui
    self.title_label = QLabel("Un-invoiced Charges")
                       ^^^^^^
NameError: name 'QLabel' is not defined
2025-06-08 21:03:49,788 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 21:03:49,807 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 21:03:49,807 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 21:03:49,808 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 21:03:49,809 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 21:03:49,809 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 21:03:49,809 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 21:03:49,852 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 21:03:49,854 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 21:03:49,854 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 21:03:49,927 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 21:03:49,930 - WARNING - HorseUnifiedManagement - horse_unified_management:358 - display_empty_state: BillingTab is None or missing set_current_horse method.
2025-06-08 21:03:49,930 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 21:03:49,931 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 21:03:49,947 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 21:03:49,971 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 21:03:49,971 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 21:03:49,980 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 21:03:49,989 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 21:03:49,990 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 21:03:49,993 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 21:03:50,000 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 21:03:50,000 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:12:55,597 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 21:12:55,597 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 21:12:55,598 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 21:12:55,598 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 21:12:55,598 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 21:12:55,598 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 21:12:55,606 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 21:12:55,606 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 21:12:55,609 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-08 21:12:55,610 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 21:12:55,610 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 21:12:55,789 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 21:12:55,790 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 21:12:55,791 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 21:12:55,791 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 21:12:55,791 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 21:12:55,792 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 21:12:55,796 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 21:12:55,864 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 21:12:57,722 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 21:13:05,969 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 21:13:06,131 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 21:13:06,132 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 21:13:06,133 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 21:13:06,147 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 21:13:06,147 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 21:13:06,148 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 21:13:06,148 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 21:13:06,148 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 21:13:06,149 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 21:13:06,154 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 21:13:06,312 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 21:13:06,316 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 21:13:06,318 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 21:13:06,322 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 21:13:06,328 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 21:13:06,349 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 21:13:06,349 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 21:13:06,350 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 21:13:06,351 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 21:13:06,351 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 21:13:06,351 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 21:13:06,351 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 21:13:06,404 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 21:13:06,406 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 21:13:06,406 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 21:13:06,477 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 21:13:06,480 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 21:13:06,481 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 21:13:06,496 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 21:13:06,520 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 21:13:06,521 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 21:13:06,530 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 21:13:06,537 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 21:13:06,537 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 21:13:06,541 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 21:13:06,551 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 21:13:06,556 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 21:13:06,556 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:13:10,089 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 10 with its charge code.
2025-06-08 21:13:16,019 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 4 with its charge code.
2025-06-08 21:25:17,379 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-08 21:25:17,379 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-08 21:25:17,383 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-08 21:25:17,384 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-08 21:25:17,397 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-08 21:25:17,400 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-08 21:25:17,401 - INFO - root - main:372 - Application exiting with code 0
2025-06-08 21:39:15,046 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 21:39:15,046 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 21:39:15,047 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 21:39:15,047 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 21:39:15,047 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 21:39:15,048 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 21:39:15,055 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 21:39:15,055 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 21:39:15,062 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-08 21:39:15,062 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 21:39:15,062 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 21:39:15,241 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 21:39:15,243 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 21:39:15,243 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 21:39:15,244 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 21:39:15,244 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 21:39:15,244 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 21:39:15,249 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 21:39:15,320 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 21:39:16,836 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 21:39:24,819 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 21:39:24,980 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 21:39:24,980 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 21:39:24,982 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 21:39:24,997 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 21:39:24,997 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 21:39:24,998 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 21:39:24,998 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 21:39:24,998 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 21:39:24,998 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 21:39:25,005 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 21:39:25,166 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 21:39:25,170 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 21:39:25,171 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 21:39:25,175 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 21:39:25,180 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 21:39:25,201 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 21:39:25,202 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 21:39:25,203 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 21:39:25,203 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 21:39:25,203 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 21:39:25,203 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 21:39:25,204 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 21:39:25,257 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 21:39:25,259 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 21:39:25,259 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 21:39:25,331 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 21:39:25,335 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 21:39:25,335 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 21:39:25,350 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 21:39:25,379 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 21:39:25,379 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 21:39:25,388 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 21:39:25,396 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 21:39:25,397 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 21:39:25,400 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 21:39:25,409 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 21:39:25,413 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 21:39:25,414 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:39:27,407 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-08 21:39:27,407 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-08 21:39:27,411 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-08 21:39:27,411 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-08 21:39:27,411 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-08 21:39:27,413 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_get_tab_widget_style'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 50, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 60, in setup_ui
    self.tab_widget.setStyleSheet(self._get_tab_widget_style())
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_get_tab_widget_style'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 50, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 60, in setup_ui
    self.tab_widget.setStyleSheet(self._get_tab_widget_style())
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_get_tab_widget_style'
2025-06-08 21:48:09,109 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-08 21:48:09,109 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-08 21:48:09,110 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-08 21:48:09,110 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-08 21:48:09,110 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-08 21:48:09,110 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-08 21:48:09,117 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-08 21:48:09,118 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-08 21:48:09,121 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-08 21:48:09,122 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-08 21:48:09,122 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-08 21:48:09,302 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-08 21:48:09,304 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-08 21:48:09,304 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-08 21:48:09,304 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-08 21:48:09,304 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-08 21:48:09,305 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-08 21:48:09,309 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-08 21:48:09,377 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-08 21:48:11,203 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-08 21:48:19,918 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-08 21:48:20,080 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-08 21:48:20,080 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-08 21:48:20,082 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-08 21:48:20,094 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-08 21:48:20,095 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-08 21:48:20,096 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-08 21:48:20,096 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-08 21:48:20,096 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-08 21:48:20,097 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-08 21:48:20,105 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-08 21:48:20,264 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-08 21:48:20,268 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-08 21:48:20,270 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-08 21:48:20,274 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-08 21:48:20,279 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-08 21:48:20,298 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-08 21:48:20,299 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-08 21:48:20,300 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-08 21:48:20,300 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-08 21:48:20,300 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-08 21:48:20,300 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-08 21:48:20,301 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-08 21:48:20,353 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-08 21:48:20,354 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-08 21:48:20,355 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-08 21:48:20,426 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-08 21:48:20,430 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-08 21:48:20,430 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-08 21:48:20,444 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-08 21:48:20,471 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-08 21:48:20,471 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-08 21:48:20,482 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-08 21:48:20,491 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-08 21:48:20,491 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-08 21:48:20,494 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-08 21:48:20,501 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-08 21:48:20,505 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-08 21:48:20,506 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-08 21:48:22,098 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-08 21:48:22,099 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-08 21:48:22,101 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-08 21:48:22,101 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-08 21:48:22,101 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-08 21:48:22,102 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-08 21:48:22,102 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-08 21:48:22,143 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-08 21:48:22,145 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-08 21:48:22,146 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-08 21:48:22,230 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-08 21:48:22,230 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-08 21:48:22,231 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-08 21:48:22,231 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-08 21:48:22,231 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-08 21:48:22,269 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-08 21:48:31,290 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 09:59:11,841 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 09:59:11,841 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 09:59:11,842 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 09:59:11,842 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 09:59:11,842 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 09:59:11,842 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 09:59:11,856 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 09:59:11,856 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 09:59:11,886 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 09:59:11,887 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 09:59:11,888 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 09:59:12,082 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 09:59:12,084 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 09:59:12,084 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 09:59:12,084 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 09:59:12,084 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 09:59:12,085 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 09:59:12,099 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 09:59:12,174 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 09:59:13,667 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 09:59:27,074 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 09:59:27,237 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 09:59:27,237 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 09:59:27,239 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 09:59:27,251 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 09:59:27,252 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 09:59:27,252 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 09:59:27,253 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 09:59:27,253 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 09:59:27,253 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 09:59:27,267 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 09:59:28,499 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 09:59:28,503 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 09:59:28,505 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 09:59:28,509 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 09:59:28,514 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 09:59:28,534 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 09:59:28,534 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 09:59:28,535 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 09:59:28,535 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 09:59:28,536 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 09:59:28,536 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 09:59:28,536 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 09:59:28,589 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 09:59:28,591 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 09:59:28,591 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 09:59:28,671 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 09:59:28,675 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 09:59:28,675 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 09:59:28,690 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 09:59:28,719 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 09:59:28,719 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 09:59:28,728 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 09:59:28,736 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 09:59:28,736 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 09:59:28,739 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 09:59:28,751 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 09:59:28,755 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 09:59:28,755 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 09:59:36,326 - INFO - FinancialController - financial_controller:216 - Retrieved transaction ID 10 with its charge code.
2025-06-09 09:59:50,370 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 09:59:50,370 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 09:59:50,372 - INFO - UserManagementScreen - user_management_screen:87 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 09:59:50,372 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 09:59:50,373 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 09:59:50,373 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 09:59:50,373 - INFO - UserManagementScreen - user_management_screen:157 - Setting up UserManagementScreen UI...
2025-06-09 09:59:50,375 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-09 09:59:50,426 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 09:59:50,427 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 09:59:50,427 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 09:59:50,427 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 09:59:50,428 - INFO - UserManagementScreen - user_management_screen:154 - UserManagementScreen __init__ completed.
2025-06-09 09:59:50,464 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 10:00:04,299 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 642, in _launch_company_profile_dialog
    dialog = CompanyProfileDialog(self, self.current_user_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\company_profile_dialog.py", line 41, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\company_profile_dialog.py", line 63, in _setup_ui
    logo_layout = QHBoxLayout()
                  ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 642, in _launch_company_profile_dialog
    dialog = CompanyProfileDialog(self, self.current_user_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\company_profile_dialog.py", line 41, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\company_profile_dialog.py", line 63, in _setup_ui
    logo_layout = QHBoxLayout()
                  ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-09 10:00:09,859 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 10:00:11,192 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 10:00:11,192 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 10:00:11,194 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 10:00:11,194 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 10:00:11,205 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 10:00:11,208 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 10:00:11,208 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 10:08:52,074 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 10:08:52,074 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 10:08:52,075 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 10:08:52,076 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 10:08:52,076 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 10:08:52,076 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 10:08:52,083 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 10:08:52,084 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 10:08:52,086 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 10:08:52,087 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 10:08:52,088 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 10:08:52,267 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 10:08:52,269 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 10:08:52,270 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 10:08:52,270 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 10:08:52,270 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 10:08:52,271 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 10:08:52,275 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 10:08:52,353 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 10:08:54,826 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 10:09:12,447 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'td', password_attempt (first 3 chars): '123...'
2025-06-09 10:09:12,449 - WARNING - UserController - user_controller:57 - Login ID 'td' not found during authentication.
2025-06-09 10:09:14,112 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: td. Reason: Invalid Login ID or Password.
2025-06-09 10:09:23,862 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 10:09:24,024 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 10:09:24,025 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 10:09:24,027 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 10:09:24,041 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 10:09:24,042 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 10:09:24,043 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 10:09:24,044 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 10:09:24,045 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 10:09:24,045 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 10:09:24,051 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 10:09:24,216 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 10:09:24,220 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 10:09:24,221 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 10:09:24,225 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 10:09:24,230 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 10:09:24,250 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 10:09:24,251 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 10:09:24,303 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 10:09:24,304 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 10:09:24,305 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 10:09:24,378 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 10:09:24,382 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 10:09:24,383 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 10:09:24,401 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 10:09:24,421 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 10:09:24,422 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 10:09:24,429 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 10:09:24,438 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 10:09:24,439 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 10:09:24,442 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 10:09:24,455 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 10:09:24,458 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 10:09:24,459 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 10:09:27,112 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 10:09:27,112 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 10:09:27,114 - INFO - UserManagementScreen - user_management_screen:87 - UserManagementScreen __init__ called for user: tm
2025-06-09 10:09:27,115 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 10:09:27,115 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 10:09:27,115 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 10:09:27,115 - INFO - UserManagementScreen - user_management_screen:157 - Setting up UserManagementScreen UI...
2025-06-09 10:09:27,117 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-09 10:09:27,165 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 10:09:27,166 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 10:09:27,167 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 10:09:27,167 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 10:09:27,167 - INFO - UserManagementScreen - user_management_screen:154 - UserManagementScreen __init__ completed.
2025-06-09 10:09:27,202 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 10:09:32,967 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 10:18:09,611 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 10:18:09,612 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 10:18:09,612 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 10:18:09,613 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 10:18:09,613 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 10:18:09,613 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 10:18:09,628 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 10:18:09,629 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 10:18:09,664 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 10:18:09,665 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 10:18:09,665 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 10:18:09,859 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 10:18:09,861 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 10:18:09,861 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 10:18:09,862 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 10:18:09,862 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 10:18:09,863 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 10:18:09,874 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 10:18:09,948 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 10:18:11,602 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 10:18:26,966 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 10:18:27,128 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 10:18:27,128 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 10:18:27,130 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 10:18:27,142 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 10:18:27,143 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 10:18:27,143 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 10:18:27,143 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 10:18:27,143 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 10:18:27,144 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 10:18:27,156 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 10:18:28,453 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 10:18:28,457 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 10:18:28,459 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 10:18:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 10:18:28,467 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 10:18:28,487 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 10:18:28,487 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 10:18:28,488 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 10:18:28,489 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 10:18:28,489 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 10:18:28,489 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 10:18:28,489 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 10:18:28,542 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 10:18:28,544 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 10:18:28,544 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 10:18:28,623 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 10:18:28,628 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 10:18:28,628 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 10:18:28,645 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 10:18:28,673 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 10:18:28,674 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 10:18:28,682 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 10:18:28,690 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 10:18:28,691 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 10:18:28,694 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 10:18:28,702 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 10:18:28,706 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 10:18:28,706 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 10:18:31,639 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 10:18:31,639 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 10:18:31,641 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: tm
2025-06-09 10:18:31,642 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 10:18:31,642 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 10:18:31,642 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 10:18:31,643 - INFO - UserManagementScreen - user_management_screen:168 - Setting up UserManagementScreen UI...
2025-06-09 10:18:31,684 - INFO - UserManagementScreen - user_management_screen:548 - Loading users data for tab...
2025-06-09 10:18:31,686 - INFO - UserManagementScreen - user_management_screen:585 - Loaded 2 users.
2025-06-09 10:18:31,686 - INFO - UserManagementScreen - user_management_screen:198 - UserManagementScreen UI setup complete.
2025-06-09 10:18:31,771 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 10:18:31,772 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 10:18:31,773 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 10:18:31,774 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 10:18:31,774 - INFO - UserManagementScreen - user_management_screen:165 - UserManagementScreen __init__ completed.
2025-06-09 10:18:31,813 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 10:18:36,335 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 10:18:37,764 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 10:18:37,765 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 10:18:37,767 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 10:18:37,768 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 10:18:37,781 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 10:18:37,783 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 10:18:37,783 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 10:28:35,693 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 10:28:35,694 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 10:28:35,695 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 10:28:35,695 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 10:28:35,695 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 10:28:35,695 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 10:28:35,704 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 10:28:35,704 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 10:28:35,707 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 10:28:35,707 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 10:28:35,707 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 10:28:35,887 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 10:28:35,889 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 10:28:35,889 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 10:28:35,890 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 10:28:35,890 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 10:28:35,890 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 10:28:35,894 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 10:28:35,970 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 10:28:37,936 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 10:28:44,962 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 10:28:45,123 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 10:28:45,124 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 10:28:45,125 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 10:28:45,136 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 10:28:45,136 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 10:28:45,136 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 10:28:45,137 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 10:28:45,137 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 10:28:45,137 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 10:28:45,145 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 10:28:45,311 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 10:28:45,315 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 10:28:45,317 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 10:28:45,322 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 10:28:45,327 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 10:28:45,347 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 10:28:45,348 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 10:28:45,348 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 10:28:45,349 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 10:28:45,349 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 10:28:45,349 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 10:28:45,349 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 10:28:45,399 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 10:28:45,400 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 10:28:45,401 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 10:28:45,477 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 10:28:45,481 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 10:28:45,481 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 10:28:45,495 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 10:28:45,526 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 10:28:45,527 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 10:28:45,536 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 10:28:45,543 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 10:28:45,544 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 10:28:45,546 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 10:28:45,555 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 10:28:45,559 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 10:28:45,560 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 10:28:47,694 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 10:28:47,694 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 10:28:47,697 - INFO - UserManagementScreen - user_management_screen:96 - UserManagementScreen __init__ called for user: tm
2025-06-09 10:28:47,697 - INFO - VeterinarianController - veterinarian_controller:21 - Placeholder VeterinarianController initialized.
2025-06-09 10:28:47,698 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 10:28:47,698 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 10:28:47,698 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 10:28:47,699 - INFO - UserManagementScreen - user_management_screen:179 - Setting up UserManagementScreen UI...
2025-06-09 10:28:47,727 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_update_category_action_buttons_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 168, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 191, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1225, in _create_categories_processes_tab
    self._update_category_action_buttons_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_update_category_action_buttons_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 168, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 191, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1225, in _create_categories_processes_tab
    self._update_category_action_buttons_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_update_category_action_buttons_state'
2025-06-09 10:33:47,140 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 10:33:47,140 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 10:33:47,141 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 10:33:47,141 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 10:33:47,141 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 10:33:47,141 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 10:33:47,148 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 10:33:47,149 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 10:33:47,151 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 10:33:47,152 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 10:33:47,152 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 10:33:47,335 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 10:33:47,336 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 10:33:47,337 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 10:33:47,337 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 10:33:47,337 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 10:33:47,337 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 10:33:47,342 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 10:33:47,414 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 10:33:49,178 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 10:33:57,204 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 10:33:57,367 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 10:33:57,367 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 10:33:57,369 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 10:33:57,382 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 10:33:57,382 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 10:33:57,383 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 10:33:57,384 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 10:33:57,386 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 10:33:57,386 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 10:33:57,396 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 10:33:57,567 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 10:33:57,571 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 10:33:57,572 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 10:33:57,576 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 10:33:57,581 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 10:33:57,600 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 10:33:57,600 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 10:33:57,601 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 10:33:57,601 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 10:33:57,601 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 10:33:57,602 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 10:33:57,602 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 10:33:57,654 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 10:33:57,655 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 10:33:57,655 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 10:33:57,734 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 10:33:57,737 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 10:33:57,737 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 10:33:57,745 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 10:33:57,774 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 10:33:57,775 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 10:33:57,784 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 10:33:57,793 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 10:33:57,793 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 10:33:57,796 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 10:33:57,803 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 10:33:57,807 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 10:33:57,808 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 10:34:00,144 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 10:34:00,144 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 10:34:00,147 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 10:34:00,147 - INFO - VeterinarianController - veterinarian_controller:21 - Placeholder VeterinarianController initialized.
2025-06-09 10:34:00,148 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 10:34:00,148 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 10:34:00,148 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 10:34:00,149 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 10:34:00,199 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 10:34:00,201 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 10:34:00,202 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 10:34:00,287 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 10:34:00,288 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 10:34:00,288 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 10:34:00,288 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 10:34:00,288 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 10:34:00,327 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 10:34:17,953 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 10:44:27,141 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-09 10:44:27,146 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by tm.
2025-06-09 10:44:41,987 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 10:44:41,987 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:44:41,996 - INFO - VeterinarianController - veterinarian_controller:24 - Placeholder: Fetching veterinarians with filter: active
2025-06-09 10:44:41,996 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 10:44:46,343 - INFO - AddEditVeterinarianDialog - add_edit_veterinarian_dialog:41 - Placeholder AddEditVeterinarianDialog created.
2025-06-09 10:44:49,598 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:44:49,599 - INFO - VeterinarianController - veterinarian_controller:24 - Placeholder: Fetching veterinarians with filter: active
2025-06-09 10:44:49,601 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 10:46:11,667 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 10:49:37,946 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 10:49:37,946 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 10:49:37,948 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 10:49:37,955 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 7 charge codes based on filter 'active'.
2025-06-09 10:49:44,027 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 10:49:44,028 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 10:49:44,038 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-09 10:49:44,040 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 3 owners.
2025-06-09 10:49:47,645 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 10:49:47,646 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 10:49:47,654 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 10:49:49,704 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 10:49:49,705 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:49:49,707 - INFO - VeterinarianController - veterinarian_controller:24 - Placeholder: Fetching veterinarians with filter: active
2025-06-09 10:49:49,707 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 10:49:51,084 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 10:49:51,084 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 10:49:51,089 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 4 locations.
2025-06-09 10:49:57,444 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 10:49:57,444 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:49:57,446 - INFO - VeterinarianController - veterinarian_controller:24 - Placeholder: Fetching veterinarians with filter: active
2025-06-09 10:49:57,447 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 10:50:57,482 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 10:50:59,347 - WARNING - HorseUnifiedManagement - horse_unified_management:546 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 10:50:59,347 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 10:50:59,349 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 10:50:59,349 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 10:50:59,374 - WARNING - HorseUnifiedManagement - horse_unified_management:549 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 10:50:59,379 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 10:50:59,385 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 10:51:05,106 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 10:51:05,106 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 10:51:05,106 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 10:51:05,107 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 10:51:05,107 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 10:51:05,107 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 10:51:05,114 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 10:51:05,114 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 10:51:05,117 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 10:51:05,117 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 10:51:05,117 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 10:51:05,301 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 10:51:05,303 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 10:51:05,303 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 10:51:05,303 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 10:51:05,303 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 10:51:05,303 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 10:51:05,308 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 10:51:05,382 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 10:51:06,886 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 10:51:14,575 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 10:51:14,734 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 10:51:14,734 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 10:51:14,736 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 10:51:14,748 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 10:51:14,749 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 10:51:14,749 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 10:51:14,749 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 10:51:14,749 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 10:51:14,750 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 10:51:14,756 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 10:51:14,903 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 10:51:14,908 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 10:51:14,909 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 10:51:14,913 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 10:51:14,919 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 10:51:14,938 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 10:51:14,938 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 10:51:14,940 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 10:51:14,940 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 10:51:14,940 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 10:51:14,940 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 10:51:14,940 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 10:51:14,991 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 10:51:14,993 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 10:51:14,993 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 10:51:15,064 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 10:51:15,067 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 10:51:15,068 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 10:51:15,087 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 10:51:15,116 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 10:51:15,116 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 10:51:15,124 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 10:51:15,132 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 10:51:15,132 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 10:51:15,135 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 10:51:15,141 - INFO - FinancialController - financial_controller:255 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 10:51:15,145 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 10:51:15,145 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 10:56:43,381 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 10:56:43,382 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 10:56:43,386 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 10:56:43,387 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 10:56:43,387 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 10:56:43,388 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 10:56:43,388 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 10:56:43,438 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 10:56:43,440 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 10:56:43,441 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 10:56:43,527 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 10:56:43,527 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 10:56:43,528 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 10:56:43,528 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 10:56:43,528 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 10:56:43,568 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 10:56:46,009 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 10:56:46,010 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:56:46,015 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 10:58:44,440 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzerisi' created by tm.
2025-06-09 10:58:46,297 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 10:58:46,297 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 1 veterinarians.
2025-06-09 10:58:58,610 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 10:58:58,611 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 10:58:58,615 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 4 locations.
2025-06-09 10:59:01,142 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 10:59:01,142 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 10:59:01,147 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 10:59:04,278 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 10:59:04,278 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 10:59:04,284 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 10:59:08,274 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 10:59:08,275 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 10:59:08,277 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 10:59:08,282 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 7 charge codes based on filter 'active'.
2025-06-09 10:59:11,166 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 10:59:11,166 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 10:59:11,170 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-09 10:59:11,170 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 3 owners.
2025-06-09 10:59:15,893 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 10:59:20,113 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 12:24:24,721 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 12:24:24,721 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 12:24:24,722 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 12:24:24,722 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 12:24:24,723 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 12:24:24,723 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 12:24:24,730 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 12:24:24,730 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 12:24:24,733 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 12:24:24,733 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 12:24:24,733 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 12:24:24,915 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 12:24:24,917 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 12:24:24,917 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 12:24:24,918 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 12:24:24,918 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 12:24:24,918 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 12:24:24,922 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 12:24:25,000 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 12:24:26,358 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 12:24:34,334 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 12:24:34,496 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 12:24:34,496 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 12:24:34,498 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 12:24:34,509 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 12:24:34,510 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 12:24:34,511 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 12:24:34,511 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 12:24:34,512 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 12:24:34,512 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 12:24:34,519 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 12:24:34,660 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 12:24:34,664 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 12:24:34,665 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 12:24:34,670 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 12:24:34,674 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 12:24:34,693 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 12:24:34,694 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 12:24:34,695 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 12:24:34,696 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 12:24:34,696 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 12:24:34,696 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 12:24:34,697 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 12:24:34,747 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 12:24:34,749 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 12:24:34,749 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 12:24:34,820 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 12:24:34,824 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 12:24:34,824 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 12:24:34,840 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 12:24:34,867 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 12:24:34,868 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 12:24:34,876 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 12:24:34,884 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 12:24:34,886 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 12:24:34,889 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 12:24:34,898 - INFO - FinancialController - financial_controller:335 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 12:24:34,902 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 12:24:34,902 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 12:24:40,331 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Creation - Create a new invoice for Sarah Davis with 3 items, totaling $230.00?
2025-06-09 12:24:45,014 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: FinancialController.create_invoice_for_owner() missing 1 required positional argument: 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 316, in _create_invoice
    self.financial_controller.create_invoice_for_owner(
TypeError: FinancialController.create_invoice_for_owner() missing 1 required positional argument: 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 316, in _create_invoice
    self.financial_controller.create_invoice_for_owner(
TypeError: FinancialController.create_invoice_for_owner() missing 1 required positional argument: 'current_user_id'
2025-06-09 12:31:24,371 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 12:31:24,371 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 12:31:24,372 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 12:31:24,372 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 12:31:24,373 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 12:31:24,373 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 12:31:24,380 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 12:31:24,380 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 12:31:24,383 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 12:31:24,383 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 12:31:24,383 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 12:31:24,569 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 12:31:24,571 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 12:31:24,571 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 12:31:24,571 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 12:31:24,572 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 12:31:24,572 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 12:31:24,576 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 12:31:24,656 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 12:31:26,772 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 12:31:35,340 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 12:31:35,500 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 12:31:35,500 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 12:31:35,502 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 12:31:35,513 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 12:31:35,513 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 12:31:35,513 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 12:31:35,513 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 12:31:35,514 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 12:31:35,515 - INFO - HorseUnifiedManagement - horse_unified_management:167 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 12:31:35,521 - INFO - HorseUnifiedManagement - horse_unified_management:820 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 12:31:35,670 - INFO - HorseUnifiedManagement - horse_unified_management:833 - BasicInfoTab created.
2025-06-09 12:31:35,673 - INFO - HorseUnifiedManagement - horse_unified_management:845 - OwnersTab created.
2025-06-09 12:31:35,675 - INFO - HorseUnifiedManagement - horse_unified_management:857 - LocationTab created.
2025-06-09 12:31:35,679 - INFO - HorseUnifiedManagement - horse_unified_management:867 - BillingTab created.
2025-06-09 12:31:35,683 - INFO - HorseUnifiedManagement - horse_unified_management:884 - Tabs added.
2025-06-09 12:31:35,702 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 12:31:35,703 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting BasicInfoTab signals.
2025-06-09 12:31:35,704 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - Connecting OwnersTab signals.
2025-06-09 12:31:35,704 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - Connecting LocationTab signals.
2025-06-09 12:31:35,705 - INFO - HorseUnifiedManagement - horse_unified_management:1760 - Connecting BillingTab signals (if any needed by parent).
2025-06-09 12:31:35,705 - INFO - HorseUnifiedManagement - horse_unified_management:1763 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 12:31:35,705 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 12:31:35,756 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 12:31:35,757 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 12:31:35,758 - INFO - HorseUnifiedManagement - horse_unified_management:162 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 12:31:35,829 - INFO - HorseUnifiedManagement - horse_unified_management:185 - HorseUnifiedManagement showEvent: START
2025-06-09 12:31:35,832 - INFO - HorseUnifiedManagement - horse_unified_management:378 - display_empty_state: FINISHED
2025-06-09 12:31:35,832 - INFO - HorseUnifiedManagement - horse_unified_management:230 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 12:31:35,850 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 12:31:35,877 - INFO - HorseUnifiedManagement - horse_unified_management:530 - load_initial_data: START - Attempting to load horses.
2025-06-09 12:31:35,878 - INFO - HorseUnifiedManagement - horse_unified_management:1331 - load_horses: Filter status: 'active', Search: ''
2025-06-09 12:31:35,886 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 12:31:35,893 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 12:31:35,894 - INFO - HorseUnifiedManagement - horse_unified_management:1016 - load_horse_details: START for horse ID: 2
2025-06-09 12:31:35,897 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 12:31:35,909 - INFO - FinancialController - financial_controller:335 - Retrieved 3 transactions for horse ID 2 (invoiced=False).
2025-06-09 12:31:35,913 - INFO - HorseUnifiedManagement - horse_unified_management:1041 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 12:31:35,913 - INFO - HorseUnifiedManagement - horse_unified_management:533 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 12:31:48,315 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Creation - Create a new invoice for Sarah Davis with 3 items, totaling $230.00?
2025-06-09 12:31:51,633 - INFO - FinancialController - financial_controller:119 - Invoice #1 created for owner ID 2 by tm.
2025-06-09 12:31:51,634 - INFO - FinancialController - financial_controller:335 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 12:43:04,556 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 12:43:04,556 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 12:43:04,556 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 12:43:04,556 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 12:43:04,557 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 12:43:04,557 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 12:43:04,564 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 12:43:04,565 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 12:43:04,567 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 12:43:04,568 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 12:43:04,568 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 12:43:04,748 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 12:43:04,750 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 12:43:04,750 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 12:43:04,750 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 12:43:04,751 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 12:43:04,751 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 12:43:04,755 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 12:43:04,836 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 12:43:06,405 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 12:43:14,250 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 12:43:14,411 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 12:43:14,412 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 12:43:14,415 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 12:43:14,425 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 12:43:14,426 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'logging' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 73, in __init__
    self.logger = logging.getLogger(self.__class__.__name__)
                  ^^^^^^^
NameError: name 'logging' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 73, in __init__
    self.logger = logging.getLogger(self.__class__.__name__)
                  ^^^^^^^
NameError: name 'logging' is not defined
2025-06-09 12:43:18,782 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 12:43:18,783 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 12:44:08,319 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 12:44:08,320 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 12:44:08,321 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 12:44:08,321 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 12:44:08,321 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 12:44:08,321 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 12:44:08,328 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 12:44:08,328 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 12:44:08,331 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 12:44:08,332 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 12:44:08,332 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 12:44:08,512 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 12:44:08,514 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 12:44:08,514 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 12:44:08,514 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 12:44:08,515 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 12:44:08,515 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 12:44:08,520 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 12:44:08,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 12:44:20,023 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 12:44:20,033 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 12:44:20,034 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 12:50:09,809 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 12:50:09,809 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 12:50:09,810 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 12:50:09,810 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 12:50:09,810 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 12:50:09,811 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 12:50:09,818 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 12:50:09,819 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 12:50:09,822 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 12:50:09,822 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 12:50:09,822 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 12:50:10,003 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 12:50:10,005 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 12:50:10,005 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 12:50:10,005 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 12:50:10,005 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 12:50:10,005 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 12:50:10,010 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 12:50:10,082 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 12:50:11,814 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 12:50:20,070 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): '123...'
2025-06-09 12:50:20,225 - WARNING - UserController - user_controller:62 - Incorrect password attempt for login ID 'ADMIN' (input was 'admin').
2025-06-09 12:50:21,903 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: Invalid Login ID or Password.
2025-06-09 12:50:28,590 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 12:50:28,752 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 12:50:28,752 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 12:50:28,754 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 12:50:28,768 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 12:50:28,768 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 12:50:28,768 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 12:50:28,769 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 12:50:28,769 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 12:50:28,769 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 12:50:28,776 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 12:50:28,921 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 12:50:28,924 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 12:50:28,926 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 12:50:28,930 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 12:50:28,935 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 12:50:28,941 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 12:50:28,967 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 12:50:28,968 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 12:50:28,969 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 12:50:28,969 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 12:50:28,969 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 12:50:28,969 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 12:50:28,969 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 12:50:29,037 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 12:50:29,039 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 12:50:29,040 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 12:50:29,118 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 12:50:29,121 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 12:50:29,122 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 12:50:29,137 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 12:50:29,165 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 12:50:29,166 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 12:50:29,174 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 12:50:29,180 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 12:50:29,180 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 12:50:29,183 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 12:50:29,188 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1473, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1012, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 218, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 228, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 259, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 283, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1473, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1012, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 218, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 228, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 259, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 283, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
2025-06-09 12:50:34,470 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 12:50:40,141 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 12:50:40,143 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-09 12:50:40,147 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1473, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1012, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 218, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 228, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 259, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 283, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1473, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1012, in load_horse_details
    self.billing_tab.set_current_horse(horse)
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 218, in set_current_horse
    self.load_transactions()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 228, in load_transactions
    self.populate_transactions_table()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 259, in populate_transactions_table
    self._update_total_due_display()
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 283, in _update_total_due_display
    total_due = sum(
                   ^
TypeError: 'NoneType' object is not iterable
2025-06-09 13:11:46,934 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:11:46,935 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:11:46,935 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:11:46,935 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:11:46,935 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:11:46,935 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:11:46,942 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:11:46,942 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:11:46,945 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:11:46,946 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:11:46,946 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:11:47,130 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:11:47,132 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:11:47,132 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:11:47,132 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:11:47,132 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:11:47,133 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:11:47,137 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:11:47,210 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:11:49,042 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 13:11:57,653 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 13:11:57,812 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 13:11:57,812 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 13:11:57,814 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 13:11:57,826 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 13:11:57,827 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 13:11:57,827 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 13:11:57,827 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 13:11:57,828 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 13:11:57,828 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 13:11:57,834 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 13:11:57,982 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 13:11:57,986 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 13:11:57,987 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 13:11:57,991 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 13:11:57,996 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 13:11:58,002 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 13:11:58,026 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 13:11:58,026 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 13:11:58,027 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 13:11:58,027 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 13:11:58,027 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 13:11:58,027 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 13:11:58,028 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 13:11:58,093 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 13:11:58,095 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 13:11:58,095 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 13:11:58,168 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 13:11:58,171 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 13:11:58,171 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 13:11:58,180 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 13:11:58,202 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 13:11:58,202 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 13:11:58,211 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 13:11:58,218 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 13:11:58,219 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 13:11:58,222 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 13:11:58,229 - INFO - FinancialController - financial_controller:372 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 13:11:58,237 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 13:11:58,237 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 13:25:00,229 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:25:00,230 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:25:00,230 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:25:00,231 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:25:00,231 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:25:00,231 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:25:00,239 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:25:00,239 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:25:00,242 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:25:00,243 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:25:00,243 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:25:00,422 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:25:00,424 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:25:00,424 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:25:00,425 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:25:00,425 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:25:00,425 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:25:00,430 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:25:00,507 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:25:02,678 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 13:25:26,043 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 13:25:26,205 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 13:25:26,206 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 13:25:26,207 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 13:25:26,219 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 13:25:26,220 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 13:25:26,220 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 13:25:26,220 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 13:25:26,221 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 13:25:26,221 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 13:25:26,228 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 13:25:26,391 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 13:25:26,396 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 13:25:26,397 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 13:25:26,402 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 13:25:26,407 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 13:25:26,413 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 13:25:26,440 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 13:25:26,441 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 13:25:26,442 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 13:25:26,443 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 13:25:26,444 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 13:25:26,444 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 13:25:26,444 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 13:25:26,515 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 13:25:26,516 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 13:25:26,516 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 13:25:26,593 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 13:25:26,596 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 13:25:26,597 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 13:25:26,612 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 13:25:26,639 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 13:25:26,639 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 13:25:26,647 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 13:25:26,654 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 13:25:26,655 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 13:25:26,658 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 13:25:26,668 - INFO - FinancialController - financial_controller:416 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 13:25:26,673 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 13:25:26,674 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 13:25:32,252 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 13:25:32,252 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 13:25:32,255 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 13:25:32,255 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 13:25:32,255 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 13:25:32,256 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 13:25:32,256 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 13:25:32,310 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 13:25:32,313 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 13:25:32,313 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 13:25:32,420 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 13:25:32,420 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 13:25:32,421 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 13:25:32,421 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 13:25:32,421 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 13:25:32,465 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 13:25:34,834 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 13:25:34,835 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 13:25:34,838 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 13:25:34,845 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 7 charge codes based on filter 'active'.
2025-06-09 13:25:35,820 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 13:25:35,820 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 13:25:35,826 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 13:25:36,746 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 13:25:36,747 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 13:25:36,750 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 1 veterinarians.
2025-06-09 13:25:37,771 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 13:25:37,772 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 13:25:37,776 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 4 locations.
2025-06-09 13:25:38,722 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 13:25:38,723 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 13:25:38,725 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 13:25:40,964 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 13:26:29,196 - INFO - InvoiceHistoryTab - invoice_history_tab:204 - Print invoice button clicked - feature not implemented.
2025-06-09 13:26:34,431 - INFO - InvoiceHistoryTab - invoice_history_tab:204 - Print invoice button clicked - feature not implemented.
2025-06-09 13:30:38,776 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:30:38,776 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:30:38,776 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:30:38,777 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:30:38,777 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:30:38,777 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:30:38,784 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:30:38,784 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:30:38,787 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:30:38,788 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:30:38,788 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:30:38,970 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:30:38,972 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:30:38,972 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:30:38,972 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:30:38,973 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:30:38,973 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:30:38,978 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:30:39,061 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:30:44,902 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 13:30:44,915 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 13:30:44,916 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 13:38:29,982 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:38:29,982 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:38:29,983 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:38:29,983 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:38:29,984 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:38:29,984 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:38:29,991 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:38:29,991 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:38:29,994 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:38:29,995 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:38:29,995 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:38:30,175 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:38:30,177 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:38:30,177 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:38:30,178 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:38:30,178 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:38:30,178 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:38:30,182 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:38:30,262 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:38:31,728 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 13:38:39,250 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 13:38:39,410 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 13:38:39,410 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 13:38:39,412 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 13:38:39,426 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 13:38:39,426 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 13:38:39,426 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 13:38:39,427 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 13:38:39,427 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 13:38:39,427 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 13:38:39,434 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 13:38:39,587 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 13:38:39,590 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 13:38:39,592 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 13:38:39,596 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 13:38:39,600 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 13:38:39,607 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 13:38:39,631 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 13:38:39,631 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 13:38:39,633 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 13:38:39,633 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 13:38:39,633 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 13:38:39,633 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 13:38:39,634 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 13:38:39,699 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 13:38:39,701 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 13:38:39,701 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 13:38:39,774 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 13:38:39,778 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 13:38:39,778 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 13:38:39,792 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 13:38:39,816 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 13:38:39,816 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 13:38:39,824 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 13:38:39,832 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 13:38:39,832 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 13:38:39,835 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 13:38:39,844 - INFO - FinancialController - financial_controller:416 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 13:38:39,848 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 13:38:39,849 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 13:39:14,018 - ERROR - InvoiceGenerator - invoice_generator:97 - Failed to generate PDF for Invoice #1: 'FinancialController' object has no attribute 'get_invoice_by_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\reports\invoice_generator.py", line 49, in generate_invoice_pdf
    invoice = self.financial_controller.get_invoice_by_id(invoice_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_invoice_by_id'
2025-06-09 13:41:22,004 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:41:22,004 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:41:22,005 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:41:22,005 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:41:22,005 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:41:22,005 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:41:22,013 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:41:22,013 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:41:22,016 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:41:22,017 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:41:22,017 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:41:22,198 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:41:22,200 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:41:22,200 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:41:22,200 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:41:22,200 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:41:22,201 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:41:22,205 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:41:22,280 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:41:25,348 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 13:41:35,471 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 13:41:35,635 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 13:41:35,635 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 13:41:35,637 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 13:41:35,650 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 13:41:35,650 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 13:41:35,651 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 13:41:35,651 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 13:41:35,652 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 13:41:35,652 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 13:41:35,659 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 13:41:35,818 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 13:41:35,822 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 13:41:35,824 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 13:41:35,829 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 13:41:35,834 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 13:41:35,840 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 13:41:35,866 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 13:41:35,867 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 13:41:35,868 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 13:41:35,869 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 13:41:35,869 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 13:41:35,869 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 13:41:35,869 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 13:41:35,942 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 13:41:35,943 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 13:41:35,944 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 13:41:36,018 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 13:41:36,021 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 13:41:36,022 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 13:41:36,038 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 13:41:36,064 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 13:41:36,064 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 13:41:36,073 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 13:41:36,080 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 13:41:36,082 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 13:41:36,085 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Doroni
2025-06-09 13:41:36,094 - INFO - FinancialController - financial_controller:433 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 13:41:36,099 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 13:41:36,099 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 13:41:45,358 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:/Projects/EDMS/Invoice-1.pdf
2025-06-09 13:45:48,435 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 13:45:48,438 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-09 13:45:48,445 - INFO - FinancialController - financial_controller:433 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-09 13:45:48,446 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 13:46:03,227 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-09 13:46:31,000 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 3 on horse ID 3 to 70.0%
2025-06-09 13:46:31,010 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 3, owner ID 3 by tm.
2025-06-09 13:46:31,010 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-09 13:46:32,713 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-09 13:46:32,713 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - _on_owner_association_changed: Ownership percentage updated.
2025-06-09 13:46:32,714 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 13:46:32,716 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-09 13:46:32,719 - INFO - FinancialController - financial_controller:433 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-09 13:46:32,720 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 13:46:36,187 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Red Notice
2025-06-09 13:48:30,064 - INFO - OwnersTab - owners_tab:306 - Dialog OK. Owner: {'farm_name': '', 'account_number': '000593', 'first_name': 'Bradley', 'last_name': 'Coulter', 'address_line1': '1 W. Azalea Lane', 'address_line2': '', 'city': 'Mount Laurel', 'state_code': 'NJ', 'zip_code': '08054', 'country_name': 'USA', 'phone': '609 505-4028', 'email': 'bcoulter53@gmail.com', 'is_active': True}, Percentage: 30.0
2025-06-09 13:48:30,070 - INFO - OwnerController - owner_controller:335 - Master Owner 'Bradley Coulter' (ID: 4) created by tm.
2025-06-09 13:48:30,076 - INFO - HorseController - horse_controller:493 - Owner ID 4 added to horse ID 3 by tm.
2025-06-09 13:48:30,076 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-09 13:48:31,709 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-09 13:48:31,709 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 13:48:31,712 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Red Notice
2025-06-09 13:48:31,715 - INFO - FinancialController - financial_controller:433 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-09 13:48:31,716 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 13:48:49,195 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <Horse at 0x29a649ebf90> is not bound to a Session; lazy load operation of attribute 'owner_associations' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 302, in _create_invoice
    owner_count = len(self.current_horse.owner_associations)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Horse at 0x29a649ebf90> is not bound to a Session; lazy load operation of attribute 'owner_associations' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\billing_tab.py", line 302, in _create_invoice
    owner_count = len(self.current_horse.owner_associations)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Horse at 0x29a649ebf90> is not bound to a Session; lazy load operation of attribute 'owner_associations' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-09 13:53:24,398 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 13:53:24,399 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 13:53:24,399 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 13:53:24,400 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 13:53:24,400 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 13:53:24,400 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 13:53:24,407 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 13:53:24,407 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 13:53:24,410 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 13:53:24,411 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 13:53:24,411 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 13:53:24,591 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 13:53:24,593 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 13:53:24,593 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 13:53:24,593 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 13:53:24,593 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 13:53:24,594 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 13:53:24,598 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 13:53:24,675 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 13:53:26,558 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 13:53:34,649 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 13:53:34,811 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 13:53:34,811 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 13:53:34,813 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 13:53:34,828 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 13:53:34,829 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 13:53:34,829 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 13:53:34,829 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 13:53:34,830 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 13:53:34,830 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 13:53:34,837 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 13:53:34,996 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 13:53:35,000 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 13:53:35,002 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 13:53:35,006 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 13:53:35,010 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 13:53:35,017 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 13:53:35,044 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 13:53:35,044 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 13:53:35,045 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 13:53:35,046 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 13:53:35,046 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 13:53:35,046 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 13:53:35,046 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 13:53:35,121 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 13:53:35,122 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 13:53:35,123 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 13:53:35,197 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 13:53:35,200 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 13:53:35,201 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 13:53:35,218 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 13:53:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 13:53:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 13:53:35,264 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 13:53:35,275 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 13:53:35,276 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 13:53:35,281 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 13:53:35,290 - INFO - FinancialController - financial_controller:433 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 13:53:35,295 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 13:53:35,296 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 13:53:37,378 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 13:53:37,380 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 13:53:37,383 - INFO - FinancialController - financial_controller:433 - Retrieved 3 transactions for horse ID 3 (invoiced=False).
2025-06-09 13:53:37,384 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 13:53:46,048 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Red Notice, splitting a total of $305.00 based on their ownership percentage.

Proceed?
2025-06-09 13:53:57,247 - INFO - FinancialController - financial_controller:218 - Generated 2 invoices for horse ID 3.
2025-06-09 13:53:57,248 - INFO - FinancialController - financial_controller:433 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:03:52,820 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 14:03:52,820 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 14:03:52,821 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 14:03:52,821 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 14:03:52,822 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 14:03:52,822 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 14:03:52,829 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 14:03:52,830 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 14:03:52,833 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 14:03:52,834 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 14:03:52,834 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 14:03:53,014 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 14:03:53,015 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 14:03:53,016 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 14:03:53,016 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 14:03:53,016 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 14:03:53,016 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 14:03:53,021 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 14:03:53,104 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 14:03:55,058 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 14:04:02,962 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 14:04:03,125 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 14:04:03,125 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 14:04:03,127 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 14:04:03,141 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 14:04:03,141 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 14:04:03,141 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 14:04:03,141 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 14:04:03,142 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 14:04:03,142 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 14:04:03,150 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 14:04:03,309 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 14:04:03,314 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 14:04:03,315 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 14:04:03,319 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 14:04:03,324 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 14:04:03,331 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 14:04:03,357 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 14:04:03,357 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 14:04:03,358 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 14:04:03,360 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 14:04:03,360 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 14:04:03,360 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 14:04:03,360 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 14:04:03,428 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 14:04:03,430 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 14:04:03,430 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 14:04:03,510 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 14:04:03,513 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:04:03,514 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 14:04:03,527 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 14:04:03,551 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 14:04:03,552 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 14:04:03,563 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 14:04:03,570 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 14:04:03,571 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 14:04:03,576 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 14:04:03,583 - INFO - FinancialController - financial_controller:404 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 14:04:03,589 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 14:04:03,590 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 14:04:08,149 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 14:04:08,151 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 14:04:08,155 - INFO - FinancialController - financial_controller:404 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:04:08,156 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 14:11:22,594 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 14:11:22,594 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 14:11:22,595 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 14:11:22,595 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 14:11:22,595 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 14:11:22,595 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 14:11:22,602 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 14:11:22,602 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 14:11:22,606 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 14:11:22,606 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 14:11:22,606 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 14:11:22,788 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 14:11:22,789 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 14:11:22,790 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 14:11:22,790 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 14:11:22,790 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 14:11:22,790 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 14:11:22,795 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 14:11:22,874 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 14:11:25,804 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 14:11:33,475 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 14:11:33,638 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 14:11:33,639 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 14:11:33,640 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 14:11:33,652 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 14:11:33,652 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 14:11:33,652 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 14:11:33,653 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 14:11:33,653 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 14:11:33,653 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 14:11:33,659 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 14:11:33,815 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 14:11:33,818 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 14:11:33,820 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 14:11:33,824 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 14:11:33,829 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 14:11:33,836 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 14:11:33,862 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 14:11:33,862 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 14:11:33,863 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 14:11:33,864 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 14:11:33,865 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 14:11:33,865 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 14:11:33,865 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 14:11:33,937 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 14:11:33,937 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 14:11:33,938 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 14:11:34,015 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 14:11:34,018 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:11:34,018 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 14:11:34,032 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 14:11:34,058 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 14:11:34,059 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 14:11:34,068 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 14:11:34,076 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 14:11:34,076 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 14:11:34,082 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 14:11:34,092 - INFO - FinancialController - financial_controller:427 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 14:11:34,100 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 14:11:34,100 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 14:11:37,460 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 14:11:37,462 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 14:11:37,466 - INFO - FinancialController - financial_controller:427 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:11:37,468 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 14:11:40,830 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 14:11:40,832 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Soul Rebel
2025-06-09 14:11:40,837 - INFO - FinancialController - financial_controller:427 - Retrieved 2 transactions for horse ID 1 (invoiced=False).
2025-06-09 14:11:40,838 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 14:11:42,123 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 14:11:42,125 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 14:11:42,129 - INFO - FinancialController - financial_controller:427 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:11:42,130 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 14:11:42,813 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 14:11:42,816 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 14:11:42,820 - INFO - FinancialController - financial_controller:427 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 14:11:42,821 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 14:11:43,501 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 14:11:43,503 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 14:11:43,507 - INFO - FinancialController - financial_controller:427 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:11:43,508 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 14:12:42,849 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:/Projects/EDMS/Invoice-2.pdf
2025-06-09 14:12:54,621 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #3 at C:/Projects/EDMS/Invoice-3.pdf
2025-06-09 14:16:03,401 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 14:16:03,401 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 14:16:03,402 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 14:16:03,402 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 14:16:03,403 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 14:16:03,403 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 14:16:03,410 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 14:16:03,411 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 14:16:03,414 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 14:16:03,415 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 14:16:03,415 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 14:16:03,597 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 14:16:03,599 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 14:16:03,599 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 14:16:03,600 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 14:16:03,600 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 14:16:03,600 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 14:16:03,604 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 14:16:03,683 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 14:16:05,074 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 14:16:12,281 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 14:16:12,445 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 14:16:12,446 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 14:16:12,447 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 14:16:12,459 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 14:16:12,459 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 14:16:12,460 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 14:16:12,460 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 14:16:12,461 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 14:16:12,461 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 14:16:12,469 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 14:16:12,641 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 14:16:12,645 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 14:16:12,647 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 14:16:12,651 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 14:16:12,657 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 14:16:12,664 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 14:16:12,693 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 14:16:12,693 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 14:16:12,695 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 14:16:12,695 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 14:16:12,695 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 14:16:12,695 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 14:16:12,696 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 14:16:12,768 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 14:16:12,770 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 14:16:12,770 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 14:16:12,853 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 14:16:12,857 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:16:12,857 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 14:16:12,877 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 14:16:12,903 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 14:16:12,904 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 14:16:12,912 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 14:16:12,919 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 14:16:12,919 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 14:16:12,926 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 14:16:12,935 - INFO - FinancialController - financial_controller:450 - Retrieved 0 transactions for horse ID 2 (invoiced=False).
2025-06-09 14:16:12,941 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 14:16:12,942 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 14:16:19,550 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 3
2025-06-09 14:16:19,552 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Red Notice
2025-06-09 14:16:19,555 - INFO - FinancialController - financial_controller:450 - Retrieved 0 transactions for horse ID 3 (invoiced=False).
2025-06-09 14:16:19,557 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 14:30:07,582 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 14:30:07,582 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 14:30:07,582 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 14:30:07,583 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 14:30:07,583 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 14:30:07,583 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 14:30:07,589 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 14:30:07,590 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 14:30:07,594 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 14:30:07,595 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 14:30:07,595 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 14:30:07,775 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 14:30:07,777 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 14:30:07,777 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 14:30:07,778 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 14:30:07,778 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 14:30:07,779 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 14:30:07,783 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 14:30:07,862 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 14:30:09,506 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 14:30:18,274 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 14:30:18,276 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-09 14:30:19,971 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-09 14:30:28,979 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 14:30:29,141 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 14:30:29,141 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 14:30:29,143 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 14:30:29,154 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 14:30:29,155 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 14:30:29,156 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 14:30:29,156 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 14:30:29,156 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 14:30:29,157 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 14:30:29,166 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 14:30:29,325 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 14:30:29,329 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 14:30:29,331 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 14:30:29,335 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 14:30:29,340 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 14:30:29,346 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 14:30:29,370 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 14:30:29,371 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 14:30:29,372 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 14:30:29,372 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 14:30:29,372 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 14:30:29,373 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 14:30:29,373 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 14:30:29,446 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 14:30:29,448 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 14:30:29,448 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 14:30:29,524 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 14:30:29,527 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:30:29,528 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 14:30:29,546 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 14:30:29,573 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 14:30:29,573 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 14:30:29,578 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 14:30:29,580 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 14:30:29,585 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:30:29,585 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 14:30:34,745 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 14:30:34,745 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 14:30:34,747 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 14:30:34,748 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 14:30:34,748 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 14:30:34,748 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 14:30:34,749 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 14:30:34,799 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 14:30:34,802 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users.
2025-06-09 14:30:34,802 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 14:30:34,897 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 14:30:34,898 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 14:30:34,899 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 14:30:34,899 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 14:30:34,899 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 14:30:34,941 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 14:30:45,747 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 14:30:45,748 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 14:30:45,754 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 3 locations.
2025-06-09 14:30:47,124 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 14:30:47,124 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 14:30:47,128 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 14:30:49,442 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 14:30:49,442 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 14:30:49,449 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 14:30:50,980 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 14:30:50,980 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 14:30:50,982 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 14:30:50,986 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 14:30:52,600 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 14:30:52,600 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 14:30:52,605 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 14:30:52,605 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 2 owners.
2025-06-09 14:30:54,860 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 14:30:58,818 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 14:32:07,730 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 14:32:07,731 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 14:32:07,734 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 14:32:07,735 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 14:32:07,735 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 14:32:07,736 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 14:32:07,736 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 14:32:07,787 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 14:32:07,788 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users.
2025-06-09 14:32:07,788 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 14:32:07,879 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 14:32:07,880 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 14:32:07,880 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 14:32:07,880 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 14:32:07,880 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 14:32:07,925 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 14:40:57,829 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 14:43:03,977 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-09 14:43:03,982 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by ADMIN.
2025-06-09 14:43:10,070 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 14:43:10,070 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 14:43:10,073 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users.
2025-06-09 14:43:11,702 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-09 14:44:07,225 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-09 14:44:07,385 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-09 14:44:07,385 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-09 14:44:07,394 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 14:44:07,395 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 14:44:11,866 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 14:44:11,866 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 14:44:11,870 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 0 veterinarians.
2025-06-09 14:45:22,578 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzerisi' created by ADMIN.
2025-06-09 14:45:24,986 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 14:45:24,987 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 1 veterinarians.
2025-06-09 14:45:31,448 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 14:45:31,449 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 14:45:31,452 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 3 locations.
2025-06-09 14:45:35,292 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-09 14:46:57,479 - INFO - LocationController - location_controller:128 - Location 'Quail Pond Farms' created by ADMIN.
2025-06-09 14:46:59,340 - INFO - UserManagementScreen - user_management_screen:811 - Loading locations data for tab...
2025-06-09 14:46:59,340 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 4 locations.
2025-06-09 14:47:06,627 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 14:47:06,630 - INFO - UserManagementScreen - user_management_screen:1036 - Loading veterinarians data for tab...
2025-06-09 14:47:06,631 - INFO - UserManagementScreen - user_management_screen:1078 - Loaded 1 veterinarians.
2025-06-09 14:47:08,814 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 14:47:08,815 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 14:47:08,820 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 14:47:10,648 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 14:47:10,649 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 14:47:10,651 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 14:47:10,654 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 14:47:15,985 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1656, in _delete_selected_charge_code
    if self.show_question(
       ^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
    dialog = CustomQuestionDialog(title, message, self)
             ^^^^^^^^^^^^^^^^^^^^
NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1656, in _delete_selected_charge_code
    if self.show_question(
       ^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
    dialog = CustomQuestionDialog(title, message, self)
             ^^^^^^^^^^^^^^^^^^^^
NameError: name 'CustomQuestionDialog' is not defined
2025-06-09 14:47:19,422 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1629, in _toggle_selected_charge_code_active_status
    if self.show_question(
       ^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
    dialog = CustomQuestionDialog(title, message, self)
             ^^^^^^^^^^^^^^^^^^^^
NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1629, in _toggle_selected_charge_code_active_status
    if self.show_question(
       ^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
    dialog = CustomQuestionDialog(title, message, self)
             ^^^^^^^^^^^^^^^^^^^^
NameError: name 'CustomQuestionDialog' is not defined
2025-06-09 14:49:08,593 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 14:49:08,593 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 14:49:08,593 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 14:49:08,593 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 14:49:08,594 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 14:49:08,594 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 14:49:08,601 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 14:49:08,601 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 14:49:08,605 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 14:49:08,605 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 14:49:08,605 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 14:49:08,786 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 14:49:08,788 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 14:49:08,788 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 14:49:08,788 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 14:49:08,788 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 14:49:08,789 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 14:49:08,794 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 14:49:08,891 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 14:49:10,478 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 14:49:17,764 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 14:49:17,926 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 14:49:17,926 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 14:49:17,929 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 14:49:17,942 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 14:49:17,942 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 14:49:17,943 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 14:49:17,943 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 14:49:17,943 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 14:49:17,944 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 14:49:17,949 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 14:49:18,116 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 14:49:18,120 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 14:49:18,122 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 14:49:18,126 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 14:49:18,132 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 14:49:18,139 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 14:49:18,165 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 14:49:18,166 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 14:49:18,167 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 14:49:18,167 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 14:49:18,167 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 14:49:18,167 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 14:49:18,170 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 14:49:18,241 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 14:49:18,242 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 14:49:18,242 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 14:49:18,317 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 14:49:18,320 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:49:18,320 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 14:49:18,335 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 14:49:18,360 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 14:49:18,361 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 14:49:18,365 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 14:49:18,367 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 14:49:18,372 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 14:49:18,373 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 14:49:20,287 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 14:49:20,287 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 14:49:20,289 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 14:49:20,290 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 14:49:20,290 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 14:49:20,290 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 14:49:20,291 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 14:49:20,354 - INFO - UserManagementScreen - user_management_screen:587 - Loading users data for tab...
2025-06-09 14:49:20,359 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 2 users.
2025-06-09 14:49:20,360 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 14:49:20,472 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 14:49:20,473 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 14:49:20,473 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 14:49:20,474 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 14:49:20,474 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 14:49:20,519 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 14:49:23,314 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 14:49:23,315 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 14:49:23,318 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 14:49:23,322 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 14:49:26,641 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 14:49:26,642 - INFO - UserManagementScreen - user_management_screen:1226 - Loading charge code categories/processes data...
2025-06-09 14:49:26,649 - INFO - UserManagementScreen - user_management_screen:1283 - Displayed categories in tree (UI filter: 'active').
2025-06-09 14:49:28,055 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 14:49:28,055 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 14:49:28,060 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 14:49:28,062 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 14:49:34,540 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 14:49:34,541 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 14:49:34,546 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 14:49:34,546 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 2 owners.
2025-06-09 14:49:36,974 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-09 14:49:36,975 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-09 14:51:00,105 - INFO - OwnerController - owner_controller:335 - Master Owner 'Quail Pond Farms (Patrick Kennedy)' (ID: 3) created by tm.
2025-06-09 14:51:01,778 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 14:51:01,778 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-09 14:51:01,781 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 3 owners.
2025-06-09 14:51:07,133 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-09 14:51:07,135 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-09 14:52:13,723 - INFO - OwnerController - owner_controller:335 - Master Owner 'Bradley Coulter' (ID: 4) created by tm.
2025-06-09 14:52:15,529 - INFO - UserManagementScreen - user_management_screen:1763 - Loading owners data for tab...
2025-06-09 14:52:15,530 - INFO - OwnerController - owner_controller:68 - Retrieved 4 master owners (status_filter=active).
2025-06-09 14:52:15,532 - INFO - UserManagementScreen - user_management_screen:1810 - Loaded 4 owners.
2025-06-09 14:58:14,590 - INFO - UserManagementScreen - user_management_screen:468 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 14:58:14,590 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 14:58:14,594 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 14:58:14,596 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 15:00:56,921 - INFO - ChargeCodeController - charge_code_controller:163 - Charge Code '9' created (ID: 3) by tm.
2025-06-09 15:00:58,513 - INFO - UserManagementScreen - user_management_screen:1501 - Loading charge codes data for tab...
2025-06-09 15:00:58,513 - INFO - UserManagementScreen - user_management_screen:1507 - Charge code status filter: active
2025-06-09 15:00:58,518 - INFO - UserManagementScreen - user_management_screen:1559 - Loaded 3 charge codes based on filter 'active'.
2025-06-09 15:01:03,382 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1656, in _delete_selected_charge_code
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
NameError: name 'CustomQuestionDialog' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1656, in _delete_selected_charge_code
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1993, in show_question
NameError: name 'CustomQuestionDialog' is not defined
2025-06-09 15:09:22,633 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 15:09:22,634 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 15:09:22,635 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 15:09:22,635 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 15:09:22,635 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 15:09:22,635 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 15:09:22,642 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 15:09:22,642 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 15:09:22,646 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 15:09:22,646 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 15:09:22,646 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 15:09:22,827 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 15:09:22,829 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 15:09:22,829 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 15:09:22,829 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 15:09:22,829 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 15:09:22,830 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 15:09:22,834 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 15:09:22,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 15:09:25,094 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 15:09:36,345 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 15:09:36,507 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 15:09:36,507 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 15:09:36,510 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 15:09:36,524 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 15:09:36,524 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 15:09:36,525 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 15:09:36,525 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 15:09:36,525 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 15:09:36,527 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 15:09:36,533 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 15:09:36,693 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 15:09:36,697 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 15:09:36,698 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 15:09:36,702 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 15:09:36,708 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 15:09:36,714 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 15:09:36,741 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 15:09:36,741 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 15:09:36,743 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 15:09:36,743 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 15:09:36,743 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 15:09:36,743 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 15:09:36,744 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 15:09:36,817 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 15:09:36,819 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 15:09:36,820 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 15:09:36,897 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 15:09:36,900 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:09:36,901 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 15:09:36,915 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 15:09:36,938 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 15:09:36,938 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 15:09:36,941 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 15:09:36,946 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 15:09:36,951 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:09:36,952 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 15:09:38,886 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 15:09:38,886 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 15:09:38,888 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 15:09:38,889 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 15:09:38,889 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 15:09:38,890 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 15:09:38,890 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 15:09:38,940 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 15:09:38,944 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-09 15:09:38,945 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 15:09:39,038 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 15:09:39,038 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 15:09:39,040 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 15:09:39,040 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 15:09:39,040 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 15:09:39,084 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 15:09:41,074 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 15:09:41,074 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 15:09:41,077 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 15:09:41,082 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 3 charge codes based on filter 'active'.
2025-06-09 15:09:44,559 - INFO - UserManagementScreen - base_view:201 - Asking Question: Confirm Delete - Are you sure you want to permanently delete charge code 'EXAM001'?
This action cannot be undone.
2025-06-09 15:09:48,277 - INFO - ChargeCodeController - charge_code_controller:411 - Charge Code 'EXAM001' (ID: 2) deleted by tm.
2025-06-09 15:09:48,278 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Charge Code 'EXAM001' was successfully deleted.
2025-06-09 15:09:49,629 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 15:09:49,629 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 15:09:49,633 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 2 charge codes based on filter 'active'.
2025-06-09 15:35:33,886 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 15:35:35,839 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 15:35:35,840 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 15:35:35,842 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 15:35:35,843 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 15:35:35,866 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 15:35:35,872 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 15:35:35,875 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 15:48:33,760 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 15:48:33,760 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 15:48:33,761 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 15:48:33,761 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 15:48:33,761 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 15:48:33,761 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 15:48:33,768 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 15:48:33,768 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 15:48:33,772 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 15:48:33,772 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 15:48:33,772 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 15:48:33,951 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 15:48:33,953 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 15:48:33,953 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 15:48:33,954 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 15:48:33,954 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 15:48:33,954 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 15:48:33,958 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 15:48:34,039 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 15:48:36,472 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 15:48:49,107 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 15:48:49,109 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-09 15:48:51,413 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-09 15:49:00,973 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 15:49:01,132 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 15:49:01,132 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 15:49:01,134 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 15:49:01,145 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 15:49:01,145 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 15:49:01,146 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 15:49:01,146 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 15:49:01,146 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 15:49:01,146 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 15:49:01,151 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 15:49:01,319 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 15:49:01,323 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 15:49:01,325 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 15:49:01,329 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 15:49:01,334 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 15:49:01,341 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 15:49:01,366 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 15:49:01,367 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 15:49:01,368 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 15:49:01,369 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 15:49:01,370 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 15:49:01,370 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 15:49:01,370 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 15:49:01,439 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 15:49:01,440 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 15:49:01,440 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 15:49:01,515 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 15:49:01,518 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:49:01,518 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 15:49:01,533 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 15:49:01,559 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 15:49:01,559 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 15:49:01,564 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 15:49:01,566 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 15:49:01,569 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:49:01,570 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 15:49:04,938 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 15:49:04,938 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 15:49:04,940 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 15:49:04,940 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 15:49:04,941 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 15:49:04,941 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 15:49:04,941 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 15:49:04,992 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 15:49:04,995 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 15:49:04,996 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 15:49:05,085 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 15:49:05,085 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 15:49:05,086 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 15:49:05,086 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 15:49:05,086 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 15:49:05,127 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 15:49:08,132 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 15:49:08,132 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 15:49:08,135 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 15:49:08,138 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 0 charge codes based on filter 'active'.
2025-06-09 15:49:24,587 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 15:49:24,588 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 15:49:24,595 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 15:49:27,913 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 15:49:27,913 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 15:49:27,916 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-09 15:49:29,335 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 15:49:29,335 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 15:49:29,340 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 0 locations.
2025-06-09 15:49:30,378 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 15:49:30,379 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 15:49:30,381 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 15:49:36,456 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 15:49:38,287 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 15:49:38,287 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 15:49:38,289 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 15:49:38,290 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 15:49:38,303 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 15:49:38,306 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 15:49:38,306 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 15:51:33,701 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 15:51:33,701 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 15:51:33,702 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 15:51:33,702 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 15:51:33,702 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 15:51:33,702 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 15:51:33,710 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 15:51:33,710 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 15:51:33,714 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 15:51:33,714 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 15:51:33,714 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 15:51:33,894 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 15:51:33,896 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 15:51:33,896 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 15:51:33,896 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 15:51:33,896 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 15:51:33,897 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 15:51:33,901 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 15:51:33,982 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 15:51:37,198 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 15:51:46,008 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 15:51:46,169 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 15:51:46,169 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 15:51:46,171 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 15:51:46,190 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 15:51:46,190 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 15:51:46,191 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 15:51:46,191 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 15:51:46,192 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 15:51:46,192 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 15:51:46,198 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 15:51:46,369 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 15:51:46,372 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 15:51:46,374 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 15:51:46,379 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 15:51:46,384 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 15:51:46,390 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 15:51:46,416 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 15:51:46,416 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 15:51:46,418 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 15:51:46,418 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 15:51:46,418 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 15:51:46,418 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 15:51:46,418 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 15:51:46,487 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 15:51:46,488 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 15:51:46,489 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 15:51:46,563 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 15:51:46,566 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:51:46,567 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 15:51:46,584 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 15:51:46,611 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 15:51:46,611 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 15:51:46,616 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 15:51:46,618 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 15:51:46,620 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 15:51:46,621 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 15:51:48,694 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 15:51:48,695 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 15:51:48,697 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 15:51:48,698 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 15:51:48,698 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 15:51:48,698 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 15:51:48,698 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 15:51:48,751 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 15:51:48,754 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 15:51:48,754 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 15:51:48,852 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 15:51:48,853 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 15:51:48,854 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 15:51:48,854 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 15:51:48,854 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 15:51:48,900 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 15:51:51,974 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 15:51:51,974 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 15:51:51,977 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 15:51:51,981 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 0 charge codes based on filter 'active'.
2025-06-09 15:51:53,721 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 15:51:53,721 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 15:51:53,728 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 15:51:54,674 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 15:51:54,674 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 15:51:54,679 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-09 15:51:55,486 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 15:51:55,486 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 15:51:55,489 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 0 locations.
2025-06-09 15:51:56,360 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 15:51:56,361 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 15:51:56,364 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 15:52:00,689 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 15:52:00,689 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 15:52:00,691 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 0 locations.
2025-06-09 15:52:01,472 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 15:52:01,472 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 15:52:01,475 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-09 15:52:02,305 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 15:52:02,305 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 15:52:02,310 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 15:52:03,580 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 15:52:03,581 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 15:52:03,584 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 15:52:03,585 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 0 charge codes based on filter 'active'.
2025-06-09 15:52:04,329 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 15:52:04,329 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-09 15:52:04,334 - INFO - OwnerController - owner_controller:68 - Retrieved 0 master owners (status_filter=active).
2025-06-09 15:52:04,334 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 0 owners.
2025-06-09 15:52:05,897 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 15:52:07,893 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 15:52:07,893 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 15:52:07,895 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 15:52:07,895 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 15:52:07,908 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 15:52:07,910 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 15:52:07,910 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 17:37:43,075 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 17:37:43,075 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 17:37:43,078 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 17:37:43,078 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 17:37:43,078 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 17:37:43,078 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 17:37:43,086 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 17:37:43,086 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 17:37:43,090 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 17:37:43,091 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 17:37:43,091 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 17:37:43,271 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 17:37:43,273 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 17:37:43,273 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 17:37:43,273 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 17:37:43,274 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 17:37:43,274 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 17:37:43,278 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 17:37:43,359 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 17:37:47,557 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 17:37:56,984 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 17:37:57,145 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 17:37:57,145 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 17:37:57,147 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 17:37:57,160 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 17:37:57,161 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 17:37:57,161 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 17:37:57,161 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 17:37:57,162 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 17:37:57,162 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 17:37:57,168 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 17:37:57,385 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 17:37:57,389 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 17:37:57,391 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 17:37:57,395 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 17:37:57,400 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 17:37:57,406 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 17:37:57,431 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 17:37:57,431 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 17:37:57,433 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 17:37:57,434 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 17:37:57,434 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 17:37:57,434 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 17:37:57,434 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 17:37:57,504 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 17:37:57,505 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 17:37:57,506 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 17:37:57,583 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 17:37:57,586 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 17:37:57,587 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 17:37:57,599 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 17:37:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 17:37:57,630 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 17:37:57,634 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 17:37:57,636 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 17:37:57,640 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 17:37:57,640 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 17:39:18,052 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 17:39:18,053 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 17:39:18,057 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-09 17:39:18,057 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 17:39:18,057 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 17:39:18,058 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 17:39:18,058 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 17:39:18,109 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 17:39:18,113 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 17:39:18,113 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 17:39:18,207 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 17:39:18,208 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 17:39:18,208 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 17:39:18,209 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 17:39:18,209 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 17:39:18,254 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 17:39:21,141 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 17:39:21,141 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 17:39:21,150 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 17:39:22,498 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 17:39:22,498 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 17:39:22,500 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 17:39:22,648 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 17:39:42,262 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 17:39:42,262 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 17:39:42,268 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 17:39:43,573 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 17:39:43,573 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-09 17:39:43,578 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 17:39:43,579 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-09 17:39:46,175 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 17:39:46,175 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 17:39:46,179 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-09 17:39:48,539 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 17:39:48,539 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 17:39:48,544 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-09 17:39:49,788 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-09 17:39:49,789 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 17:39:49,792 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-09 17:50:49,913 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-09 17:51:57,330 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-09 17:51:57,492 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-09 17:51:57,492 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-09 17:51:57,499 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 17:51:57,500 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-09 17:52:00,348 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 17:52:00,348 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 17:52:00,351 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-09 17:52:11,865 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-09 17:54:10,991 - INFO - LocationController - location_controller:128 - Location 'Quail Pond Farms' created by ADMIN.
2025-06-09 17:54:10,991 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Location created successfully.
2025-06-09 17:54:12,697 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 17:54:12,698 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 4 locations.
2025-06-09 17:54:17,254 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 17:54:17,255 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 17:54:17,257 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-09 17:55:11,282 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzerisi' created by ADMIN.
2025-06-09 17:55:12,973 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 17:55:12,975 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-09 17:55:12,977 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Veterinarian added successfully.
2025-06-09 17:55:17,809 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 17:55:17,809 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 17:55:17,816 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 17:55:19,015 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 17:55:19,016 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 17:55:19,018 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 17:55:19,165 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 17:57:27,653 - INFO - UserManagementScreen - base_view:201 - Asking Question: Confirm Delete - Are you sure you want to permanently delete charge code '981'?
This action cannot be undone.
2025-06-09 18:00:17,227 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 18:06:26,596 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 18:06:26,596 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 18:06:26,597 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 18:06:26,597 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 18:06:26,597 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 18:06:26,597 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 18:06:26,604 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 18:06:26,604 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 18:06:26,608 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 18:06:26,608 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 18:06:26,609 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 18:06:26,788 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 18:06:26,790 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 18:06:26,790 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 18:06:26,790 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 18:06:26,791 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 18:06:26,791 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 18:06:26,795 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 18:06:26,880 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 18:06:28,181 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 18:06:36,008 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 18:06:36,168 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 18:06:36,169 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 18:06:36,171 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 18:06:36,185 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 18:06:36,186 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 18:06:36,186 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 18:06:36,186 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 18:06:36,186 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 18:06:36,187 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 18:06:36,193 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 18:06:36,346 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 18:06:36,349 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 18:06:36,351 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 18:06:36,355 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 18:06:36,360 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 18:06:36,365 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 18:06:36,390 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 18:06:36,391 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 18:06:36,392 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 18:06:36,392 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 18:06:36,392 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 18:06:36,392 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 18:06:36,392 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 18:06:36,460 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 18:06:36,462 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 18:06:36,462 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 18:06:36,536 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 18:06:36,539 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:06:36,540 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 18:06:36,557 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 18:06:36,590 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 18:06:36,590 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:06:36,595 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-09 18:06:36,597 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-09 18:06:36,600 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:06:36,600 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 18:06:39,449 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 18:06:39,451 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 18:06:39,454 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 18:06:39,455 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 18:06:39,455 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 18:06:39,456 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 18:06:39,456 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 18:06:39,505 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 18:06:39,508 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-09 18:06:39,509 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 18:06:39,602 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 18:06:39,603 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 18:06:39,603 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 18:06:39,603 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 18:06:39,604 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 18:06:39,650 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 18:06:44,235 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 18:06:44,235 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:06:44,239 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 18:06:44,394 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 18:06:58,101 - INFO - ChargeCodeController - charge_code_controller:321 - Charge Code '107' (ID: 5) updated by tm.
2025-06-09 18:06:58,102 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Charge code updated successfully.
2025-06-09 18:07:00,343 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:07:00,343 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 18:07:00,499 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 18:07:36,423 - INFO - UserManagementScreen - base_view:201 - Asking Question: Confirm Deactivate - Are you sure you want to deactivate charge code '107 - TREATMENT WITH PANACUR POWER PAC'?
2025-06-09 18:08:01,183 - INFO - UserManagementScreen - base_view:201 - Asking Question: Confirm Deactivate - Are you sure you want to deactivate charge code '107 - TREATMENT WITH PANACUR POWER PAC'?
2025-06-09 18:08:02,755 - INFO - ChargeCodeController - charge_code_controller:363 - Charge Code '107' (ID: 5) status changed to inactive by tm.
2025-06-09 18:08:02,755 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Charge code '107' status set to inactive.
2025-06-09 18:08:11,504 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:08:11,505 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 18:08:11,654 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 413 charge codes based on filter 'active'.
2025-06-09 18:08:16,310 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:08:16,311 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: inactive
2025-06-09 18:08:16,317 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 1 charge codes based on filter 'inactive'.
2025-06-09 18:08:20,033 - INFO - UserManagementScreen - base_view:201 - Asking Question: Confirm Activate - Are you sure you want to activate charge code '107 - TREATMENT WITH PANACUR POWER PAC'?
2025-06-09 18:08:21,944 - INFO - ChargeCodeController - charge_code_controller:363 - Charge Code '107' (ID: 5) status changed to active by tm.
2025-06-09 18:08:21,944 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Charge code '107' status set to active.
2025-06-09 18:08:23,400 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:08:23,401 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: inactive
2025-06-09 18:08:23,404 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 0 charge codes based on filter 'inactive'.
2025-06-09 18:08:28,459 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 18:08:28,459 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 18:08:28,617 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 18:10:15,593 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 18:10:15,593 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-09 18:10:15,597 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 18:10:15,598 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-09 18:10:39,898 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-09 18:13:42,588 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-09 18:13:42,594 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by tm.
2025-06-09 18:13:44,348 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-09 18:13:48,501 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 18:13:54,197 - INFO - HorseUnifiedManagement - horse_unified_management:1022 - add_new_horse: START
2025-06-09 18:13:54,197 - INFO - BasicInfoTab - basic_info_tab:598 - BasicInfoTab set_new_mode: True
2025-06-09 18:13:54,205 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - add_new_horse: FINISHED
2025-06-09 18:16:39,703 - INFO - HorseUnifiedManagement - horse_unified_management:1120 - save_changes: START
2025-06-09 18:16:39,703 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:16:39,707 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:16:39,708 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:16:39,717 - INFO - HorseController - horse_controller:152 - Horse 'Daisy' (ID: 1) created successfully by tm.
2025-06-09 18:16:39,717 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'Daisy' created successfully.
2025-06-09 18:16:39,717 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Daisy' created successfully.
2025-06-09 18:16:41,434 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:16:41,434 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:16:41,439 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-09 18:16:41,442 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-09 18:16:41,442 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:16:41,444 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:16:41,450 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:16:41,452 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:16:41,452 - INFO - HorseUnifiedManagement - horse_unified_management:1245 - save_changes: FINISHED
2025-06-09 18:16:50,335 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Daisy
2025-06-09 18:16:56,730 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Quail Pond Farms (Sarah Davis) [SD001]
2025-06-09 18:16:59,378 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-09 18:16:59,386 - INFO - HorseController - horse_controller:428 - Owner ID 2 added to horse ID 1 by tm.
2025-06-09 18:16:59,387 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-09 18:17:01,224 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-09 18:17:01,224 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:17:01,228 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:17:01,232 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:17:01,235 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:17:04,662 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Daisy
2025-06-09 18:17:04,669 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-09 18:17:06,056 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 4, Display: Quail Pond Farms (Waterford Works, NJ)
2025-06-09 18:17:07,447 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 4 ('Quail Pond Farms') to Horse ID 1
2025-06-09 18:17:07,453 - INFO - HorseController - horse_controller:539 - Horse ID 1 assigned to location ID 4 by tm.
2025-06-09 18:17:07,453 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 4 to Horse ID 1. Emitting signal.
2025-06-09 18:17:07,453 - INFO - HorseUnifiedManagement - horse_unified_management:872 - Received location_assignment_changed: {'id': 4, 'name': 'Quail Pond Farms'}
2025-06-09 18:17:07,454 - INFO - HorseUnifiedManagement - horse_unified_management:875 - Location changed for horse ID 1. Reloading details.
2025-06-09 18:17:07,454 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:17:07,456 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:17:07,459 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:17:07,460 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:17:07,460 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-09 18:17:22,486 - INFO - HorseUnifiedManagement - horse_unified_management:1482 - edit_selected_horse triggered. Item: False
2025-06-09 18:17:22,487 - INFO - BasicInfoTab - basic_info_tab:612 - BasicInfoTab set_edit_mode: True
2025-06-09 18:17:36,530 - INFO - HorseUnifiedManagement - horse_unified_management:1022 - add_new_horse: START
2025-06-09 18:17:36,530 - INFO - BasicInfoTab - basic_info_tab:598 - BasicInfoTab set_new_mode: True
2025-06-09 18:17:36,537 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - add_new_horse: FINISHED
2025-06-09 18:17:38,289 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-06-09 18:17:44,290 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-06-09 18:17:48,290 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-06-09 18:17:49,768 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:17:49,770 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:17:49,774 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:17:49,775 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:17:58,911 - INFO - HorseUnifiedManagement - horse_unified_management:1088 - handle_toggle_active_status_from_tab: Requested: False
2025-06-09 18:17:58,911 - INFO - HorseUnifiedManagement - horse_unified_management:1579 - handle_toggle_active_status: Received request.
2025-06-09 18:17:58,914 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Deactivate - Are you sure you want to deactivate horse 'Daisy'?
2025-06-09 18:18:01,298 - INFO - HorseUnifiedManagement - horse_unified_management:1623 - handle_toggle_active_status: User cancelled.
2025-06-09 18:24:05,922 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 18:24:05,923 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 18:24:05,923 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 18:24:05,923 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 18:24:05,924 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 18:24:05,924 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 18:24:05,931 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 18:24:05,931 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 18:24:05,935 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 18:24:05,935 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 18:24:05,935 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 18:24:06,113 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 18:24:06,115 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 18:24:06,115 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 18:24:06,115 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 18:24:06,115 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 18:24:06,116 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 18:24:06,120 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 18:24:06,210 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 18:24:07,736 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 18:24:15,614 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 18:24:15,774 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 18:24:15,775 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 18:24:15,777 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 18:24:15,791 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 18:24:15,792 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 18:24:15,793 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 18:24:15,793 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 18:24:15,793 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 18:24:15,794 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 18:24:15,801 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 18:24:15,955 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 18:24:15,959 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 18:24:15,961 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 18:24:15,965 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 18:24:15,970 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 18:24:15,976 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 18:24:16,001 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 18:24:16,001 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 18:24:16,002 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 18:24:16,002 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 18:24:16,002 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 18:24:16,003 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 18:24:16,004 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 18:24:16,074 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 18:24:16,076 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 18:24:16,076 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 18:24:16,152 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 18:24:16,154 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:24:16,154 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 18:24:16,170 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 18:24:16,198 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 18:24:16,199 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:24:16,209 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-09 18:24:16,215 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-09 18:24:16,216 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:24:16,221 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:24:16,229 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:24:16,236 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:24:16,236 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 18:24:26,106 - INFO - HorseUnifiedManagement - horse_unified_management:1482 - edit_selected_horse triggered. Item: False
2025-06-09 18:24:26,107 - INFO - BasicInfoTab - basic_info_tab:507 - BasicInfoTab set_edit_mode: True
2025-06-09 18:24:30,545 - INFO - HorseUnifiedManagement - horse_unified_management:1120 - save_changes: START
2025-06-09 18:24:33,343 - INFO - HorseUnifiedManagement - horse_unified_management:1022 - add_new_horse: START
2025-06-09 18:24:33,344 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-09 18:24:33,348 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - add_new_horse: FINISHED
2025-06-09 18:25:48,913 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 18:25:48,913 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 18:25:48,916 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 18:25:48,917 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 18:25:48,943 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 18:25:48,965 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 18:25:48,966 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 18:25:55,377 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 18:25:55,377 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 18:25:55,377 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 18:25:55,377 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 18:25:55,377 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 18:25:55,378 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 18:25:55,384 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 18:25:55,384 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 18:25:55,388 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 18:25:55,389 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 18:25:55,389 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 18:25:55,570 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 18:25:55,572 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 18:25:55,572 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 18:25:55,572 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 18:25:55,572 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 18:25:55,573 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 18:25:55,577 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 18:25:55,658 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 18:25:57,333 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 18:26:07,760 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 18:26:07,922 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 18:26:07,923 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 18:26:07,925 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 18:26:07,938 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 18:26:07,938 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 18:26:07,939 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 18:26:07,939 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 18:26:07,940 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 18:26:07,940 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 18:26:07,947 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 18:26:08,103 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 18:26:08,107 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 18:26:08,108 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 18:26:08,113 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 18:26:08,118 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 18:26:08,124 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 18:26:08,150 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 18:26:08,151 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 18:26:08,151 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 18:26:08,151 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 18:26:08,151 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 18:26:08,152 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 18:26:08,152 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 18:26:08,222 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 18:26:08,223 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 18:26:08,223 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 18:26:08,298 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 18:26:08,301 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:26:08,301 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 18:26:08,316 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 18:26:08,346 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 18:26:08,346 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:26:08,354 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-09 18:26:08,364 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-09 18:26:08,364 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:26:08,370 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:26:08,377 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:26:08,384 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:26:08,384 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 18:26:15,448 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Daisy
2025-06-09 18:26:18,224 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-09 18:26:23,816 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 18:26:41,553 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 18:28:57,537 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 18:28:57,537 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 18:28:57,541 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 18:28:57,541 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 18:28:57,563 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 18:28:57,568 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 18:28:57,574 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 18:29:01,980 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 18:29:01,980 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 18:29:01,981 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 18:29:01,981 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 18:29:01,981 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 18:29:01,981 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 18:29:01,988 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 18:29:01,988 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 18:29:01,991 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 18:29:01,992 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 18:29:01,992 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 18:29:02,172 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 18:29:02,173 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 18:29:02,174 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 18:29:02,174 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 18:29:02,174 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 18:29:02,174 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 18:29:02,179 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 18:29:02,259 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 18:29:03,641 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 18:29:11,881 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 18:29:12,040 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 18:29:12,041 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 18:29:12,043 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 18:29:12,056 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 18:29:12,056 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 18:29:12,057 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 18:29:12,057 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 18:29:12,057 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 18:29:12,057 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 18:29:12,065 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 18:29:12,216 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 18:29:12,219 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 18:29:12,221 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 18:29:12,225 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 18:29:12,229 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 18:29:12,235 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 18:29:12,260 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 18:29:12,261 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 18:29:12,261 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 18:29:12,261 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 18:29:12,261 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 18:29:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 18:29:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 18:29:12,330 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 18:29:12,331 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 18:29:12,331 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 18:29:12,407 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 18:29:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:29:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 18:29:12,421 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 18:29:12,445 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 18:29:12,446 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:29:12,453 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-09 18:29:12,458 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-09 18:29:12,459 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:29:12,464 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:29:12,472 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:29:12,479 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:29:12,479 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 18:29:26,548 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 18:29:44,449 - INFO - HorseUnifiedManagement - horse_unified_management:1022 - add_new_horse: START
2025-06-09 18:29:44,449 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-09 18:29:44,453 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - add_new_horse: FINISHED
2025-06-09 18:30:05,304 - INFO - HorseUnifiedManagement - horse_unified_management:1120 - save_changes: START
2025-06-09 18:30:05,305 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:30:05,307 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:30:05,307 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored.
2025-06-09 18:30:05,317 - INFO - HorseController - horse_controller:152 - Horse 'Doroni' (ID: 2) created successfully by tm.
2025-06-09 18:30:05,317 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'Doroni' created successfully.
2025-06-09 18:30:05,317 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Doroni' created successfully.
2025-06-09 18:30:07,514 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 18:30:07,514 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:30:07,518 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-09 18:30:07,521 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-09 18:30:07,521 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 18:30:07,523 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 18:30:07,524 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 18:30:07,524 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 18:30:07,524 - INFO - HorseUnifiedManagement - horse_unified_management:1245 - save_changes: FINISHED
2025-06-09 18:30:11,973 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-09 18:30:13,524 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-09 18:30:14,630 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 2
2025-06-09 18:30:14,639 - INFO - HorseController - horse_controller:428 - Owner ID 1 added to horse ID 2 by tm.
2025-06-09 18:30:14,639 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-09 18:30:16,083 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-09 18:30:16,083 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 18:30:16,087 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 18:30:16,089 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 18:30:16,089 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 18:30:18,337 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-09 18:30:18,342 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-09 18:30:19,360 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-09 18:30:20,321 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 2
2025-06-09 18:30:20,328 - INFO - HorseController - horse_controller:539 - Horse ID 2 assigned to location ID 3 by tm.
2025-06-09 18:30:20,328 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 2. Emitting signal.
2025-06-09 18:30:20,328 - INFO - HorseUnifiedManagement - horse_unified_management:872 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-09 18:30:20,329 - INFO - HorseUnifiedManagement - horse_unified_management:875 - Location changed for horse ID 2. Reloading details.
2025-06-09 18:30:20,329 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 18:30:20,331 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 18:30:20,332 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 18:30:20,333 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 18:30:20,333 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-09 18:30:36,252 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 18:45:22,319 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 18:45:22,319 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 18:45:22,323 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 18:45:22,323 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 18:45:22,336 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 18:45:22,357 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 18:45:22,358 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 18:47:09,648 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 18:47:09,649 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 18:47:09,649 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 18:47:09,649 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 18:47:09,649 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 18:47:09,649 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 18:47:09,657 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 18:47:09,657 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 18:47:09,661 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 18:47:09,661 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 18:47:09,662 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 18:47:09,843 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 18:47:09,845 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 18:47:09,845 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 18:47:09,845 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 18:47:09,845 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 18:47:09,846 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 18:47:09,850 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 18:47:09,940 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 18:47:11,997 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 18:47:21,848 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 18:47:22,009 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 18:47:22,009 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 18:47:22,012 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 18:47:22,025 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 18:47:22,025 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 18:47:22,026 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 18:47:22,028 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 18:47:22,029 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 18:47:22,029 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 18:47:22,035 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 18:47:22,220 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 18:47:22,224 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 18:47:22,226 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 18:47:22,230 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 18:47:22,236 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 18:47:22,242 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 18:47:22,268 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 18:47:22,269 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 18:47:22,270 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 18:47:22,270 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 18:47:22,270 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 18:47:22,270 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 18:47:22,270 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 18:47:22,342 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 18:47:22,344 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 18:47:22,344 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 18:47:22,424 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 18:47:22,426 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 18:47:22,426 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 18:47:22,444 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 18:47:22,473 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 18:47:22,473 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 18:47:22,482 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-09 18:47:22,488 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-09 18:47:22,488 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 18:47:22,494 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 18:47:22,501 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 18:47:22,507 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 18:47:22,508 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 18:47:29,280 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 19:36:02,554 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 19:36:02,555 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 19:36:02,555 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 19:36:02,555 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 19:36:02,555 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 19:36:02,555 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 19:36:02,568 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 19:36:02,569 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 19:36:02,598 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 19:36:02,599 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 19:36:02,599 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 19:36:02,792 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 19:36:02,793 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 19:36:02,794 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 19:36:02,794 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 19:36:02,794 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 19:36:02,794 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 19:36:02,806 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 19:36:02,897 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 19:36:06,109 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 19:36:17,228 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 19:36:17,390 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 19:36:17,390 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 19:36:17,393 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 19:36:17,406 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 19:36:17,406 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 19:36:17,407 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 19:36:17,407 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 19:36:17,408 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 19:36:17,408 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 19:36:17,420 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 19:36:18,813 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 19:36:18,817 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 19:36:18,818 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 19:36:18,822 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 19:36:18,828 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 19:36:18,834 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 19:36:18,859 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 19:36:18,860 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 19:36:18,861 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 19:36:18,862 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 19:36:18,863 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 19:36:18,863 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 19:36:18,863 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 19:36:18,936 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 19:36:18,938 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 19:36:18,938 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 19:36:19,025 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 19:36:19,028 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 19:36:19,028 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 19:36:19,048 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 19:36:19,075 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 19:36:19,075 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 19:36:19,083 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-09 19:36:19,090 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-09 19:36:19,091 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 19:36:19,100 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 19:36:19,108 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 19:36:19,115 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 19:36:19,115 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 19:36:24,388 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\dialogs\add_charge_dialog.py", line 346, in _load_initial_data
    self.financial_controller.get_charge_codes_for_lookup()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FinancialController' object has no attribute 'get_charge_codes_for_lookup'
2025-06-09 19:43:05,038 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 19:43:05,038 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 19:43:05,039 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 19:43:05,040 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 19:43:05,040 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 19:43:05,040 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 19:43:05,047 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 19:43:05,047 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 19:43:05,051 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 19:43:05,053 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 19:43:05,053 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 19:43:05,233 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 19:43:05,234 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 19:43:05,235 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 19:43:05,235 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 19:43:05,235 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 19:43:05,235 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 19:43:05,240 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 19:43:05,324 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 19:43:06,908 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 19:43:18,222 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 19:43:18,384 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 19:43:18,384 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 19:43:18,386 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 19:43:18,401 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 19:43:18,401 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 19:43:18,402 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 19:43:18,402 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 19:43:18,403 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 19:43:18,403 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 19:43:18,408 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 19:43:18,561 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-09 19:43:18,564 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-09 19:43:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-09 19:43:18,570 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-09 19:43:18,576 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-09 19:43:18,583 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-09 19:43:18,610 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 19:43:18,610 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-09 19:43:18,611 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-09 19:43:18,611 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-09 19:43:18,611 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-09 19:43:18,612 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 19:43:18,612 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 19:43:18,681 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 19:43:18,682 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 19:43:18,682 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 19:43:18,762 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-09 19:43:18,764 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-09 19:43:18,764 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 19:43:18,781 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 19:43:18,809 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-09 19:43:18,809 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-09 19:43:18,818 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-09 19:43:18,828 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-09 19:43:18,829 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 19:43:18,834 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 19:43:18,843 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 19:43:18,851 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 19:43:18,854 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 19:43:48,297 - INFO - FinancialController - financial_controller:290 - Successfully added 2 charges for horse ID 1.
2025-06-09 19:43:48,306 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 1.
2025-06-09 19:43:56,774 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 19:43:56,777 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 19:43:56,779 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 19:43:56,780 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 19:43:59,161 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-09 19:43:59,163 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 19:43:59,165 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 1.
2025-06-09 19:43:59,166 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 19:45:15,773 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 1 separate invoice(s) for all owners of Daisy, splitting a total of $155.00 based on their ownership percentage.

Proceed?
2025-06-09 19:45:28,886 - INFO - FinancialController - financial_controller:103 - --- Starting Invoice Generation for transaction IDs: [1, 2] ---
2025-06-09 19:45:28,899 - INFO - FinancialController - financial_controller:207 - --- Invoice Generation Complete. 1 invoices created. ---
2025-06-09 19:45:28,900 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 19:45:45,652 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 2
2025-06-09 19:45:45,654 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 19:45:45,657 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 19:45:45,657 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 19:46:03,644 - INFO - FinancialController - financial_controller:290 - Successfully added 1 charges for horse ID 2.
2025-06-09 19:46:03,654 - INFO - FinancialController - financial_controller:241 - Retrieved 1 ACTIVE transactions for horse ID 2.
2025-06-09 19:46:07,478 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 1 separate invoice(s) for all owners of Doroni, splitting a total of $130.00 based on their ownership percentage.

Proceed?
2025-06-09 19:46:10,219 - INFO - FinancialController - financial_controller:103 - --- Starting Invoice Generation for transaction IDs: [5] ---
2025-06-09 19:46:10,227 - INFO - FinancialController - financial_controller:207 - --- Invoice Generation Complete. 1 invoices created. ---
2025-06-09 19:46:10,227 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 20:31:03,615 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 20:31:03,616 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 20:31:03,617 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 20:31:03,617 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 20:31:03,617 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 20:31:03,617 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 20:31:03,624 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 20:31:03,624 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 20:31:03,627 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 20:31:03,628 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 20:31:03,628 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 20:31:03,808 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 20:31:03,810 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 20:31:03,810 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 20:31:03,810 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 20:31:03,811 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 20:31:03,811 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 20:31:03,816 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 20:31:03,902 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 20:31:05,557 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 20:31:14,949 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 20:31:15,111 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 20:31:15,111 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 20:31:15,114 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 20:31:15,127 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 20:31:15,127 - INFO - HorseUnifiedManagement - horse_unified_management:108 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 20:31:15,128 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 20:31:15,128 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 20:31:15,129 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 20:31:15,129 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 20:31:15,135 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 20:31:15,278 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-09 20:31:15,281 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-09 20:31:15,283 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-09 20:31:15,287 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-09 20:31:15,293 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-09 20:31:15,300 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-09 20:31:15,326 - INFO - HorseUnifiedManagement - horse_unified_management:1697 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 20:31:15,327 - INFO - HorseUnifiedManagement - horse_unified_management:1721 - Connecting BasicInfoTab signals.
2025-06-09 20:31:15,327 - INFO - HorseUnifiedManagement - horse_unified_management:1737 - Connecting OwnersTab signals.
2025-06-09 20:31:15,328 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting LocationTab signals.
2025-06-09 20:31:15,328 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting InvoiceHistoryTab signals.
2025-06-09 20:31:15,328 - INFO - HorseUnifiedManagement - horse_unified_management:1764 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 20:31:15,328 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 20:31:15,400 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 20:31:15,401 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 20:31:15,401 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 20:31:15,478 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-09 20:31:15,479 - INFO - HorseUnifiedManagement - horse_unified_management:380 - display_empty_state: FINISHED
2025-06-09 20:31:15,479 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 20:31:15,497 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 20:31:15,525 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-09 20:31:15,526 - INFO - HorseUnifiedManagement - horse_unified_management:1318 - load_horses: Filter status: 'active', Search: ''
2025-06-09 20:31:15,535 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-09 20:31:15,546 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-09 20:31:15,547 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 1
2025-06-09 20:31:15,553 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 20:31:15,562 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 20:31:15,572 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 20:31:15,573 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 20:31:18,176 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 2
2025-06-09 20:31:18,179 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 2: Doroni
2025-06-09 20:31:18,181 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 20:31:18,182 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 20:31:38,342 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-09 20:31:48,537 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-09 20:31:51,596 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-09 20:31:51,602 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-09 20:31:54,680 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-09 20:32:39,301 - INFO - FinancialController - financial_controller:290 - Successfully added 2 charges for horse ID 2.
2025-06-09 20:32:39,310 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 2.
2025-06-09 20:32:45,196 - INFO - FinancialController - financial_controller:397 - Retrieved transaction ID 7 with its charge code.
2025-06-09 20:32:59,997 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 1 separate invoice(s) for all owners of Doroni, splitting a total of $205.00 based on their ownership percentage.

Proceed?
2025-06-09 20:33:04,935 - INFO - FinancialController - financial_controller:103 - --- Starting Invoice Generation for transaction IDs: [7, 8] ---
2025-06-09 20:33:04,950 - INFO - FinancialController - financial_controller:207 - --- Invoice Generation Complete. 1 invoices created. ---
2025-06-09 20:33:04,951 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 20:33:04,952 - INFO - HorseUnifiedManagement - horse_unified_management:1692 - Invoice created signal received, refreshing history tab.
2025-06-09 20:33:30,337 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #3 at C:/Projects/EDMS/Invoice-3.pdf
2025-06-09 20:34:00,690 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - add_new_horse: START
2025-06-09 20:34:00,690 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-09 20:34:00,695 - INFO - HorseUnifiedManagement - horse_unified_management:1068 - add_new_horse: FINISHED
2025-06-09 20:34:55,995 - INFO - HorseUnifiedManagement - horse_unified_management:1126 - save_changes: START
2025-06-09 20:34:55,995 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored.
2025-06-09 20:34:55,997 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored.
2025-06-09 20:34:55,998 - WARNING - HorseController - horse_controller:127 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored.
2025-06-09 20:34:56,006 - INFO - HorseController - horse_controller:152 - Horse 'Robolo' (ID: 3) created successfully by tm.
2025-06-09 20:34:56,006 - INFO - HorseUnifiedManagement - horse_unified_management:1193 - save_changes: Save successful. Message: Horse 'Robolo' created successfully.
2025-06-09 20:34:56,006 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Robolo' created successfully.
2025-06-09 20:34:58,076 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:34:58,076 - INFO - HorseUnifiedManagement - horse_unified_management:1318 - load_horses: Filter status: 'active', Search: ''
2025-06-09 20:34:58,079 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 20:34:58,084 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 20:34:58,084 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 3
2025-06-09 20:34:58,086 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:34:58,088 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:34:58,090 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:34:58,090 - INFO - HorseUnifiedManagement - horse_unified_management:1251 - save_changes: FINISHED
2025-06-09 20:35:01,373 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Robolo
2025-06-09 20:35:02,735 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-09 20:35:03,865 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 3
2025-06-09 20:35:03,874 - INFO - HorseController - horse_controller:428 - Owner ID 1 added to horse ID 3 by tm.
2025-06-09 20:35:03,875 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-09 20:35:06,038 - INFO - HorseUnifiedManagement - horse_unified_management:1087 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-09 20:35:06,038 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 3
2025-06-09 20:35:06,040 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:35:06,042 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:35:06,043 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:35:08,181 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Robolo
2025-06-09 20:35:08,185 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-09 20:35:11,126 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-09 20:35:12,034 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 3
2025-06-09 20:35:12,040 - INFO - HorseController - horse_controller:539 - Horse ID 3 assigned to location ID 2 by tm.
2025-06-09 20:35:12,041 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 3. Emitting signal.
2025-06-09 20:35:12,041 - INFO - HorseUnifiedManagement - horse_unified_management:878 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-09 20:35:12,041 - INFO - HorseUnifiedManagement - horse_unified_management:881 - Location changed for horse ID 3. Reloading details.
2025-06-09 20:35:12,041 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 3
2025-06-09 20:35:12,043 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:35:12,044 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:35:12,045 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:35:12,045 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-09 20:35:40,965 - INFO - FinancialController - financial_controller:290 - Successfully added 2 charges for horse ID 3.
2025-06-09 20:35:40,977 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 20:35:44,619 - INFO - OwnersTab - owners_tab:215 - Owner ID 1 selected.
2025-06-09 20:35:56,558 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 1 on horse ID 3 to 70.0%
2025-06-09 20:35:56,564 - INFO - HorseController - horse_controller:457 - Ownership percentage updated for horse ID 3, owner ID 1 by tm.
2025-06-09 20:35:56,564 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-09 20:35:58,276 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-09 20:35:58,277 - INFO - HorseUnifiedManagement - horse_unified_management:1087 - _on_owner_association_changed: Ownership percentage updated.
2025-06-09 20:35:58,277 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 3
2025-06-09 20:35:58,279 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:35:58,282 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 20:35:58,282 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:35:59,727 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Robolo
2025-06-09 20:36:01,500 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Quail Pond Farms (Sarah Davis) [SD001]
2025-06-09 20:36:15,243 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 30.0% to horse ID 3
2025-06-09 20:36:15,249 - INFO - HorseController - horse_controller:428 - Owner ID 2 added to horse ID 3 by tm.
2025-06-09 20:36:15,250 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-09 20:36:17,098 - INFO - HorseUnifiedManagement - horse_unified_management:1087 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-09 20:36:17,098 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 3
2025-06-09 20:36:17,103 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:36:17,104 - INFO - FinancialController - financial_controller:241 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 20:36:17,106 - INFO - HorseUnifiedManagement - horse_unified_management:1025 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:36:30,774 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Robolo, splitting a total of $105.00 based on their ownership percentage.

Proceed?
2025-06-09 20:36:32,450 - INFO - FinancialController - financial_controller:103 - --- Starting Invoice Generation for transaction IDs: [11, 12] ---
2025-06-09 20:36:32,458 - INFO - FinancialController - financial_controller:207 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-09 20:36:32,459 - INFO - FinancialController - financial_controller:241 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:36:32,460 - INFO - HorseUnifiedManagement - horse_unified_management:1692 - Invoice created signal received, refreshing history tab.
2025-06-09 20:37:24,906 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:/Projects/EDMS/Invoice-1.pdf
2025-06-09 20:50:44,900 - INFO - HorseUnifiedManagement - horse_unified_management:1633 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-09 20:50:44,901 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-09 20:50:44,904 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-09 20:50:44,904 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 20:50:44,904 - WARNING - HorseUnifiedManagement - horse_unified_management:548 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 20:50:44,905 - WARNING - HorseUnifiedManagement - horse_unified_management:551 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 20:50:44,950 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 20:50:44,950 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 20:52:34,594 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 20:52:34,594 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 20:52:34,595 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 20:52:34,595 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 20:52:34,595 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 20:52:34,595 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 20:52:34,603 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 20:52:34,604 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 20:52:34,607 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 20:52:34,608 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 20:52:34,608 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 20:52:34,787 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 20:52:34,788 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 20:52:34,789 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 20:52:34,789 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 20:52:34,789 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 20:52:34,790 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 20:52:34,794 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 20:52:34,886 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 20:52:36,523 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 20:52:53,735 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 20:52:53,896 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 20:52:53,896 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 20:52:53,899 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 20:52:53,916 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 20:52:53,916 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 20:52:53,917 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 20:52:53,917 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 20:52:53,917 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 20:52:53,918 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 20:52:53,923 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 20:52:54,088 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 20:52:54,092 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 20:52:54,093 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 20:52:54,098 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 20:52:54,103 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 20:52:54,109 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 20:52:54,134 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 20:52:54,135 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 20:52:54,137 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 20:52:54,137 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 20:52:54,137 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 20:52:54,137 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 20:52:54,137 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 20:52:54,206 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 20:52:54,208 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 20:52:54,209 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 20:52:54,285 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 20:52:54,287 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 20:52:54,287 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 20:52:54,301 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 20:52:54,328 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 20:52:54,328 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 20:52:54,335 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 20:52:54,344 - INFO - HorseController - horse_controller:310 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 20:52:54,345 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 20:52:54,351 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 1: Daisy
2025-06-09 20:52:54,357 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 20:52:54,364 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 20:52:54,365 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 20:52:59,925 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-09 20:52:59,927 - INFO - HorseController - horse_controller:256 - Retrieved horse ID 3: Robolo
2025-06-09 20:52:59,929 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:52:59,931 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 20:53:13,709 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-2?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 20:53:15,962 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #2 for owner '1'. Reversing balance by $130.00.
2025-06-09 20:53:15,969 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #2 and adjusted owner balance.
2025-06-09 20:53:15,970 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 20:53:15,973 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:53:18,793 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-3?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 20:53:19,939 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #3 for owner '1'. Reversing balance by $205.00.
2025-06-09 20:53:19,944 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #3 and adjusted owner balance.
2025-06-09 20:53:19,945 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 20:53:19,947 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:53:21,989 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-4?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 20:53:23,123 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #4 for owner '1'. Reversing balance by $73.50.
2025-06-09 20:53:23,129 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #4 and adjusted owner balance.
2025-06-09 20:53:23,130 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 20:53:23,132 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:53:25,786 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-1?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 20:53:27,467 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #1 for owner '2'. Reversing balance by $155.00.
2025-06-09 20:53:27,472 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #1 and adjusted owner balance.
2025-06-09 20:53:27,473 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 20:53:27,475 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:53:31,270 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-5?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 20:53:32,422 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #5 for owner '2'. Reversing balance by $31.50.
2025-06-09 20:53:32,427 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #5 and adjusted owner balance.
2025-06-09 20:53:32,428 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 20:53:32,430 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:55:06,935 - INFO - FinancialController - financial_controller:294 - Successfully added 3 charges for horse ID 3.
2025-06-09 20:55:06,945 - INFO - FinancialController - financial_controller:245 - Retrieved 3 ACTIVE transactions for horse ID 3.
2025-06-09 20:55:42,177 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Robolo, splitting a total of $215.00 based on their ownership percentage.

Proceed?
2025-06-09 20:55:50,954 - INFO - FinancialController - financial_controller:107 - --- Starting Invoice Generation for transaction IDs: [13, 14, 15] ---
2025-06-09 20:55:50,967 - INFO - FinancialController - financial_controller:211 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-09 20:55:50,968 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 20:55:50,969 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-09 20:56:27,181 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:/Projects/EDMS/Invoice-1.pdf
2025-06-09 20:57:31,555 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:/Projects/EDMS/Invoice-2.pdf
2025-06-09 21:09:44,392 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-09 21:09:44,392 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-09 21:09:44,395 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-09 21:09:44,396 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 21:09:44,396 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 21:09:44,397 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 21:09:44,410 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 21:09:44,412 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 21:14:23,890 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 21:14:23,891 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 21:14:23,891 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 21:14:23,892 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 21:14:23,892 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 21:14:23,892 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 21:14:23,899 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 21:14:23,899 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 21:14:23,903 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 21:14:23,904 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 21:14:23,904 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 21:14:24,083 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 21:14:24,085 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 21:14:24,085 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 21:14:24,086 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 21:14:24,086 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 21:14:24,086 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 21:14:24,090 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 21:14:24,176 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 21:14:25,377 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 21:14:35,949 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 21:14:36,109 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 21:14:36,109 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 21:14:36,112 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 21:14:36,127 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 21:14:36,128 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 21:14:36,128 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 21:14:36,128 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 21:14:36,129 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 21:14:36,130 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 21:14:36,135 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 21:14:36,295 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 21:14:36,299 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 21:14:36,300 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 21:14:36,304 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 21:14:36,310 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 21:14:36,316 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 21:14:36,343 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 21:14:36,343 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 21:14:36,345 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 21:14:36,345 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 21:14:36,345 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 21:14:36,345 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 21:14:36,345 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 21:14:36,416 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 21:14:36,418 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 21:14:36,418 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 21:14:36,494 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 21:14:36,496 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 21:14:36,496 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 21:14:36,506 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 21:14:36,534 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 21:14:36,534 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 21:14:36,541 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 21:14:36,550 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 21:14:36,550 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:14:36,556 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:14:36,562 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:14:36,568 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:14:36,569 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 21:14:45,933 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-09 21:14:45,935 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-09 21:14:45,937 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 21:14:45,938 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 21:14:46,540 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-09 21:14:46,542 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-09 21:14:46,544 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:14:46,545 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 21:14:52,816 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 21:14:52,817 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 21:14:52,819 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 21:14:52,819 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 21:14:52,819 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 21:14:52,820 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 21:14:52,820 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 21:14:52,870 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 21:14:52,872 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-09 21:14:52,872 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 21:14:52,972 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 21:14:52,973 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 21:14:52,973 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 21:14:52,973 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 21:14:52,974 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 21:14:53,016 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 21:14:55,679 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-09 21:14:55,679 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-09 21:14:55,684 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 4 locations.
2025-06-09 21:14:56,623 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-09 21:14:56,625 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-09 21:14:56,627 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-09 21:14:57,355 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-09 21:14:57,355 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-09 21:14:57,362 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-09 21:14:58,213 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-09 21:14:58,213 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-09 21:14:58,216 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-09 21:14:58,359 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-09 21:14:59,033 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 21:14:59,033 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-09 21:14:59,037 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 21:14:59,038 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-09 21:15:01,355 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 21:24:01,862 - INFO - OwnersTab - owners_tab:215 - Owner ID 1 selected.
2025-06-09 21:24:04,680 - INFO - OwnersTab - owners_tab:215 - Owner ID 2 selected.
2025-06-09 21:24:15,147 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-09 21:24:15,147 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-09 21:24:15,150 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-09 21:24:15,150 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-09 21:24:15,150 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-09 21:24:15,150 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-09 21:24:15,150 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-09 21:24:15,201 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-09 21:24:15,202 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-09 21:24:15,203 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-09 21:24:15,305 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-09 21:24:15,307 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-09 21:24:15,307 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-09 21:24:15,307 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-09 21:24:15,307 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-09 21:24:15,356 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-09 21:24:19,125 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-09 21:24:19,126 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-09 21:24:19,129 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-09 21:24:19,129 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-09 21:24:23,599 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-09 21:24:23,600 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-09 21:25:02,330 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-09 21:25:02,331 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-09 21:25:26,018 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-09 21:26:25,832 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Robolo
2025-06-09 21:26:25,836 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-09 21:26:32,386 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-09 21:26:43,529 - INFO - OwnersTab - owners_tab:215 - Owner ID 1 selected.
2025-06-09 21:30:58,208 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 21:30:58,208 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-09 21:30:58,211 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-09 21:30:58,211 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 21:30:58,235 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 21:30:58,240 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 21:30:58,242 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 21:31:09,065 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 21:31:09,065 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 21:31:09,065 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 21:31:09,065 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 21:31:09,066 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 21:31:09,066 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 21:31:09,073 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 21:31:09,073 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 21:31:09,077 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 21:31:09,078 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 21:31:09,078 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 21:31:09,259 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 21:31:09,261 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 21:31:09,261 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 21:31:09,262 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 21:31:09,262 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 21:31:09,262 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 21:31:09,267 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 21:31:09,351 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 21:31:10,772 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 21:31:21,970 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-09 21:31:22,130 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-09 21:31:22,130 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-09 21:31:22,133 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-09 21:31:22,146 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-09 21:31:22,146 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-09 21:31:22,147 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 21:31:22,147 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 21:31:22,147 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 21:31:22,148 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 21:31:22,156 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 21:31:22,316 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 21:31:22,320 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 21:31:22,322 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 21:31:22,326 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 21:31:22,331 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 21:31:22,338 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 21:31:22,363 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 21:31:22,363 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 21:31:22,364 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 21:31:22,364 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 21:31:22,364 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 21:31:22,365 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 21:31:22,365 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 21:31:22,437 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 21:31:22,439 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 21:31:22,439 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 21:31:22,520 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 21:31:22,523 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 21:31:22,523 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 21:31:22,533 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 21:31:22,560 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 21:31:22,560 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 21:31:22,569 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 21:31:22,575 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 21:31:22,576 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:31:22,581 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:31:22,587 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:31:22,594 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:31:22,594 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 21:31:28,533 - INFO - OwnersTab - owners_tab:216 - Owner ID 2 selected.
2025-06-09 21:31:29,730 - INFO - OwnersTab - owners_tab:250 - Edit requested for owner ID: 2
2025-06-09 21:31:29,738 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-09 21:31:29,739 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-09 21:35:51,774 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-09 21:35:51,774 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-09 21:35:51,776 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-09 21:35:51,776 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-09 21:35:51,777 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-09 21:35:51,778 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-09 21:35:51,799 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-09 21:35:51,801 - INFO - root - main:372 - Application exiting with code 0
2025-06-09 21:36:04,446 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 21:36:04,446 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 21:36:04,447 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 21:36:04,448 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 21:36:04,448 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 21:36:04,448 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 21:36:04,455 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 21:36:04,456 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 21:36:04,459 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 21:36:04,459 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 21:36:04,461 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 21:36:04,640 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 21:36:04,642 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 21:36:04,642 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 21:36:04,642 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 21:36:04,642 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 21:36:04,643 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 21:36:04,647 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 21:36:04,737 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 21:36:06,511 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 21:36:15,087 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 21:36:15,249 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 21:36:15,250 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 21:36:15,253 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 21:36:15,265 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 21:36:15,266 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 21:36:15,266 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 21:36:15,266 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 21:36:15,266 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 21:36:15,267 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 21:36:15,272 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 21:36:15,442 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 21:36:15,446 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 21:36:15,448 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 21:36:15,452 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 21:36:15,458 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 21:36:15,466 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 21:36:15,493 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 21:36:15,493 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 21:36:15,494 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 21:36:15,495 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 21:36:15,495 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 21:36:15,495 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 21:36:15,495 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 21:36:15,567 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 21:36:15,569 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 21:36:15,569 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 21:36:15,650 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 21:36:15,653 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 21:36:15,654 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 21:36:15,673 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 21:36:15,703 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 21:36:15,704 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 21:36:15,715 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 21:36:15,722 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 21:36:15,723 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:36:15,732 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:36:15,738 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:36:15,745 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:36:15,745 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 21:36:28,213 - INFO - OwnersTab - owners_tab:216 - Owner ID 2 selected.
2025-06-09 21:36:28,460 - INFO - OwnersTab - owners_tab:250 - Edit requested for owner ID: 2
2025-06-09 21:36:28,470 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-09 21:36:28,470 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-09 21:36:45,830 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Owner updated successfully.
2025-06-09 21:36:48,110 - INFO - OwnersTab - owners_tab:261 - Owner ID 2 was updated. Refreshing list.
2025-06-09 21:36:48,111 - INFO - OwnersTab - owners_tab:241 - Owner selection cleared.
2025-06-09 21:36:48,113 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Details updated for owner 'Davis'.
2025-06-09 21:36:48,113 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:36:48,115 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:36:48,117 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:36:48,117 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:36:50,761 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-09 21:36:50,763 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-09 21:36:50,765 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 21:36:50,766 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 21:36:52,183 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: Doroni
2025-06-09 21:36:54,848 - INFO - OwnersTab - owners_tab:424 - Link existing owner dialog cancelled.
2025-06-09 21:36:56,085 - INFO - OwnersTab - owners_tab:216 - Owner ID 1 selected.
2025-06-09 21:36:56,340 - INFO - OwnersTab - owners_tab:250 - Edit requested for owner ID: 1
2025-06-09 21:36:56,348 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-09 21:36:56,348 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-09 21:37:13,527 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Owner updated successfully.
2025-06-09 21:37:15,085 - INFO - OwnersTab - owners_tab:261 - Owner ID 1 was updated. Refreshing list.
2025-06-09 21:37:15,085 - INFO - OwnersTab - owners_tab:241 - Owner selection cleared.
2025-06-09 21:37:15,088 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Details updated for owner 'Smith'.
2025-06-09 21:37:15,088 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-09 21:37:15,091 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-09 21:37:15,092 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-09 21:37:15,093 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-09 21:37:17,220 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-09 21:37:17,222 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-09 21:37:17,224 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:37:17,225 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 21:37:18,409 - INFO - OwnersTab - owners_tab:216 - Owner ID 1 selected.
2025-06-09 21:37:18,768 - INFO - OwnersTab - owners_tab:250 - Edit requested for owner ID: 1
2025-06-09 21:37:18,775 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-09 21:37:18,775 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-09 21:37:22,276 - INFO - OwnersTab - owners_tab:216 - Owner ID 2 selected.
2025-06-09 21:37:22,522 - INFO - OwnersTab - owners_tab:250 - Edit requested for owner ID: 2
2025-06-09 21:37:22,529 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-09 21:37:22,529 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-09 21:37:24,888 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Owner updated successfully.
2025-06-09 21:37:27,010 - INFO - OwnersTab - owners_tab:261 - Owner ID 2 was updated. Refreshing list.
2025-06-09 21:37:27,010 - INFO - OwnersTab - owners_tab:216 - Owner ID 2 selected.
2025-06-09 21:37:27,014 - INFO - OwnersTab - owners_tab:241 - Owner selection cleared.
2025-06-09 21:37:27,014 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Details updated for owner 'Davis'.
2025-06-09 21:37:27,014 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-09 21:37:27,017 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-09 21:37:27,019 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:37:27,020 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 21:39:00,246 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:\Users\Admin\Desktop\Invoice-1 for Smith.pdf
2025-06-09 21:40:13,819 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:\Users\Admin\Desktop\Invoice-1 for Smith.pdf
2025-06-09 21:48:07,522 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 21:48:07,522 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 21:48:07,522 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 21:48:07,523 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 21:48:07,523 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 21:48:07,523 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 21:48:07,531 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 21:48:07,531 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 21:48:07,534 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 21:48:07,535 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 21:48:07,535 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 21:48:07,713 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 21:48:07,715 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 21:48:07,715 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 21:48:07,715 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 21:48:07,715 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 21:48:07,716 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 21:48:07,720 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 21:48:07,802 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 21:48:09,743 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 21:48:20,547 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 21:48:20,707 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 21:48:20,708 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 21:48:20,710 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 21:48:20,724 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 21:48:20,724 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 21:48:20,725 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 21:48:20,725 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 21:48:20,725 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 21:48:20,725 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 21:48:20,732 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 21:48:20,884 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 21:48:20,888 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 21:48:20,889 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 21:48:20,893 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 21:48:20,899 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 21:48:20,906 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 21:48:20,932 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 21:48:20,932 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 21:48:20,934 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 21:48:20,934 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 21:48:20,934 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 21:48:20,935 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 21:48:20,935 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 21:48:21,006 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 21:48:21,008 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 21:48:21,008 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 21:48:21,088 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 21:48:21,090 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 21:48:21,091 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 21:48:21,109 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 21:48:21,132 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 21:48:21,132 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 21:48:21,141 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 21:48:21,149 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 21:48:21,151 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:48:21,159 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:48:21,166 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:48:21,177 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:48:21,178 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 21:48:31,030 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:\Users\Admin\Desktop\Invoice-2 for Davis.pdf
2025-06-09 21:54:34,771 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-09 21:54:34,771 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-09 21:54:34,772 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-09 21:54:34,773 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-09 21:54:34,773 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-09 21:54:34,773 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-09 21:54:34,781 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-09 21:54:34,781 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-09 21:54:34,784 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-09 21:54:34,785 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-09 21:54:34,785 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-09 21:54:34,964 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-09 21:54:34,966 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-09 21:54:34,966 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-09 21:54:34,967 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-09 21:54:34,967 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-09 21:54:34,967 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-09 21:54:34,972 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-09 21:54:35,062 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-09 21:55:25,851 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-09 21:55:40,519 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-09 21:55:40,679 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-09 21:55:40,680 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-09 21:55:40,682 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-09 21:55:40,694 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-09 21:55:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-09 21:55:40,695 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-09 21:55:40,696 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-09 21:55:40,696 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-09 21:55:40,696 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-09 21:55:40,703 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-09 21:55:40,873 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-09 21:55:40,877 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-09 21:55:40,879 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-09 21:55:40,883 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-09 21:55:40,888 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-09 21:55:40,895 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-09 21:55:40,920 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-09 21:55:40,921 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-09 21:55:40,922 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-09 21:55:40,924 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-09 21:55:40,924 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-09 21:55:40,924 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-09 21:55:40,924 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-09 21:55:40,995 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-09 21:55:40,997 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-09 21:55:40,998 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-09 21:55:41,078 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-09 21:55:41,080 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-09 21:55:41,080 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-09 21:55:41,097 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-09 21:55:41,124 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-09 21:55:41,125 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-09 21:55:41,133 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-09 21:55:41,142 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-09 21:55:41,143 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-09 21:55:41,150 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-09 21:55:41,156 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-09 21:55:41,164 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-09 21:55:41,164 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-09 21:55:45,808 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-09 21:55:45,814 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-09 21:55:45,815 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:55:45,817 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-09 21:56:42,414 - INFO - FinancialController - financial_controller:294 - Successfully added 2 charges for horse ID 3.
2025-06-09 21:56:42,425 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 21:56:45,252 - INFO - FinancialController - financial_controller:401 - Retrieved transaction ID 22 with its charge code.
2025-06-09 21:57:25,619 - INFO - FinancialController - financial_controller:345 - Transaction ID 22 updated successfully.
2025-06-09 21:57:25,623 - INFO - FinancialController - financial_controller:345 - Transaction ID 23 updated successfully.
2025-06-09 21:57:27,789 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 21:57:33,713 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Robolo, splitting a total of $85.00 based on their ownership percentage.

Proceed?
2025-06-09 21:57:35,246 - INFO - FinancialController - financial_controller:107 - --- Starting Invoice Generation for transaction IDs: [22, 23] ---
2025-06-09 21:57:35,260 - INFO - FinancialController - financial_controller:211 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-09 21:57:35,261 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:57:35,261 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-09 21:57:46,473 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-1?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 21:57:48,217 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #1 for owner '1'. Reversing balance by $150.50.
2025-06-09 21:57:48,223 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #1 and adjusted owner balance.
2025-06-09 21:57:48,223 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 21:57:48,226 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:57:50,619 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-3?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 21:57:51,943 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #3 for owner '1'. Reversing balance by $59.50.
2025-06-09 21:57:51,949 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #3 and adjusted owner balance.
2025-06-09 21:57:51,949 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 21:57:51,952 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:57:54,381 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-2?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 21:57:55,996 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #2 for owner '2'. Reversing balance by $64.50.
2025-06-09 21:57:56,002 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #2 and adjusted owner balance.
2025-06-09 21:57:56,002 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 21:57:56,005 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:57:58,901 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice - Are you sure you want to permanently delete INV-4?

This will adjust the owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-09 21:58:00,547 - INFO - FinancialController - financial_controller:442 - Deleting Invoice #4 for owner '2'. Reversing balance by $25.50.
2025-06-09 21:58:00,552 - INFO - FinancialController - financial_controller:464 - Successfully deleted Invoice #4 and adjusted owner balance.
2025-06-09 21:58:00,552 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-09 21:58:00,555 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:58:27,183 - INFO - FinancialController - financial_controller:294 - Successfully added 2 charges for horse ID 3.
2025-06-09 21:58:27,192 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 3.
2025-06-09 21:58:37,420 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Robolo, splitting a total of $140.00 based on their ownership percentage.

Proceed?
2025-06-09 21:58:38,830 - INFO - FinancialController - financial_controller:107 - --- Starting Invoice Generation for transaction IDs: [24, 25] ---
2025-06-09 21:58:38,838 - INFO - FinancialController - financial_controller:211 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-09 21:58:38,839 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-09 21:58:38,840 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-10 10:08:14,331 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 10:08:14,331 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 10:08:14,331 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 10:08:14,331 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 10:08:14,332 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 10:08:14,332 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 10:08:14,345 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 10:08:14,345 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 10:08:14,361 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 10:08:14,362 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 10:08:14,362 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 10:08:14,555 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 10:08:14,556 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 10:08:14,556 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 10:08:14,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 10:08:14,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 10:08:14,557 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 10:08:14,576 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 10:08:14,660 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 10:08:16,493 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 10:08:26,781 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'TM', password_attempt (first 3 chars): '123...'
2025-06-10 10:08:26,942 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 10:08:26,943 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 10:08:26,945 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 10:08:26,958 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 10:08:26,958 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 10:08:26,959 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 10:08:26,959 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 10:08:26,960 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 10:08:26,960 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 10:08:26,966 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 10:08:28,283 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 10:08:28,287 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 10:08:28,289 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 10:08:28,294 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 10:08:28,299 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 10:08:28,305 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 10:08:28,331 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 10:08:28,332 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 10:08:28,333 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 10:08:28,333 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 10:08:28,334 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 10:08:28,334 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 10:08:28,334 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 10:08:28,407 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 10:08:28,409 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 10:08:28,409 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 10:08:28,493 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 10:08:28,496 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 10:08:28,496 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 10:08:28,513 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 10:08:28,555 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 10:08:28,556 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 10:08:28,564 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 10:08:28,572 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 10:08:28,572 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 10:08:28,578 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 10:08:28,583 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 10:08:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 10:08:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 10:10:21,510 - INFO - FinancialController - financial_controller:294 - Successfully added 2 charges for horse ID 1.
2025-06-10 10:10:21,520 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 1.
2025-06-10 10:10:27,144 - INFO - FinancialController - financial_controller:401 - Retrieved transaction ID 30 with its charge code.
2025-06-10 10:10:35,014 - INFO - FinancialController - financial_controller:401 - Retrieved transaction ID 31 with its charge code.
2025-06-10 10:10:47,833 - INFO - OwnersTab - owners_tab:216 - Owner ID 2 selected.
2025-06-10 10:11:03,616 - INFO - OwnersTab - owners_tab:444 - Updating % for owner ID 2 on horse ID 1 to 80.0%
2025-06-10 10:11:03,626 - INFO - HorseController - horse_controller:447 - Ownership percentage updated for horse ID 1, owner ID 2 by tm.
2025-06-10 10:11:03,626 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-10 10:11:05,282 - INFO - OwnersTab - owners_tab:241 - Owner selection cleared.
2025-06-10 10:11:05,284 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Ownership percentage updated.
2025-06-10 10:11:05,285 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 10:11:05,289 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 10:11:05,290 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 1.
2025-06-10 10:11:05,290 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 10:11:06,770 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: Daisy
2025-06-10 10:11:09,504 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-10 10:11:16,074 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 1 with 20.0% to horse ID 1
2025-06-10 10:11:16,079 - INFO - HorseController - horse_controller:418 - Owner ID 1 added to horse ID 1 by tm.
2025-06-10 10:11:16,080 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 10:11:17,759 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 10:11:17,760 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 10:11:17,763 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 10:11:17,764 - INFO - FinancialController - financial_controller:245 - Retrieved 2 ACTIVE transactions for horse ID 1.
2025-06-10 10:11:17,766 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 10:11:38,962 - INFO - FinancialController - financial_controller:294 - Successfully added 1 charges for horse ID 1.
2025-06-10 10:11:38,974 - INFO - FinancialController - financial_controller:245 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 10:11:41,687 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Daisy, splitting a total of $199.00 based on their ownership percentage.

Proceed?
2025-06-10 10:11:43,582 - INFO - FinancialController - financial_controller:107 - --- Starting Invoice Generation for transaction IDs: [30, 31, 32] ---
2025-06-10 10:11:43,596 - INFO - FinancialController - financial_controller:211 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 10:11:43,597 - INFO - FinancialController - financial_controller:245 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 10:11:43,598 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-10 10:14:30,452 - INFO - InvoiceHistoryTab - invoice_history_tab:435 - PDF save was cancelled by the user.
2025-06-10 10:49:01,839 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 10:49:01,840 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 10:49:01,840 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 10:49:01,840 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 10:49:01,840 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 10:49:01,840 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 10:49:01,847 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 10:49:01,848 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 10:49:01,851 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 10:49:01,852 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 10:49:01,852 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 10:49:02,032 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 10:49:02,034 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 10:49:02,035 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 10:49:02,035 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 10:49:02,035 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 10:49:02,035 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 10:49:02,040 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 10:49:02,132 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 10:49:03,908 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 10:49:11,820 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 10:49:11,982 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 10:49:11,983 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 10:49:11,985 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 10:49:12,001 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 10:49:12,001 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 10:49:12,002 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 10:49:12,002 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 10:49:12,002 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 10:49:12,003 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 10:49:12,009 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 10:49:12,118 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 10:49:12,122 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 10:49:12,123 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 10:49:12,127 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 10:49:12,133 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 10:49:12,139 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 10:49:12,166 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 10:49:12,167 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 10:49:12,240 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 10:49:12,240 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 10:49:12,241 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 10:49:12,319 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 10:49:12,320 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 10:49:12,321 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 10:49:12,336 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 10:49:12,367 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 10:49:12,368 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 10:49:12,378 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 10:49:12,386 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 10:49:12,388 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 10:49:12,395 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 10:49:12,401 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 10:49:12,410 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 10:49:12,410 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 10:49:18,400 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 10:49:18,402 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-10 10:49:18,405 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 10:49:18,406 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 10:49:19,579 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-10 10:49:19,581 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-10 10:49:19,583 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-10 10:49:19,584 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-10 10:49:20,945 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 10:49:20,947 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 10:49:20,949 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 10:49:20,951 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 10:49:42,311 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:/Projects/EDMS/Invoices/Invoice-2.pdf
2025-06-10 10:49:59,356 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 10:49:59,357 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 10:49:59,360 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 10:49:59,360 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 10:49:59,371 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 10:49:59,374 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 10:49:59,374 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 11:01:10,287 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 11:01:10,288 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 11:01:10,289 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 11:01:10,289 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 11:01:10,289 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 11:01:10,289 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 11:01:10,297 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 11:01:10,297 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 11:01:10,527 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 11:01:10,528 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 11:01:10,528 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 11:01:10,552 - WARNING - DatabaseManager - database_config:211 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-10 11:01:10,554 - INFO - DatabaseManager - database_config:223 - Created 'ADMIN' role.
2025-06-10 11:01:10,555 - INFO - DatabaseManager - database_config:282 - ADMIN user not found. Creating new ADMIN user...
2025-06-10 11:01:10,711 - INFO - DatabaseManager - database_config:294 - Created new ADMIN user with bcrypt password.
2025-06-10 11:01:10,712 - INFO - DatabaseManager - database_config:298 - Linked ADMIN user to ADMIN role.
2025-06-10 11:01:10,716 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 11:01:10,716 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 11:01:10,717 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 11:01:10,718 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 11:01:10,718 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 11:01:10,723 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 11:01:10,814 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 11:01:14,308 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 11:01:30,273 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 11:01:30,433 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 11:01:30,434 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 11:01:30,436 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 11:01:30,449 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 11:01:30,449 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 11:01:30,450 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 11:01:30,450 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 11:01:30,450 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 11:01:30,451 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 11:01:30,456 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 11:01:30,611 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 11:01:30,615 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 11:01:30,617 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 11:01:30,621 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 11:01:30,627 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 11:01:30,633 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 11:01:30,660 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 11:01:30,660 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 11:01:30,661 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 11:01:30,663 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 11:01:30,663 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 11:01:30,663 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 11:01:30,663 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 11:01:30,735 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 11:01:30,737 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 11:01:30,738 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 11:01:30,829 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 11:01:30,831 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:01:30,832 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 11:01:30,848 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 11:01:30,872 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 11:01:30,873 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 11:01:30,877 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 11:01:30,881 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 11:01:30,883 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:01:30,883 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 11:01:37,096 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 11:01:37,096 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 11:01:37,098 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 11:01:37,099 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 11:01:37,099 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 11:01:37,099 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 11:01:37,111 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 11:01:37,112 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 11:08:49,626 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 11:08:49,626 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 11:08:49,627 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 11:08:49,628 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 11:08:49,628 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 11:08:49,628 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 11:08:49,635 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 11:08:49,635 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 11:08:49,639 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 11:08:49,640 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 11:08:49,640 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 11:08:49,821 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 11:08:49,823 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 11:08:49,824 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 11:08:49,824 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 11:08:49,824 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 11:08:49,824 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 11:08:49,829 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 11:08:49,914 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 11:08:51,491 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 11:09:01,016 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 11:09:01,177 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 11:09:01,177 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 11:09:01,179 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 11:09:01,191 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 11:09:01,192 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 11:09:01,192 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 11:09:01,192 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 11:09:01,193 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 11:09:01,193 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 11:09:01,199 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 11:09:01,357 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 11:09:01,361 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 11:09:01,363 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 11:09:01,367 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 11:09:01,373 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 11:09:01,379 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 11:09:01,405 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 11:09:01,405 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 11:09:01,407 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 11:09:01,407 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 11:09:01,408 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 11:09:01,408 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 11:09:01,408 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 11:09:01,479 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 11:09:01,481 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 11:09:01,481 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 11:09:01,560 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 11:09:01,562 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:09:01,562 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 11:09:01,579 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 11:09:01,607 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 11:09:01,607 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 11:09:01,616 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 11:09:01,626 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 11:09:01,627 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 11:09:01,634 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 11:09:01,642 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 11:09:01,651 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 11:09:01,653 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 11:09:07,884 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 11:09:07,886 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-10 11:09:07,888 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 11:09:07,889 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 11:09:08,649 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 3
2025-06-10 11:09:08,651 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 3: Robolo
2025-06-10 11:09:08,653 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-10 11:09:08,654 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 3
2025-06-10 11:09:13,462 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 11:09:13,464 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 2: Doroni
2025-06-10 11:09:13,466 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 11:09:13,467 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 11:13:56,860 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 11:13:56,862 - INFO - HorseController - horse_controller:246 - Retrieved horse ID 1: Daisy
2025-06-10 11:13:56,865 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 11:13:56,866 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 11:25:45,724 - INFO - FinancialController - financial_controller:313 - Successfully added 3 charges for horse ID 1.
2025-06-10 11:25:45,735 - INFO - FinancialController - financial_controller:264 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 11:28:07,822 - INFO - FinancialController - financial_controller:364 - Transaction ID 39 updated successfully.
2025-06-10 11:28:07,826 - INFO - FinancialController - financial_controller:364 - Transaction ID 40 updated successfully.
2025-06-10 11:28:07,830 - INFO - FinancialController - financial_controller:364 - Transaction ID 41 updated successfully.
2025-06-10 11:28:10,895 - INFO - FinancialController - financial_controller:264 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 11:28:13,398 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Daisy, splitting a total of $224.00 based on their ownership percentage.

Proceed?
2025-06-10 11:28:15,864 - INFO - FinancialController - financial_controller:109 - --- Starting Invoice Generation for transaction IDs: [39, 40, 41] ---
2025-06-10 11:28:15,871 - INFO - FinancialController - financial_controller:143 - Generating invoices for 1 horse(s).
2025-06-10 11:28:15,880 - INFO - FinancialController - financial_controller:230 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 11:28:15,882 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 11:28:15,883 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-10 11:48:26,510 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 11:48:26,510 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 11:48:26,512 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 11:48:26,513 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 11:48:26,513 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 11:48:26,513 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 11:48:26,529 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 11:48:26,529 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 11:51:37,586 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 11:51:37,587 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 11:51:37,588 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 11:51:37,588 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 11:51:37,588 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 11:51:37,588 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 11:51:37,602 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 11:51:37,603 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 11:51:37,854 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 11:51:37,856 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 11:51:37,857 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 11:51:37,891 - WARNING - DatabaseManager - database_config:211 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-10 11:51:37,893 - INFO - DatabaseManager - database_config:223 - Created 'ADMIN' role.
2025-06-10 11:51:37,894 - INFO - DatabaseManager - database_config:282 - ADMIN user not found. Creating new ADMIN user...
2025-06-10 11:51:38,059 - INFO - DatabaseManager - database_config:294 - Created new ADMIN user with bcrypt password.
2025-06-10 11:51:38,061 - INFO - DatabaseManager - database_config:298 - Linked ADMIN user to ADMIN role.
2025-06-10 11:51:38,065 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 11:51:38,065 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 11:51:38,066 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 11:51:38,067 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 11:51:38,067 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 11:51:38,083 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 11:51:38,181 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 11:51:45,957 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 11:51:55,248 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 11:51:55,410 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 11:51:55,411 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 11:51:55,413 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 11:51:55,427 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 11:51:55,428 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 11:51:55,429 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 11:51:55,430 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 11:51:55,431 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 11:51:55,431 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 11:51:55,447 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 11:51:56,822 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 11:51:56,826 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 11:51:56,828 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 11:51:56,832 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 11:51:56,838 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 11:51:56,845 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 11:51:56,871 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 11:51:56,872 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 11:51:56,873 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 11:51:56,873 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 11:51:56,873 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 11:51:56,874 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 11:51:56,874 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 11:51:56,948 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 11:51:56,950 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 11:51:56,950 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 11:51:57,027 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 11:51:57,029 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:51:57,029 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 11:51:57,047 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 11:51:57,082 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 11:51:57,083 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 11:51:57,088 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 11:51:57,090 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 11:51:57,091 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:51:57,092 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 11:52:03,906 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 11:52:03,906 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 11:52:03,909 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 11:52:03,909 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 11:52:03,934 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 11:52:03,939 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 11:52:03,941 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 11:56:46,081 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 11:56:46,081 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 11:56:46,082 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 11:56:46,082 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 11:56:46,083 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 11:56:46,083 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 11:56:46,089 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 11:56:46,090 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 11:56:46,094 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 11:56:46,094 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 11:56:46,094 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 11:56:46,273 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 11:56:46,275 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 11:56:46,275 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 11:56:46,275 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 11:56:46,276 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 11:56:46,276 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 11:56:46,280 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 11:56:46,369 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 11:56:48,280 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 11:56:58,699 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 11:56:58,859 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 11:56:58,859 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 11:56:58,861 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 11:56:58,875 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 11:56:58,876 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 11:56:58,876 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 11:56:58,876 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 11:56:58,877 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 11:56:58,877 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 11:56:58,882 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 11:56:59,035 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 11:56:59,039 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 11:56:59,040 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 11:56:59,045 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 11:56:59,051 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 11:56:59,057 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 11:56:59,084 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 11:56:59,085 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 11:56:59,086 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 11:56:59,086 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 11:56:59,086 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 11:56:59,086 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 11:56:59,086 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 11:56:59,159 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 11:56:59,160 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 11:56:59,161 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 11:56:59,244 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 11:56:59,246 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:56:59,246 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 11:56:59,259 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 11:56:59,285 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 11:56:59,285 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 11:56:59,288 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 11:56:59,291 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 11:56:59,295 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:56:59,296 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 11:57:05,897 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 11:57:05,897 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 11:57:05,900 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 11:57:05,900 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 11:57:05,900 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 11:57:05,900 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 11:57:05,917 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 11:57:05,917 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 11:58:31,838 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 11:58:31,838 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 11:58:31,838 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 11:58:31,839 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 11:58:31,839 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 11:58:31,839 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 11:58:31,847 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 11:58:31,847 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 11:58:31,851 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 11:58:31,851 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 11:58:31,852 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 11:58:32,034 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 11:58:32,036 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 11:58:32,036 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 11:58:32,036 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 11:58:32,036 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 11:58:32,037 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 11:58:32,041 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 11:58:32,132 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 11:58:36,061 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 11:58:44,166 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 11:58:44,168 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-10 11:58:45,429 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-10 11:58:55,900 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 11:58:56,063 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 11:58:56,064 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 11:58:56,066 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 11:58:56,081 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 11:58:56,081 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 11:58:56,081 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 11:58:56,082 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 11:58:56,083 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 11:58:56,083 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 11:58:56,089 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 11:58:56,247 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 11:58:56,251 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 11:58:56,253 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 11:58:56,257 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 11:58:56,263 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 11:58:56,270 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 11:58:56,298 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 11:58:56,298 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 11:58:56,300 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 11:58:56,300 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 11:58:56,300 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 11:58:56,300 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 11:58:56,301 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 11:58:56,374 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 11:58:56,376 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 11:58:56,377 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 11:58:56,458 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 11:58:56,461 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:58:56,461 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 11:58:56,483 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 11:58:56,511 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 11:58:56,511 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 11:58:56,516 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 11:58:56,519 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 11:58:56,523 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 11:58:56,523 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:00:37,941 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 12:00:37,942 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 12:00:37,944 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 12:00:37,945 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 12:00:37,956 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 12:00:37,958 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 12:00:37,959 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 12:02:46,306 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 12:02:46,306 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 12:02:46,307 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 12:02:46,307 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 12:02:46,307 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 12:02:46,307 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 12:02:46,314 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 12:02:46,315 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 12:02:46,541 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 12:02:46,542 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 12:02:46,543 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 12:02:46,565 - WARNING - DatabaseManager - database_config:211 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-10 12:02:46,567 - INFO - DatabaseManager - database_config:223 - Created 'ADMIN' role.
2025-06-10 12:02:46,569 - INFO - DatabaseManager - database_config:282 - ADMIN user not found. Creating new ADMIN user...
2025-06-10 12:02:46,725 - INFO - DatabaseManager - database_config:294 - Created new ADMIN user with bcrypt password.
2025-06-10 12:02:46,726 - INFO - DatabaseManager - database_config:298 - Linked ADMIN user to ADMIN role.
2025-06-10 12:02:46,730 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 12:02:46,730 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 12:02:46,731 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 12:02:46,731 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 12:02:46,731 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 12:02:46,735 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 12:02:46,819 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 12:02:49,610 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 12:02:59,972 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 12:02:59,974 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-10 12:03:01,210 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-10 12:03:10,434 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 12:03:10,594 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 12:03:10,595 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 12:03:10,597 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 12:03:10,612 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 12:03:10,612 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 12:03:10,612 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 12:03:10,612 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 12:03:10,613 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 12:03:10,613 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 12:03:10,618 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 12:03:10,773 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 12:03:10,778 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 12:03:10,779 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 12:03:10,783 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 12:03:10,788 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 12:03:10,795 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 12:03:10,821 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 12:03:10,822 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 12:03:10,822 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 12:03:10,822 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 12:03:10,823 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 12:03:10,823 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 12:03:10,823 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 12:03:10,893 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 12:03:10,893 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 12:03:10,894 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 12:03:10,977 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 12:03:10,979 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:03:10,979 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 12:03:10,999 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 12:03:11,025 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 12:03:11,025 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:03:11,030 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 12:03:11,032 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 12:03:11,038 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:03:11,038 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:03:15,567 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 12:03:15,567 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 12:03:15,570 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 12:03:15,570 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 12:03:15,570 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 12:03:15,571 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 12:03:15,571 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 12:03:15,624 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 12:03:15,627 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 12:03:15,627 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 12:03:15,723 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 12:03:15,723 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 12:03:15,724 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 12:03:15,724 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 12:03:15,724 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 12:03:15,777 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 12:03:18,222 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-10 12:04:05,800 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-10 12:04:05,809 - WARNING - AddEditUserDialog - add_edit_user_dialog:385 - User operation failed: Validation failed: Role 'VETERINARIAN' does not exist in the database.
2025-06-10 12:04:18,294 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-10 12:04:18,453 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-10 12:04:18,454 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-10 12:04:18,463 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 12:04:18,464 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 12:04:26,122 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-10 12:04:30,178 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: tm by ADMIN
2025-06-10 12:04:30,180 - WARNING - AddEditUserDialog - add_edit_user_dialog:385 - User operation failed: Validation failed: Role 'VETERINARIAN' does not exist in the database.
2025-06-10 12:04:40,058 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 12:04:42,888 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 12:04:42,889 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 12:04:42,891 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 12:04:42,891 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 12:04:42,903 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 12:04:42,907 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 12:04:42,908 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 12:06:22,174 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 12:06:22,174 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 12:06:22,177 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 12:06:22,177 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 12:06:22,177 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 12:06:22,177 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 12:06:22,185 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 12:06:22,186 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 12:06:22,190 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 12:06:22,190 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 12:06:22,191 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 12:06:22,369 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 12:06:22,371 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 12:06:22,372 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 12:06:22,372 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 12:06:22,372 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 12:06:22,373 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 12:06:22,377 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 12:06:22,469 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 12:06:25,241 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 12:06:33,820 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 12:06:33,980 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 12:06:33,980 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 12:06:33,983 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 12:06:33,997 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 12:06:33,998 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 12:06:33,998 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 12:06:33,998 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 12:06:33,999 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 12:06:34,000 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 12:06:34,005 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 12:06:34,159 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 12:06:34,162 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 12:06:34,164 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 12:06:34,168 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 12:06:34,173 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 12:06:34,179 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 12:06:34,205 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 12:06:34,206 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 12:06:34,206 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 12:06:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 12:06:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 12:06:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 12:06:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 12:06:34,275 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 12:06:34,276 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 12:06:34,276 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 12:06:34,356 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 12:06:34,357 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:06:34,358 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 12:06:34,375 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 12:06:34,402 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 12:06:34,403 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:06:34,407 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 12:06:34,411 - INFO - HorseController - horse_controller:300 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 12:06:34,416 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:06:34,418 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:06:38,900 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 12:06:38,900 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 12:06:38,902 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-10 12:06:38,902 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 12:06:38,903 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 12:06:38,903 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 12:06:38,904 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 12:06:38,953 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 12:06:38,955 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 12:06:38,956 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 12:06:39,047 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 12:06:39,048 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 12:06:39,048 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 12:06:39,048 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 12:06:39,048 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 12:06:39,099 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 12:06:42,782 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 12:06:42,782 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 12:06:42,788 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 12:06:44,238 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 12:06:44,239 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 12:06:44,243 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 12:06:46,821 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 12:06:46,822 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 12:06:46,829 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 12:06:47,776 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 12:06:47,776 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 12:06:47,777 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 12:06:47,926 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 12:06:49,256 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 12:06:49,256 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:06:49,261 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 12:06:49,261 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 12:06:55,373 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 12:06:55,374 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 12:12:05,110 - INFO - OwnerController - owner_controller:335 - Master Owner 'Quail Pond Farms (Patrick Kennedy)' (ID: 3) created by tm.
2025-06-10 12:12:05,110 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Owner created successfully.
2025-06-10 12:12:07,008 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:12:07,009 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 12:12:07,012 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 12:14:32,403 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 12:14:32,403 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 12:14:39,984 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Owner updated successfully.
2025-06-10 12:14:41,633 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:14:41,635 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 12:14:41,638 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 12:14:43,492 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 12:14:43,492 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 12:14:43,496 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 12:14:46,808 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 12:14:46,808 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 12:14:46,811 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 12:15:53,434 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzarisi' created by tm.
2025-06-10 12:15:56,501 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 12:15:56,502 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 12:15:56,504 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Veterinarian added successfully.
2025-06-10 12:16:05,149 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 12:16:05,149 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 12:16:05,156 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 12:16:06,830 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 12:16:06,830 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 12:16:06,832 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 12:16:06,982 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 12:16:08,348 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 12:16:08,348 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:16:08,352 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 12:16:08,352 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 12:16:11,106 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 12:18:25,043 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-10 12:18:25,049 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by tm.
2025-06-10 12:18:26,771 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-10 12:18:30,795 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 12:18:40,506 - INFO - HorseUnifiedManagement - horse_unified_management:1032 - add_new_horse: START
2025-06-10 12:18:40,506 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 12:18:40,514 - INFO - HorseUnifiedManagement - horse_unified_management:1072 - add_new_horse: FINISHED
2025-06-10 12:19:15,338 - INFO - HorseUnifiedManagement - horse_unified_management:1130 - save_changes: START
2025-06-10 12:19:15,338 - WARNING - HorseController - horse_controller:117 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored.
2025-06-10 12:19:15,341 - WARNING - HorseController - horse_controller:117 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored.
2025-06-10 12:19:15,342 - WARNING - HorseController - horse_controller:117 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored.
2025-06-10 12:19:15,346 - ERROR - HorseController - horse_controller:162 - SQLAlchemyError creating horse: (sqlite3.IntegrityError) NOT NULL constraint failed: horse_locations.location_id
[SQL: INSERT INTO horse_locations (horse_id, location_id, date_arrived, date_departed, notes, is_current_location, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, None, '2025-06-10', None, None, 1, '2025-06-10 16:19:15.345389', '2025-06-10 16:19:15.345389', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/gkpj) - Data was: {'horse_name': 'Daisy', 'account_number': '000234', 'breed': None, 'color': None, 'sex': 'Mare', 'date_of_birth': datetime.date(2000, 1, 1), 'chip_number': None, 'tattoo_number': None, 'is_active': True, 'reg_number': None, 'brand': None, 'band_tag': None, 'coggins_date': datetime.date(2000, 1, 1), 'height_hands': None, 'description': None, 'date_deceased': None, 'current_location_id': None, 'created_by': 'tm', 'modified_by': 'tm'}
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: horse_locations.location_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\horse_controller.py", line 139, in create_horse
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: horse_locations.location_id
[SQL: INSERT INTO horse_locations (horse_id, location_id, date_arrived, date_departed, notes, is_current_location, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, None, '2025-06-10', None, None, 1, '2025-06-10 16:19:15.345389', '2025-06-10 16:19:15.345389', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-10 12:19:15,421 - ERROR - HorseUnifiedManagement - horse_unified_management:1250 - save_changes: Save failed. Message: A database error occurred while creating the horse: (sqlite3.IntegrityError) NOT NULL constraint failed: horse_locations.location_id
[SQL: INSERT INTO horse_locations (horse_id, location_id, date_arrived, date_departed, notes, is_current_location, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, None, '2025-06-10', None, None, 1, '2025-06-10 16:19:15.345389', '2025-06-10 16:19:15.345389', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-10 12:19:15,424 - ERROR - HorseUnifiedManagement - base_view:197 - Displaying Error: Save Failed - A database error occurred while creating the horse: (sqlite3.IntegrityError) NOT NULL constraint failed: horse_locations.location_id
[SQL: INSERT INTO horse_locations (horse_id, location_id, date_arrived, date_departed, notes, is_current_location, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (1, None, '2025-06-10', None, None, 1, '2025-06-10 16:19:15.345389', '2025-06-10 16:19:15.345389', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-10 12:19:28,073 - INFO - HorseUnifiedManagement - horse_unified_management:1255 - save_changes: FINISHED
2025-06-10 12:20:19,766 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Discard - Discard unsaved changes?
2025-06-10 12:20:21,821 - INFO - HorseUnifiedManagement - horse_unified_management:500 - discard_changes: User confirmed discard.
2025-06-10 12:20:21,823 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:26:13,967 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-10 12:26:13,967 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-10 12:26:13,968 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 12:26:13,968 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 12:26:13,968 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 12:26:13,968 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 12:26:13,988 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 12:26:13,990 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 12:30:03,879 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 12:30:03,879 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 12:30:03,880 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 12:30:03,880 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 12:30:03,881 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 12:30:03,881 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 12:30:03,888 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 12:30:03,889 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 12:30:03,892 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 12:30:03,893 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 12:30:03,893 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 12:30:04,074 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 12:30:04,076 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 12:30:04,076 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 12:30:04,076 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 12:30:04,076 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 12:30:04,077 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 12:30:04,081 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 12:30:04,168 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 12:30:07,287 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 12:30:15,773 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 12:30:15,934 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 12:30:15,934 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 12:30:15,936 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 12:30:15,951 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 12:30:15,952 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 12:30:15,952 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 12:30:15,953 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 12:30:15,953 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 12:30:15,953 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 12:30:15,960 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 12:30:16,114 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 12:30:16,118 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 12:30:16,119 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 12:30:16,123 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 12:30:16,129 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 12:30:16,136 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 12:30:16,161 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 12:30:16,162 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 12:30:16,163 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 12:30:16,163 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 12:30:16,164 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 12:30:16,164 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 12:30:16,164 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 12:30:16,234 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 12:30:16,237 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 12:30:16,238 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 12:30:16,317 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 12:30:16,319 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:30:16,320 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 12:30:16,338 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 12:30:16,368 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 12:30:16,369 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:30:16,373 - ERROR - HorseController - horse_controller:306 - Error searching horses: (sqlite3.OperationalError) no such column: horses.reg_number
[SQL: SELECT horses.horse_id AS horses_horse_id, horses.horse_name AS horses_horse_name, horses.account_number AS horses_account_number, horses.breed AS horses_breed, horses.color AS horses_color, horses.sex AS horses_sex, horses.date_of_birth AS horses_date_of_birth, horses.height_hands AS horses_height_hands, horses.chip_number AS horses_chip_number, horses.tattoo_number AS horses_tattoo_number, horses.reg_number AS horses_reg_number, horses.brand AS horses_brand, horses.band_tag AS horses_band_tag, horses.description AS horses_description, horses.is_active AS horses_is_active, horses.date_deceased AS horses_date_deceased, horses.coggins_date AS horses_coggins_date, horses.current_location_id AS horses_current_location_id, horses.created_date AS horses_created_date, horses.modified_date AS horses_modified_date, horses.created_by AS horses_created_by, horses.modified_by AS horses_modified_by, locations_1.location_id AS locations_1_location_id, locations_1.location_name AS locations_1_location_name, locations_1.address_line1 AS locations_1_address_line1, locations_1.address_line2 AS locations_1_address_line2, locations_1.city AS locations_1_city, locations_1.state_code AS locations_1_state_code, locations_1.zip_code AS locations_1_zip_code, locations_1.country_code AS locations_1_country_code, locations_1.phone AS locations_1_phone, locations_1.contact_person AS locations_1_contact_person, locations_1.email AS locations_1_email, locations_1.is_active AS locations_1_is_active, locations_1.created_date AS locations_1_created_date, locations_1.modified_date AS locations_1_modified_date, locations_1.created_by AS locations_1_created_by, locations_1.modified_by AS locations_1_modified_by 
FROM horses LEFT OUTER JOIN locations AS locations_1 ON locations_1.location_id = horses.current_location_id 
WHERE horses.is_active = 1 ORDER BY horses.horse_name]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: horses.reg_number

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\horse_controller.py", line 300, in search_horses
    horses = query.order_by(Horse.horse_name).all()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: horses.reg_number
[SQL: SELECT horses.horse_id AS horses_horse_id, horses.horse_name AS horses_horse_name, horses.account_number AS horses_account_number, horses.breed AS horses_breed, horses.color AS horses_color, horses.sex AS horses_sex, horses.date_of_birth AS horses_date_of_birth, horses.height_hands AS horses_height_hands, horses.chip_number AS horses_chip_number, horses.tattoo_number AS horses_tattoo_number, horses.reg_number AS horses_reg_number, horses.brand AS horses_brand, horses.band_tag AS horses_band_tag, horses.description AS horses_description, horses.is_active AS horses_is_active, horses.date_deceased AS horses_date_deceased, horses.coggins_date AS horses_coggins_date, horses.current_location_id AS horses_current_location_id, horses.created_date AS horses_created_date, horses.modified_date AS horses_modified_date, horses.created_by AS horses_created_by, horses.modified_by AS horses_modified_by, locations_1.location_id AS locations_1_location_id, locations_1.location_name AS locations_1_location_name, locations_1.address_line1 AS locations_1_address_line1, locations_1.address_line2 AS locations_1_address_line2, locations_1.city AS locations_1_city, locations_1.state_code AS locations_1_state_code, locations_1.zip_code AS locations_1_zip_code, locations_1.country_code AS locations_1_country_code, locations_1.phone AS locations_1_phone, locations_1.contact_person AS locations_1_contact_person, locations_1.email AS locations_1_email, locations_1.is_active AS locations_1_is_active, locations_1.created_date AS locations_1_created_date, locations_1.modified_date AS locations_1_modified_date, locations_1.created_by AS locations_1_created_by, locations_1.modified_by AS locations_1_modified_by 
FROM horses LEFT OUTER JOIN locations AS locations_1 ON locations_1.location_id = horses.current_location_id 
WHERE horses.is_active = 1 ORDER BY horses.horse_name]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 12:30:16,399 - ERROR - HorseController - horse_controller:306 - Error searching horses: (sqlite3.OperationalError) no such column: horses.reg_number
[SQL: SELECT horses.horse_id AS horses_horse_id, horses.horse_name AS horses_horse_name, horses.account_number AS horses_account_number, horses.breed AS horses_breed, horses.color AS horses_color, horses.sex AS horses_sex, horses.date_of_birth AS horses_date_of_birth, horses.height_hands AS horses_height_hands, horses.chip_number AS horses_chip_number, horses.tattoo_number AS horses_tattoo_number, horses.reg_number AS horses_reg_number, horses.brand AS horses_brand, horses.band_tag AS horses_band_tag, horses.description AS horses_description, horses.is_active AS horses_is_active, horses.date_deceased AS horses_date_deceased, horses.coggins_date AS horses_coggins_date, horses.current_location_id AS horses_current_location_id, horses.created_date AS horses_created_date, horses.modified_date AS horses_modified_date, horses.created_by AS horses_created_by, horses.modified_by AS horses_modified_by, locations_1.location_id AS locations_1_location_id, locations_1.location_name AS locations_1_location_name, locations_1.address_line1 AS locations_1_address_line1, locations_1.address_line2 AS locations_1_address_line2, locations_1.city AS locations_1_city, locations_1.state_code AS locations_1_state_code, locations_1.zip_code AS locations_1_zip_code, locations_1.country_code AS locations_1_country_code, locations_1.phone AS locations_1_phone, locations_1.contact_person AS locations_1_contact_person, locations_1.email AS locations_1_email, locations_1.is_active AS locations_1_is_active, locations_1.created_date AS locations_1_created_date, locations_1.modified_date AS locations_1_modified_date, locations_1.created_by AS locations_1_created_by, locations_1.modified_by AS locations_1_modified_by 
FROM horses LEFT OUTER JOIN locations AS locations_1 ON locations_1.location_id = horses.current_location_id ORDER BY horses.horse_name]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: horses.reg_number

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\horse_controller.py", line 300, in search_horses
    horses = query.order_by(Horse.horse_name).all()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: horses.reg_number
[SQL: SELECT horses.horse_id AS horses_horse_id, horses.horse_name AS horses_horse_name, horses.account_number AS horses_account_number, horses.breed AS horses_breed, horses.color AS horses_color, horses.sex AS horses_sex, horses.date_of_birth AS horses_date_of_birth, horses.height_hands AS horses_height_hands, horses.chip_number AS horses_chip_number, horses.tattoo_number AS horses_tattoo_number, horses.reg_number AS horses_reg_number, horses.brand AS horses_brand, horses.band_tag AS horses_band_tag, horses.description AS horses_description, horses.is_active AS horses_is_active, horses.date_deceased AS horses_date_deceased, horses.coggins_date AS horses_coggins_date, horses.current_location_id AS horses_current_location_id, horses.created_date AS horses_created_date, horses.modified_date AS horses_modified_date, horses.created_by AS horses_created_by, horses.modified_by AS horses_modified_by, locations_1.location_id AS locations_1_location_id, locations_1.location_name AS locations_1_location_name, locations_1.address_line1 AS locations_1_address_line1, locations_1.address_line2 AS locations_1_address_line2, locations_1.city AS locations_1_city, locations_1.state_code AS locations_1_state_code, locations_1.zip_code AS locations_1_zip_code, locations_1.country_code AS locations_1_country_code, locations_1.phone AS locations_1_phone, locations_1.contact_person AS locations_1_contact_person, locations_1.email AS locations_1_email, locations_1.is_active AS locations_1_is_active, locations_1.created_date AS locations_1_created_date, locations_1.modified_date AS locations_1_modified_date, locations_1.created_by AS locations_1_created_by, locations_1.modified_by AS locations_1_modified_by 
FROM horses LEFT OUTER JOIN locations AS locations_1 ON locations_1.location_id = horses.current_location_id ORDER BY horses.horse_name]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 12:30:16,403 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:30:16,403 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:30:19,768 - INFO - HorseUnifiedManagement - horse_unified_management:1032 - add_new_horse: START
2025-06-10 12:30:19,769 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 12:30:19,778 - INFO - HorseUnifiedManagement - horse_unified_management:1072 - add_new_horse: FINISHED
2025-06-10 12:30:43,686 - INFO - HorseUnifiedManagement - horse_unified_management:1130 - save_changes: START
2025-06-10 12:30:43,688 - ERROR - HorseController - horse_controller:163 - SQLAlchemyError creating horse: (sqlite3.OperationalError) table horses has no column named reg_number
[SQL: INSERT INTO horses (horse_name, account_number, breed, color, sex, date_of_birth, height_hands, chip_number, tattoo_number, reg_number, brand, band_tag, description, is_active, date_deceased, coggins_date, current_location_id, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('Daisy', '000456', None, None, 'Stallion', '2000-01-01', None, None, None, None, None, None, None, 1, None, '2000-01-01', None, '2025-06-10 16:30:43.688297', '2025-06-10 16:30:43.688297', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/e3q8) - Data was: {'horse_name': 'Daisy', 'account_number': '000456', 'breed': None, 'color': None, 'sex': 'Stallion', 'date_of_birth': datetime.date(2000, 1, 1), 'chip_number': None, 'tattoo_number': None, 'is_active': True, 'reg_number': None, 'brand': None, 'band_tag': None, 'coggins_date': datetime.date(2000, 1, 1), 'height_hands': None, 'description': None, 'date_deceased': None, 'current_location_id': None, 'created_by': 'tm', 'modified_by': 'tm'}
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table horses has no column named reg_number

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\horse_controller.py", line 140, in create_horse
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table horses has no column named reg_number
[SQL: INSERT INTO horses (horse_name, account_number, breed, color, sex, date_of_birth, height_hands, chip_number, tattoo_number, reg_number, brand, band_tag, description, is_active, date_deceased, coggins_date, current_location_id, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('Daisy', '000456', None, None, 'Stallion', '2000-01-01', None, None, None, None, None, None, None, 1, None, '2000-01-01', None, '2025-06-10 16:30:43.688297', '2025-06-10 16:30:43.688297', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 12:30:43,691 - ERROR - HorseUnifiedManagement - horse_unified_management:1250 - save_changes: Save failed. Message: A database error occurred while creating the horse: (sqlite3.OperationalError) table horses has no column named reg_number
[SQL: INSERT INTO horses (horse_name, account_number, breed, color, sex, date_of_birth, height_hands, chip_number, tattoo_number, reg_number, brand, band_tag, description, is_active, date_deceased, coggins_date, current_location_id, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('Daisy', '000456', None, None, 'Stallion', '2000-01-01', None, None, None, None, None, None, None, 1, None, '2000-01-01', None, '2025-06-10 16:30:43.688297', '2025-06-10 16:30:43.688297', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 12:30:43,691 - ERROR - HorseUnifiedManagement - base_view:197 - Displaying Error: Save Failed - A database error occurred while creating the horse: (sqlite3.OperationalError) table horses has no column named reg_number
[SQL: INSERT INTO horses (horse_name, account_number, breed, color, sex, date_of_birth, height_hands, chip_number, tattoo_number, reg_number, brand, band_tag, description, is_active, date_deceased, coggins_date, current_location_id, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('Daisy', '000456', None, None, 'Stallion', '2000-01-01', None, None, None, None, None, None, None, 1, None, '2000-01-01', None, '2025-06-10 16:30:43.688297', '2025-06-10 16:30:43.688297', 'tm', 'tm')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-10 12:31:25,916 - INFO - HorseUnifiedManagement - horse_unified_management:1255 - save_changes: FINISHED
2025-06-10 12:34:27,665 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 12:34:27,665 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 12:34:27,665 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 12:34:27,665 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 12:34:27,666 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 12:34:27,666 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 12:34:27,673 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 12:34:27,673 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 12:34:27,899 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 12:34:27,900 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 12:34:27,900 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 12:34:27,923 - WARNING - DatabaseManager - database_config:211 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-10 12:34:27,924 - INFO - DatabaseManager - database_config:223 - Created 'ADMIN' role.
2025-06-10 12:34:27,925 - INFO - DatabaseManager - database_config:282 - ADMIN user not found. Creating new ADMIN user...
2025-06-10 12:34:28,083 - INFO - DatabaseManager - database_config:294 - Created new ADMIN user with bcrypt password.
2025-06-10 12:34:28,085 - INFO - DatabaseManager - database_config:298 - Linked ADMIN user to ADMIN role.
2025-06-10 12:34:28,088 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 12:34:28,088 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 12:34:28,090 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 12:34:28,090 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 12:34:28,090 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 12:34:28,094 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 12:34:28,182 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 12:34:29,712 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 12:34:41,798 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 12:34:41,801 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-10 12:34:43,365 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-10 12:35:11,780 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 12:35:11,939 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 12:35:11,939 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 12:35:11,942 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 12:35:11,955 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 12:35:11,955 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 12:35:11,956 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 12:35:11,956 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 12:35:11,956 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 12:35:11,957 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 12:35:11,963 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 12:35:12,115 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 12:35:12,119 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 12:35:12,121 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 12:35:12,125 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 12:35:12,131 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 12:35:12,138 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 12:35:12,163 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 12:35:12,164 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 12:35:12,164 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 12:35:12,164 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 12:35:12,164 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 12:35:12,164 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 12:35:12,165 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 12:35:12,233 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 12:35:12,233 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 12:35:12,233 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 12:35:12,311 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 12:35:12,313 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:35:12,313 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 12:35:12,326 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 12:35:12,355 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 12:35:12,355 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:35:12,360 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 12:35:12,362 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 12:35:12,365 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:35:12,365 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:35:15,526 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 12:35:15,526 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 12:35:15,529 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 12:35:15,529 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 12:35:15,530 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 12:35:15,530 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 12:35:15,531 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 12:35:15,581 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 12:35:15,583 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 12:35:15,583 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 12:35:15,676 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 12:35:15,676 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 12:35:15,677 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 12:35:15,677 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 12:35:15,677 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 12:35:15,726 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 12:35:19,350 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 12:35:21,054 - INFO - HorseUnifiedManagement - horse_unified_management:1032 - add_new_horse: START
2025-06-10 12:35:21,055 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 12:35:21,061 - INFO - HorseUnifiedManagement - horse_unified_management:1072 - add_new_horse: FINISHED
2025-06-10 12:35:36,478 - INFO - HorseUnifiedManagement - horse_unified_management:1130 - save_changes: START
2025-06-10 12:35:36,487 - INFO - HorseController - horse_controller:143 - Horse 'daisy' (ID: 1) created successfully by ADMIN.
2025-06-10 12:35:36,488 - INFO - HorseUnifiedManagement - horse_unified_management:1197 - save_changes: Save successful. Message: Horse 'daisy' created successfully.
2025-06-10 12:35:36,488 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'daisy' created successfully.
2025-06-10 12:35:38,728 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:35:38,728 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:35:38,732 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 12:35:38,735 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 12:35:38,737 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:35:38,738 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:35:38,744 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:35:38,744 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:35:38,744 - INFO - HorseUnifiedManagement - horse_unified_management:1255 - save_changes: FINISHED
2025-06-10 12:35:43,098 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: daisy
2025-06-10 12:35:45,960 - INFO - OwnersTab - owners_tab:424 - Link existing owner dialog cancelled.
2025-06-10 12:35:50,180 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 12:35:50,180 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 12:35:50,182 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 12:35:50,182 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 12:35:50,183 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 12:35:50,183 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 12:35:50,199 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 12:35:50,200 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 12:37:16,073 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 12:37:16,074 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 12:37:16,074 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 12:37:16,074 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 12:37:16,074 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 12:37:16,074 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 12:37:16,082 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 12:37:16,082 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 12:37:16,086 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 12:37:16,087 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 12:37:16,087 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 12:37:16,268 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 12:37:16,270 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 12:37:16,270 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 12:37:16,270 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 12:37:16,270 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 12:37:16,271 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 12:37:16,275 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 12:37:16,366 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 12:37:17,834 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 12:37:25,969 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 12:37:25,970 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-10 12:37:27,369 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-10 12:37:45,088 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 12:37:45,251 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 12:37:45,251 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 12:37:45,253 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 12:37:45,268 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 12:37:45,269 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 12:37:45,269 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 12:37:45,269 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 12:37:45,269 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 12:37:45,270 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 12:37:45,276 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 12:37:45,434 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 12:37:45,438 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 12:37:45,440 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 12:37:45,444 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 12:37:45,450 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 12:37:45,456 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 12:37:45,482 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 12:37:45,483 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 12:37:45,484 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 12:37:45,484 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 12:37:45,484 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 12:37:45,485 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 12:37:45,485 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 12:37:45,558 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 12:37:45,560 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 12:37:45,560 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 12:37:45,643 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 12:37:45,646 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:37:45,646 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 12:37:45,662 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 12:37:45,689 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 12:37:45,690 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:37:45,698 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 12:37:45,705 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 12:37:45,707 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:37:45,712 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:37:45,719 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:37:45,724 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:37:45,724 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 12:37:50,797 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 12:37:50,798 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 12:37:50,800 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 12:37:50,801 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 12:37:50,801 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 12:37:50,801 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 12:37:50,802 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 12:37:50,853 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 12:37:50,856 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 12:37:50,856 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 12:37:50,953 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 12:37:50,953 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 12:37:50,954 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 12:37:50,954 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 12:37:50,954 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 12:37:50,999 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 12:37:53,507 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 12:37:53,507 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 12:37:53,513 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 12:37:54,814 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 12:37:54,814 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 12:37:54,818 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 12:37:58,034 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 12:37:58,034 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 12:37:58,041 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 12:37:59,825 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 12:37:59,825 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 12:37:59,828 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 12:37:59,976 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 12:38:01,590 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 12:38:01,590 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:38:01,594 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 12:38:01,594 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 12:38:04,200 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 12:42:44,671 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-10 12:42:44,677 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by ADMIN.
2025-06-10 12:42:46,864 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-10 12:42:50,015 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 12:42:50,015 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:42:50,020 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 12:42:50,020 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 12:43:59,821 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 12:43:59,821 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 12:45:58,019 - INFO - OwnerController - owner_controller:335 - Master Owner 'Quail Pond Farm (Patrick Kennedy)' (ID: 3) created by ADMIN.
2025-06-10 12:45:58,019 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Owner created successfully.
2025-06-10 12:45:59,847 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 12:45:59,848 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 12:45:59,849 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 12:46:03,027 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 12:46:07,504 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by ADMIN.
2025-06-10 12:46:09,626 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-10 12:46:14,801 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 12:46:21,524 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: daisy
2025-06-10 12:46:21,528 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 12:46:22,821 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-10 12:46:23,954 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 1
2025-06-10 12:46:23,963 - INFO - HorseController - horse_controller:530 - Horse ID 1 assigned to location ID 3 by ADMIN.
2025-06-10 12:46:23,963 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 1. Emitting signal.
2025-06-10 12:46:23,963 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-10 12:46:23,964 - INFO - HorseUnifiedManagement - horse_unified_management:885 - Location changed for horse ID 1. Reloading details.
2025-06-10 12:46:23,964 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:46:23,965 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:46:23,967 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:46:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:46:23,968 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-10 12:46:30,610 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: daisy
2025-06-10 12:46:33,570 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Quail Pond Farm (Patrick Kennedy) [QP001]
2025-06-10 12:46:46,748 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 3 with 70.0% to horse ID 1
2025-06-10 12:46:46,754 - INFO - HorseController - horse_controller:419 - Owner ID 3 added to horse ID 1 by ADMIN.
2025-06-10 12:46:46,754 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 12:46:48,356 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 12:46:48,356 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:46:48,360 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:46:48,361 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:46:48,363 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:46:51,291 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: daisy
2025-06-10 12:46:52,544 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-10 12:47:01,416 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 1 with 30.0% to horse ID 1
2025-06-10 12:47:01,423 - INFO - HorseController - horse_controller:419 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-10 12:47:01,423 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 12:47:03,111 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 12:47:03,111 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:47:03,114 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: daisy
2025-06-10 12:47:03,116 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:47:03,117 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:47:15,064 - INFO - HorseUnifiedManagement - horse_unified_management:1492 - edit_selected_horse triggered. Item: False
2025-06-10 12:47:15,064 - INFO - BasicInfoTab - basic_info_tab:507 - BasicInfoTab set_edit_mode: True
2025-06-10 12:47:23,485 - INFO - HorseUnifiedManagement - horse_unified_management:1130 - save_changes: START
2025-06-10 12:47:23,491 - INFO - HorseController - horse_controller:214 - Horse ID 1 updated successfully by ADMIN.
2025-06-10 12:47:23,491 - INFO - HorseUnifiedManagement - horse_unified_management:1197 - save_changes: Save successful. Message: Horse details updated successfully.
2025-06-10 12:47:23,491 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse details updated successfully.
2025-06-10 12:47:25,581 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:47:25,583 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 12:47:25,586 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 12:47:25,588 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 12:47:25,589 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:47:25,591 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Daisy
2025-06-10 12:47:25,592 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:47:25,594 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:47:25,594 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:47:25,595 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Daisy
2025-06-10 12:47:25,599 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:47:25,599 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:47:25,601 - INFO - HorseUnifiedManagement - horse_unified_management:1255 - save_changes: FINISHED
2025-06-10 12:48:53,236 - INFO - HorseUnifiedManagement - horse_unified_management:1032 - add_new_horse: START
2025-06-10 12:48:53,236 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 12:48:53,240 - INFO - HorseUnifiedManagement - horse_unified_management:1072 - add_new_horse: FINISHED
2025-06-10 12:49:10,759 - INFO - HorseUnifiedManagement - horse_unified_management:1130 - save_changes: START
2025-06-10 12:49:10,768 - INFO - HorseController - horse_controller:143 - Horse 'Doroni' (ID: 2) created successfully by ADMIN.
2025-06-10 12:49:10,769 - INFO - HorseUnifiedManagement - horse_unified_management:1197 - save_changes: Save successful. Message: Horse 'Doroni' created successfully.
2025-06-10 12:49:10,770 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Doroni' created successfully.
2025-06-10 12:49:12,852 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Doroni
2025-06-10 12:49:12,852 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 12:49:12,855 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-10 12:49:12,875 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-10 12:49:12,877 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 12:49:12,879 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Doroni
2025-06-10 12:49:12,880 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 12:49:12,880 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 12:49:12,881 - INFO - HorseUnifiedManagement - horse_unified_management:1255 - save_changes: FINISHED
2025-06-10 12:49:19,882 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: Doroni
2025-06-10 12:49:21,206 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Quail Pond Farms (Sarah Davis) [SD001]
2025-06-10 12:49:22,578 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 2 with 100.0% to horse ID 2
2025-06-10 12:49:22,584 - INFO - HorseController - horse_controller:419 - Owner ID 2 added to horse ID 2 by ADMIN.
2025-06-10 12:49:22,584 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 12:49:24,115 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 12:49:24,115 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 12:49:24,118 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Doroni
2025-06-10 12:49:24,121 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 12:49:24,121 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 12:49:26,480 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-10 12:49:26,484 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 12:49:28,370 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-10 12:49:29,410 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 2
2025-06-10 12:49:29,415 - INFO - HorseController - horse_controller:530 - Horse ID 2 assigned to location ID 2 by ADMIN.
2025-06-10 12:49:29,416 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 2. Emitting signal.
2025-06-10 12:49:29,416 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-10 12:49:29,416 - INFO - HorseUnifiedManagement - horse_unified_management:885 - Location changed for horse ID 2. Reloading details.
2025-06-10 12:49:29,416 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 2
2025-06-10 12:49:29,418 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Doroni
2025-06-10 12:49:29,420 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 12:49:29,420 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 12:49:29,421 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-10 12:49:39,655 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 12:49:39,657 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Daisy
2025-06-10 12:49:39,659 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:49:39,660 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 12:55:51,480 - INFO - FinancialController - financial_controller:313 - Successfully added 3 charges for horse ID 1.
2025-06-10 12:55:51,490 - INFO - FinancialController - financial_controller:264 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 12:56:14,656 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of Daisy, splitting a total of $115.00 based on their ownership percentage.

Proceed?
2025-06-10 12:56:21,407 - INFO - FinancialController - financial_controller:109 - --- Starting Invoice Generation for transaction IDs: [1, 2, 3] ---
2025-06-10 12:56:21,414 - INFO - FinancialController - financial_controller:143 - Generating invoices for 1 horse(s).
2025-06-10 12:56:21,422 - INFO - FinancialController - financial_controller:230 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 12:56:21,423 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 12:56:21,424 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-10 12:56:53,946 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:/Projects/EDMS/Invoices\Invoice-1.pdf
2025-06-10 12:56:53,952 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:/Projects/EDMS/Invoices\Invoice-2.pdf
2025-06-10 12:57:29,546 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:/Projects/EDMS/Invoices\Invoice-1.pdf
2025-06-10 12:57:29,551 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:/Projects/EDMS/Invoices\Invoice-2.pdf
2025-06-10 12:57:48,014 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Batch Email - This will attempt to open 2 separate draft emails. Do you want to continue?
2025-06-10 12:57:50,409 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:\Projects\EDMS\invoices\Invoice-1 for Smith.pdf
2025-06-10 12:57:50,441 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #2 at C:\Projects\EDMS\invoices\Invoice-2 for Kennedy.pdf
2025-06-10 13:01:48,325 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice(s) - Are you sure you want to permanently delete the following 1 invoice(s)?

- INV-1

This will adjust each owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-10 13:02:04,438 - INFO - FinancialController - financial_controller:461 - Deleting Invoice #1 for owner '1'. Reversing balance by $34.50.
2025-06-10 13:02:04,444 - INFO - FinancialController - financial_controller:481 - Successfully deleted Invoice #1 and adjusted owner balance.
2025-06-10 13:02:04,444 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-10 13:02:04,448 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 13:02:06,923 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice(s) - Are you sure you want to permanently delete the following 1 invoice(s)?

- INV-2

This will adjust each owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-10 13:02:08,176 - INFO - FinancialController - financial_controller:461 - Deleting Invoice #2 for owner '3'. Reversing balance by $80.50.
2025-06-10 13:02:08,182 - INFO - FinancialController - financial_controller:481 - Successfully deleted Invoice #2 and adjusted owner balance.
2025-06-10 13:02:08,182 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-10 13:02:08,184 - INFO - FinancialController - financial_controller:264 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 13:03:20,747 - INFO - HorseUnifiedManagement - horse_unified_management:1637 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 13:03:20,747 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 13:03:20,750 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 13:03:20,750 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 13:03:20,750 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 13:03:20,751 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 13:03:20,770 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 13:03:20,771 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 14:01:51,079 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 14:01:51,080 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 14:01:51,081 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 14:01:51,081 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 14:01:51,081 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 14:01:51,081 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 14:01:51,088 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 14:01:51,089 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 14:01:51,092 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 14:01:51,093 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 14:01:51,093 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 14:01:51,271 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 14:01:51,273 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 14:01:51,273 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 14:01:51,273 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 14:01:51,274 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 14:01:51,274 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 14:01:51,278 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 14:01:51,370 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 14:01:53,022 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 14:02:02,117 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 14:02:02,119 - WARNING - UserController - user_controller:57 - Login ID 'tm' not found during authentication.
2025-06-10 14:02:03,519 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: tm. Reason: Invalid Login ID or Password.
2025-06-10 14:02:12,758 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 14:02:12,917 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 14:02:12,917 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 14:02:12,919 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 14:02:12,933 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 14:02:12,934 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 14:02:12,934 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 14:02:12,934 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 14:02:12,934 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 14:02:12,935 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 14:02:12,940 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 14:02:13,069 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 14:02:13,073 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 14:02:13,075 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 14:02:13,079 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 14:02:13,085 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 14:02:13,091 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 14:02:13,118 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 14:02:13,118 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 14:02:13,120 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 14:02:13,120 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 14:02:13,120 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 14:02:13,121 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 14:02:13,121 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 14:02:13,190 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 14:02:13,193 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 14:02:13,193 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 14:02:13,193 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 14:02:13,270 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 14:02:13,272 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 14:02:13,273 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 14:02:13,273 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 14:02:13,288 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 14:02:13,316 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 14:02:13,317 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 14:02:13,325 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-10 14:02:13,331 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-10 14:02:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 1
2025-06-10 14:02:13,338 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Daisy
2025-06-10 14:02:13,345 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 14:02:13,349 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 14:02:19,578 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 14:02:24,850 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 14:02:24,850 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 14:02:24,852 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 14:02:24,853 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 14:02:24,853 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 14:02:24,853 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 14:02:24,854 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 14:02:24,906 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 14:02:24,909 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 14:02:24,909 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 14:02:25,005 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 14:02:25,006 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 14:02:25,006 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 14:02:25,007 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 14:02:25,007 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 14:02:25,056 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 14:02:28,802 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 14:02:28,802 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 14:02:28,808 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 14:02:29,523 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 14:02:29,523 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 14:02:29,526 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 14:02:31,714 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 14:02:31,714 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 14:02:31,721 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 14:02:32,458 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 14:02:32,459 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 14:02:32,461 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 14:02:32,608 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 14:02:33,184 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 14:02:33,185 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 14:02:33,189 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 14:02:33,189 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 14:02:39,582 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 14:02:46,659 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by ADMIN.
2025-06-10 14:02:49,895 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-10 14:02:53,042 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 14:02:53,043 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 14:02:53,046 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 14:03:58,406 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzerisi' created by ADMIN.
2025-06-10 14:04:00,327 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 14:04:00,330 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 14:04:00,331 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Veterinarian added successfully.
2025-06-10 14:04:09,606 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 14:04:10,539 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 14:04:10,540 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 14:04:10,543 - INFO - OwnerController - owner_controller:68 - Retrieved 3 master owners (status_filter=active).
2025-06-10 14:04:10,543 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 3 owners.
2025-06-10 14:04:11,294 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 14:04:11,294 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 14:04:11,297 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 14:04:11,458 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 14:04:12,372 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 14:04:12,372 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 14:04:12,379 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 14:04:13,518 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 14:04:13,518 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 14:04:13,521 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 14:04:14,470 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 14:04:14,470 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 14:04:14,473 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 14:04:15,862 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 14:04:15,862 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 14:04:15,864 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 14:04:16,954 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-10 14:04:16,954 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 14:04:16,957 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 14:04:19,887 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-10 14:05:40,060 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-10 14:05:40,222 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-10 14:05:40,222 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-10 14:05:40,228 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 14:05:40,229 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 14:05:43,578 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 14:05:46,974 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 2
2025-06-10 14:05:46,976 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Doroni
2025-06-10 14:05:46,978 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 14:05:46,978 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 14:20:30,492 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 14:20:30,493 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 14:20:30,493 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 14:20:30,493 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 14:20:30,494 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 14:20:30,494 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 14:20:30,501 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 14:20:30,501 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 14:20:30,504 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 14:20:30,505 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 14:20:30,505 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 14:20:30,687 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 14:20:30,689 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 14:20:30,689 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 14:20:30,689 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 14:20:30,690 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 14:20:30,690 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 14:20:30,694 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 14:20:30,784 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 14:20:32,354 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 14:20:40,974 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 14:20:41,136 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 14:20:41,136 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 14:20:41,139 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 14:20:41,151 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 14:20:41,151 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 14:20:41,151 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 14:20:41,152 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 14:20:41,152 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 14:20:41,152 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 14:20:41,159 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 150, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_main_content(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 738, in setup_main_content
    self.setup_horse_details_panel()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 775, in setup_horse_details_panel
    self.setup_horse_header_details(details_content_layout)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 150, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_main_content(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 738, in setup_main_content
    self.setup_horse_details_panel()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 775, in setup_horse_details_panel
    self.setup_horse_header_details(details_content_layout)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
2025-06-10 14:20:44,745 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 14:20:44,745 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 14:25:41,028 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 14:25:41,028 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 14:25:41,029 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 14:25:41,029 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 14:25:41,030 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 14:25:41,030 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 14:25:41,037 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 14:25:41,037 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 14:25:41,041 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 14:25:41,041 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 14:25:41,041 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 14:25:41,221 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 14:25:41,223 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 14:25:41,223 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 14:25:41,224 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 14:25:41,224 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 14:25:41,224 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 14:25:41,229 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 14:25:41,321 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 14:25:43,652 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 14:25:52,788 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 14:25:52,948 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 14:25:52,948 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 14:25:52,951 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 14:25:52,962 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 14:25:52,963 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 14:25:52,964 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 14:25:52,964 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 14:25:52,964 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 14:25:52,966 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 14:25:52,971 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 14:25:53,117 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 14:25:53,120 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 14:25:53,122 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 14:25:53,126 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 14:25:53,132 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 14:25:53,138 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 14:25:53,164 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 14:25:53,165 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 14:25:53,165 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 14:25:53,166 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 14:25:53,166 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 14:25:53,166 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 14:25:53,166 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 14:25:53,234 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 14:25:53,235 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 14:25:53,235 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 14:25:53,235 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 14:25:53,318 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 14:25:53,319 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 14:25:53,319 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 14:25:53,319 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 14:25:53,338 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 14:25:53,376 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 14:25:53,376 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 14:25:53,385 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-10 14:25:53,394 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-10 14:25:53,396 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 1
2025-06-10 14:25:53,402 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Daisy
2025-06-10 14:25:53,409 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 14:25:53,412 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 14:26:00,142 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 16:32:51,606 - INFO - HorseUnifiedManagement - horse_unified_management:1612 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 16:32:51,606 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 16:32:51,607 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 16:32:51,607 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 16:32:51,608 - WARNING - HorseUnifiedManagement - horse_unified_management:548 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 16:32:51,608 - WARNING - HorseUnifiedManagement - horse_unified_management:551 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 16:32:51,620 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 16:32:51,621 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:04:32,213 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:04:32,213 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:04:32,214 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:04:32,214 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:04:32,214 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:04:32,214 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:04:32,222 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:04:32,222 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:04:32,449 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:04:32,450 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:04:32,450 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:04:32,473 - WARNING - DatabaseManager - database_config:211 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-10 17:04:32,475 - INFO - DatabaseManager - database_config:223 - Created 'ADMIN' role.
2025-06-10 17:04:32,476 - INFO - DatabaseManager - database_config:282 - ADMIN user not found. Creating new ADMIN user...
2025-06-10 17:04:32,633 - INFO - DatabaseManager - database_config:294 - Created new ADMIN user with bcrypt password.
2025-06-10 17:04:32,634 - INFO - DatabaseManager - database_config:298 - Linked ADMIN user to ADMIN role.
2025-06-10 17:04:32,638 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:04:32,638 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:04:32,640 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:04:32,640 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:04:32,640 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:04:32,645 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:04:32,738 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:04:34,364 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:04:45,317 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:04:45,479 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:04:45,480 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:04:45,482 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:04:45,497 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:04:45,497 - INFO - HorseUnifiedManagement - horse_unified_management:109 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:04:45,498 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:04:45,498 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:04:45,499 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:04:45,499 - INFO - HorseUnifiedManagement - horse_unified_management:170 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:04:45,502 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'handle_logout_request_from_menu'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 152, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_header(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 656, in setup_header
    logout_action.triggered.connect(self.handle_logout_request_from_menu)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'handle_logout_request_from_menu'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 152, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_header(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 656, in setup_header
    logout_action.triggered.connect(self.handle_logout_request_from_menu)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'handle_logout_request_from_menu'
2025-06-10 17:04:53,540 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 17:04:53,541 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:09:25,873 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:09:25,873 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:09:25,874 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:09:25,874 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:09:25,874 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:09:25,875 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:09:25,882 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:09:25,882 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:09:25,885 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:09:25,886 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:09:25,886 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:09:26,067 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:09:26,069 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:09:26,069 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:09:26,069 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:09:26,070 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:09:26,070 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:09:26,075 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:09:26,169 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:09:28,402 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:09:43,333 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:09:43,495 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:09:43,495 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:09:43,498 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:09:43,511 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:09:43,511 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:09:43,512 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:09:43,512 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:09:43,513 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:09:43,513 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:09:43,520 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:09:43,666 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:09:43,672 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:09:43,673 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:09:43,677 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:09:43,682 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:09:43,689 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:09:43,715 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:09:43,715 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 17:09:43,716 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 17:09:43,716 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 17:09:43,716 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:09:43,716 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:09:43,717 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:09:43,791 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:09:43,793 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 17:09:43,793 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:09:43,793 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:09:43,874 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 17:09:43,876 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:09:43,876 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:09:43,876 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:09:43,892 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:09:43,922 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:09:43,922 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:09:43,927 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:09:43,930 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:09:43,933 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:09:43,934 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:09:43,934 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:09:51,015 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 17:09:51,015 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 17:09:51,017 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 17:09:51,018 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 17:09:51,018 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 17:09:51,019 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 17:09:51,019 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 17:09:51,072 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 17:09:51,074 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 17:09:51,074 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 17:09:51,172 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 17:09:51,173 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 17:09:51,173 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 17:09:51,173 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 17:09:51,173 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 17:09:51,225 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 17:09:53,804 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 17:09:53,805 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 17:09:53,810 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 0 locations.
2025-06-10 17:09:56,007 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 17:09:56,007 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 17:09:56,011 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 17:09:56,940 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 17:09:56,940 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 17:09:56,944 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 17:09:58,115 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 17:09:58,115 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 17:09:58,117 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 17:09:58,120 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 0 charge codes based on filter 'active'.
2025-06-10 17:09:59,191 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 17:09:59,191 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 17:09:59,196 - INFO - OwnerController - owner_controller:68 - Retrieved 0 master owners (status_filter=active).
2025-06-10 17:09:59,196 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 0 owners.
2025-06-10 17:10:01,524 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 17:10:03,376 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 17:10:04,697 - WARNING - HorseUnifiedManagement - horse_unified_management:548 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 17:10:04,697 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 17:10:04,699 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 17:10:04,700 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 17:10:04,713 - WARNING - HorseUnifiedManagement - horse_unified_management:551 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 17:10:04,715 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 17:10:04,716 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:11:42,537 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:11:42,537 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:11:42,539 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:11:42,540 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:11:42,540 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:11:42,540 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:11:42,547 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:11:42,548 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:11:42,554 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:11:42,555 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:11:42,555 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:11:42,735 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:11:42,737 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:11:42,737 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:11:42,738 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:11:42,738 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:11:42,738 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:11:42,743 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:11:42,834 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:11:47,255 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:12:03,109 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:12:03,271 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:12:03,271 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:12:03,273 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:12:03,288 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:12:03,288 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:12:03,289 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:12:03,289 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:12:03,289 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:12:03,289 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:12:03,296 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:12:03,457 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:12:03,461 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:12:03,463 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:12:03,467 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:12:03,473 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:12:03,480 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:12:03,506 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:12:03,506 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 17:12:03,509 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 17:12:03,509 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 17:12:03,509 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:12:03,510 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:12:03,510 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:12:03,581 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:12:03,583 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 17:12:03,583 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:12:03,584 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:12:03,665 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 17:12:03,667 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:12:03,667 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:12:03,667 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:12:03,682 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:12:03,711 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:12:03,712 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:12:03,717 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:12:03,720 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:12:03,723 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:12:03,723 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:12:03,723 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:12:09,070 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 17:12:09,070 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 17:12:09,072 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 17:12:09,073 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 17:12:09,073 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 17:12:09,073 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 17:12:09,074 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 17:12:09,124 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 17:12:09,127 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 17:12:09,127 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 17:12:09,218 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 17:12:09,218 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 17:12:09,219 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 17:12:09,219 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 17:12:09,219 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 17:12:09,267 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 17:12:12,682 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 17:12:12,683 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 17:12:12,689 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 17:12:13,591 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 17:12:13,591 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 17:12:13,594 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 17:12:15,440 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 17:12:15,441 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 17:12:15,448 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 17:12:16,390 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 17:12:16,391 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 17:12:16,392 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 17:12:16,538 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 17:12:17,620 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 17:12:17,620 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 17:12:17,624 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 17:12:17,625 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 17:12:19,780 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 17:12:21,655 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 17:12:25,006 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - add_new_horse: START
2025-06-10 17:12:25,007 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:12:25,011 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 17:19:37,079 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:19:37,079 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:19:37,081 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:19:37,081 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:19:37,081 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:19:37,081 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:19:37,088 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:19:37,088 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:19:37,091 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:19:37,092 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:19:37,092 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:19:37,271 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:19:37,274 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:19:37,275 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:19:37,275 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:19:37,275 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:19:37,275 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:19:37,280 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:19:37,375 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:19:38,766 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:19:50,586 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:19:50,746 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:19:50,746 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:19:50,749 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:19:50,762 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:19:50,762 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:19:50,762 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:19:50,763 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:19:50,763 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:19:50,763 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:19:50,769 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:19:50,919 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:19:50,923 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:19:50,925 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:19:50,929 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:19:50,934 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:19:50,940 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:19:50,965 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:19:50,966 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 17:19:50,968 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 17:19:50,968 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 17:19:50,968 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:19:50,969 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:19:50,969 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:19:51,041 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:19:51,043 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 17:19:51,044 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:19:51,044 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:19:51,125 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 17:19:51,128 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:19:51,128 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:19:51,128 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:19:51,157 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:19:51,193 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:19:51,194 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:19:51,199 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:19:51,202 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:19:51,204 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:19:51,204 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:19:51,204 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:19:55,392 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - add_new_horse: START
2025-06-10 17:19:55,393 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:19:55,398 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 17:30:01,353 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:30:01,353 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:30:01,355 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:30:01,355 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:30:01,355 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:30:01,355 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:30:01,363 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:30:01,363 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:30:01,366 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:30:01,367 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:30:01,367 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:30:01,546 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:30:01,548 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:30:01,548 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:30:01,549 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:30:01,549 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:30:01,549 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:30:01,554 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:30:01,647 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:30:03,167 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:30:12,078 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:30:12,237 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:30:12,238 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:30:12,240 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:30:12,254 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:30:12,254 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:30:12,254 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:30:12,255 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:30:12,255 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:30:12,255 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:30:12,261 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:30:12,413 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:30:12,417 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:30:12,419 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:30:12,423 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:30:12,429 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:30:12,436 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:30:12,462 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:30:12,463 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 17:30:12,463 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 17:30:12,464 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 17:30:12,464 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:30:12,464 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:30:12,464 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:30:12,536 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:30:12,539 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 17:30:12,539 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:30:12,540 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:30:12,626 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 17:30:12,628 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:30:12,629 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:30:12,629 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:30:12,655 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:30:12,688 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:30:12,689 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:30:12,695 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:30:12,697 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:30:12,703 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:30:12,703 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:30:12,704 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:30:16,367 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - add_new_horse: START
2025-06-10 17:30:16,367 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:30:16,373 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 17:43:34,958 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:43:34,958 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:43:34,959 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:43:34,960 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:43:34,960 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:43:34,960 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:43:34,967 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:43:34,968 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:43:34,971 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:43:34,972 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:43:34,972 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:43:35,152 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:43:35,154 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:43:35,155 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:43:35,155 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:43:35,155 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:43:35,156 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:43:35,160 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:43:35,252 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:43:36,776 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:43:45,518 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:43:45,680 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:43:45,681 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:43:45,683 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:43:45,694 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:43:45,695 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:43:45,696 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:43:45,696 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:43:45,697 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:43:45,697 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:43:45,702 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:43:45,873 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:43:45,877 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:43:45,879 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:43:45,883 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:43:45,889 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:43:45,895 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:43:45,923 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:43:45,923 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 17:43:45,924 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 17:43:45,924 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 17:43:45,925 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:43:45,925 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:43:45,925 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:43:45,996 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:43:45,998 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 17:43:45,999 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:43:45,999 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:43:46,079 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 17:43:46,082 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:43:46,082 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:43:46,082 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:43:46,105 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:43:46,144 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:43:46,144 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:43:46,159 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:43:46,162 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:43:46,163 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 17:43:46,164 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 17:43:46,164 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:43:51,201 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - add_new_horse: START
2025-06-10 17:43:51,202 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:43:51,208 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 17:43:56,872 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 17:43:56,873 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 17:43:56,875 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 17:43:56,875 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 17:43:56,876 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 17:43:56,876 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 17:43:56,876 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 17:43:56,926 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 17:43:56,929 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 17:43:56,929 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 17:43:57,021 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 17:43:57,023 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 17:43:57,024 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 17:43:57,024 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 17:43:57,024 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 17:43:57,077 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 17:44:01,320 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 17:46:37,552 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:46:37,553 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:46:37,554 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:46:37,554 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:46:37,554 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:46:37,554 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:46:37,561 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:46:37,562 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:46:37,564 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:46:37,565 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:46:37,565 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:46:37,746 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:46:37,748 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:46:37,748 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:46:37,748 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:46:37,748 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:46:37,749 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:46:37,753 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:46:37,845 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:46:39,343 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:46:48,755 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:46:48,917 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:46:48,918 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:46:48,920 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:46:48,934 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:46:48,934 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:46:48,935 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:46:48,935 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:46:48,935 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:46:48,935 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:46:48,942 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:46:49,108 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 17:46:49,113 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 17:46:49,114 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 17:46:49,119 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 17:46:49,124 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 17:46:49,131 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 17:46:49,157 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:46:49,158 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 17:46:49,160 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 17:46:49,160 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 17:46:49,160 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:46:49,160 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:46:49,160 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:46:49,237 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:46:49,239 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:46:49,239 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:46:49,326 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 17:46:49,329 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 17:46:49,330 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:46:49,350 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:46:49,380 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:46:49,380 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:46:49,385 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:46:49,388 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:46:49,395 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 17:46:49,395 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:46:51,919 - INFO - HorseUnifiedManagement - horse_unified_management:1032 - add_new_horse: START
2025-06-10 17:46:51,920 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:46:51,927 - INFO - HorseUnifiedManagement - horse_unified_management:1072 - add_new_horse: FINISHED
2025-06-10 17:48:02,059 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 17:48:02,060 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 17:48:02,062 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 17:48:02,063 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 17:48:02,083 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 17:48:02,087 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 17:48:02,093 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:48:07,608 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:48:07,609 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:48:07,609 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:48:07,609 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:48:07,609 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:48:07,609 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:48:07,616 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:48:07,616 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:48:07,620 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:48:07,621 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:48:07,621 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:48:07,801 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:48:07,803 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:48:07,803 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:48:07,803 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:48:07,803 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:48:07,804 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:48:07,808 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:48:07,903 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:48:09,365 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:48:27,185 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:48:27,348 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:48:27,349 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:48:27,352 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:48:27,369 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:48:27,370 - INFO - HorseUnifiedManagement - horse_unified_management:108 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:48:27,370 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:48:27,370 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:48:27,371 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:48:27,371 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:48:27,379 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:48:27,544 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 17:48:27,549 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 17:48:27,551 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 17:48:27,555 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 17:48:27,561 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 17:48:27,569 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 17:48:27,597 - INFO - HorseUnifiedManagement - horse_unified_management:1697 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:48:27,597 - INFO - HorseUnifiedManagement - horse_unified_management:1721 - Connecting BasicInfoTab signals.
2025-06-10 17:48:27,599 - INFO - HorseUnifiedManagement - horse_unified_management:1737 - Connecting OwnersTab signals.
2025-06-10 17:48:27,599 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting LocationTab signals.
2025-06-10 17:48:27,599 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:48:27,600 - INFO - HorseUnifiedManagement - horse_unified_management:1764 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:48:27,600 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:48:27,676 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:48:27,677 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:48:27,678 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:48:27,759 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-10 17:48:27,761 - INFO - HorseUnifiedManagement - horse_unified_management:380 - display_empty_state: FINISHED
2025-06-10 17:48:27,762 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:48:27,777 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:48:27,804 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:48:27,804 - INFO - HorseUnifiedManagement - horse_unified_management:1318 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:48:27,810 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:48:27,812 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:48:27,815 - INFO - HorseUnifiedManagement - horse_unified_management:380 - display_empty_state: FINISHED
2025-06-10 17:48:27,815 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:48:30,572 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - add_new_horse: START
2025-06-10 17:48:30,573 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:48:30,581 - INFO - HorseUnifiedManagement - horse_unified_management:1068 - add_new_horse: FINISHED
2025-06-10 17:48:59,684 - WARNING - HorseUnifiedManagement - horse_unified_management:548 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 17:48:59,685 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 17:48:59,689 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 17:48:59,689 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 17:48:59,709 - WARNING - HorseUnifiedManagement - horse_unified_management:551 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 17:48:59,713 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 17:48:59,713 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:49:04,770 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:49:04,770 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:49:04,770 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:49:04,770 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:49:04,771 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:49:04,771 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:49:04,778 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:49:04,778 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:49:04,782 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:49:04,783 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:49:04,784 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:49:04,962 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:49:04,964 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:49:04,965 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:49:04,965 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:49:04,965 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:49:04,965 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:49:04,970 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:49:05,059 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:49:06,677 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:49:15,681 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:49:15,844 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:49:15,844 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:49:15,847 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:49:15,860 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:49:15,861 - INFO - HorseUnifiedManagement - horse_unified_management:102 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:49:15,861 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:49:15,861 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:49:15,862 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:49:15,862 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:49:15,868 - INFO - HorseUnifiedManagement - horse_unified_management:816 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:49:16,027 - INFO - HorseUnifiedManagement - horse_unified_management:828 - BasicInfoTab created.
2025-06-10 17:49:16,031 - INFO - HorseUnifiedManagement - horse_unified_management:836 - OwnersTab created.
2025-06-10 17:49:16,033 - INFO - HorseUnifiedManagement - horse_unified_management:844 - LocationTab created.
2025-06-10 17:49:16,037 - INFO - HorseUnifiedManagement - horse_unified_management:850 - BillingTab created.
2025-06-10 17:49:16,044 - INFO - HorseUnifiedManagement - horse_unified_management:856 - InvoiceHistoryTab created.
2025-06-10 17:49:16,050 - INFO - HorseUnifiedManagement - horse_unified_management:859 - Tabs added.
2025-06-10 17:49:16,078 - INFO - HorseUnifiedManagement - horse_unified_management:1686 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:49:16,078 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - Connecting BasicInfoTab signals.
2025-06-10 17:49:16,079 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting OwnersTab signals.
2025-06-10 17:49:16,079 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting LocationTab signals.
2025-06-10 17:49:16,079 - INFO - HorseUnifiedManagement - horse_unified_management:1745 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:49:16,079 - INFO - HorseUnifiedManagement - horse_unified_management:1751 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:49:16,080 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:49:16,150 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:49:16,152 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:49:16,152 - INFO - HorseUnifiedManagement - horse_unified_management:158 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:49:16,233 - INFO - HorseUnifiedManagement - horse_unified_management:181 - HorseUnifiedManagement showEvent: START
2025-06-10 17:49:16,236 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-10 17:49:16,236 - INFO - HorseUnifiedManagement - horse_unified_management:226 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:49:16,250 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:49:16,282 - INFO - HorseUnifiedManagement - horse_unified_management:526 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:49:16,283 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:49:16,288 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-10 17:49:16,290 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-10 17:49:16,294 - INFO - HorseUnifiedManagement - horse_unified_management:374 - display_empty_state: FINISHED
2025-06-10 17:49:16,294 - INFO - HorseUnifiedManagement - horse_unified_management:529 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:49:18,502 - INFO - HorseUnifiedManagement - horse_unified_management:1022 - add_new_horse: START
2025-06-10 17:49:18,502 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 17:49:18,509 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - add_new_horse: FINISHED
2025-06-10 17:49:38,610 - INFO - HorseUnifiedManagement - horse_unified_management:1120 - save_changes: START
2025-06-10 17:49:38,619 - INFO - HorseController - horse_controller:143 - Horse 'doroni' (ID: 1) created successfully by ADMIN.
2025-06-10 17:49:38,620 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'doroni' created successfully.
2025-06-10 17:49:38,620 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'doroni' created successfully.
2025-06-10 17:49:40,797 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 17:49:40,797 - INFO - HorseUnifiedManagement - horse_unified_management:1312 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:49:40,803 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 17:49:40,805 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 17:49:40,807 - INFO - HorseUnifiedManagement - horse_unified_management:992 - load_horse_details: START for horse ID: 1
2025-06-10 17:49:40,809 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 17:49:40,814 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 17:49:40,814 - INFO - HorseUnifiedManagement - horse_unified_management:1019 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 17:49:40,816 - INFO - HorseUnifiedManagement - horse_unified_management:1245 - save_changes: FINISHED
2025-06-10 17:49:43,428 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: doroni
2025-06-10 17:49:43,434 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 17:49:45,221 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-10 17:50:12,245 - INFO - HorseUnifiedManagement - horse_unified_management:1627 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-10 17:50:12,246 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-10 17:50:12,248 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 17:50:12,248 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 17:50:12,249 - WARNING - HorseUnifiedManagement - horse_unified_management:542 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 17:50:12,249 - WARNING - HorseUnifiedManagement - horse_unified_management:545 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 17:50:12,264 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 17:50:12,264 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 17:58:18,699 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 17:58:18,699 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 17:58:18,700 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 17:58:18,701 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 17:58:18,701 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 17:58:18,701 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 17:58:18,709 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 17:58:18,709 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 17:58:18,712 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 17:58:18,712 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 17:58:18,713 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 17:58:18,893 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 17:58:18,895 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 17:58:18,895 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 17:58:18,895 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 17:58:18,895 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 17:58:18,896 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 17:58:18,900 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 17:58:18,990 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 17:58:20,389 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 17:58:32,254 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 17:58:32,416 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 17:58:32,416 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 17:58:32,419 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 17:58:32,435 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 17:58:32,435 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 17:58:32,435 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 17:58:32,436 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 17:58:32,436 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 17:58:32,437 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 17:58:32,444 - INFO - HorseUnifiedManagement - horse_unified_management:826 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 17:58:32,607 - INFO - HorseUnifiedManagement - horse_unified_management:838 - BasicInfoTab created.
2025-06-10 17:58:32,612 - INFO - HorseUnifiedManagement - horse_unified_management:846 - OwnersTab created.
2025-06-10 17:58:32,613 - INFO - HorseUnifiedManagement - horse_unified_management:854 - LocationTab created.
2025-06-10 17:58:32,618 - INFO - HorseUnifiedManagement - horse_unified_management:860 - BillingTab created.
2025-06-10 17:58:32,624 - INFO - HorseUnifiedManagement - horse_unified_management:866 - InvoiceHistoryTab created.
2025-06-10 17:58:32,631 - INFO - HorseUnifiedManagement - horse_unified_management:869 - Tabs added.
2025-06-10 17:58:32,658 - INFO - HorseUnifiedManagement - horse_unified_management:1710 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 17:58:32,659 - INFO - HorseUnifiedManagement - horse_unified_management:1734 - Connecting BasicInfoTab signals.
2025-06-10 17:58:32,660 - INFO - HorseUnifiedManagement - horse_unified_management:1750 - Connecting OwnersTab signals.
2025-06-10 17:58:32,660 - INFO - HorseUnifiedManagement - horse_unified_management:1758 - Connecting LocationTab signals.
2025-06-10 17:58:32,661 - INFO - HorseUnifiedManagement - horse_unified_management:1771 - Connecting InvoiceHistoryTab signals.
2025-06-10 17:58:32,661 - INFO - HorseUnifiedManagement - horse_unified_management:1781 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 17:58:32,661 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 17:58:32,737 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 17:58:32,738 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 17:58:32,739 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 17:58:32,822 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 17:58:32,824 - INFO - HorseUnifiedManagement - horse_unified_management:384 - display_empty_state: FINISHED
2025-06-10 17:58:32,825 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 17:58:32,837 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 17:58:32,869 - INFO - HorseUnifiedManagement - horse_unified_management:536 - load_initial_data: START - Attempting to load horses.
2025-06-10 17:58:32,869 - INFO - HorseUnifiedManagement - horse_unified_management:1322 - load_horses: Filter status: 'active', Search: ''
2025-06-10 17:58:32,877 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 17:58:32,881 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 17:58:32,883 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 17:58:32,888 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 17:58:32,895 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 17:58:32,898 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 17:58:32,899 - INFO - HorseUnifiedManagement - horse_unified_management:539 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 17:58:50,329 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 17:58:50,329 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 17:58:50,332 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 17:58:50,333 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 17:58:50,333 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 17:58:50,333 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 17:58:50,333 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 17:58:50,382 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 17:58:50,385 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 17:58:50,385 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 17:58:50,507 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 17:58:50,509 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 17:58:50,509 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 17:58:50,510 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 17:58:50,510 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 17:58:50,559 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 17:58:54,711 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 17:58:54,711 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 17:58:54,715 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 17:58:54,866 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 17:58:57,484 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 18:01:18,052 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: doroni
2025-06-10 18:01:19,280 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Quail Pond Farms (Sarah Davis) [SD001]
2025-06-10 18:01:27,156 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 2 with 90.0% to horse ID 1
2025-06-10 18:01:27,166 - INFO - HorseController - horse_controller:419 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-10 18:01:27,166 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 18:01:29,345 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 18:01:29,345 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 18:01:29,350 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:01:29,351 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:01:29,354 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 18:01:30,760 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: doroni
2025-06-10 18:01:32,170 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-10 18:01:40,060 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 1 with 10.0% to horse ID 1
2025-06-10 18:01:40,066 - INFO - HorseController - horse_controller:419 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-10 18:01:40,067 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 18:01:41,659 - INFO - HorseUnifiedManagement - horse_unified_management:1091 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 18:01:41,661 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 18:01:41,664 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:01:41,665 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:01:41,665 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 18:01:46,188 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: doroni
2025-06-10 18:01:46,210 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 18:01:47,250 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-10 18:01:48,122 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 1
2025-06-10 18:01:48,128 - INFO - HorseController - horse_controller:530 - Horse ID 1 assigned to location ID 3 by ADMIN.
2025-06-10 18:01:48,129 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 1. Emitting signal.
2025-06-10 18:01:48,129 - INFO - HorseUnifiedManagement - horse_unified_management:882 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-10 18:01:48,129 - INFO - HorseUnifiedManagement - horse_unified_management:885 - Location changed for horse ID 1. Reloading details.
2025-06-10 18:01:48,129 - INFO - HorseUnifiedManagement - horse_unified_management:1002 - load_horse_details: START for horse ID: 1
2025-06-10 18:01:48,131 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:01:48,134 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:01:48,135 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 18:01:48,135 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-10 18:02:13,327 - INFO - FinancialController - financial_controller:380 - Successfully added 3 charges for horse ID 1.
2025-06-10 18:02:13,336 - INFO - FinancialController - financial_controller:331 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 18:02:37,630 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of doroni, splitting a total of $435.00 based on their ownership percentage.

Proceed?
2025-06-10 18:02:40,076 - INFO - FinancialController - financial_controller:108 - --- Starting Invoice Generation for transaction IDs: [1, 2, 3] ---
2025-06-10 18:02:40,083 - INFO - FinancialController - financial_controller:141 - Generating invoices for 1 horse(s).
2025-06-10 18:02:40,092 - INFO - FinancialController - financial_controller:224 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 18:02:40,093 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:02:40,094 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Invoice created signal received, refreshing history tab.
2025-06-10 18:06:25,601 - WARNING - HorseUnifiedManagement - horse_unified_management:552 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 18:06:25,602 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 18:06:25,605 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 18:06:25,605 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 18:06:25,634 - WARNING - HorseUnifiedManagement - horse_unified_management:555 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 18:06:25,641 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 18:06:25,644 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 18:06:29,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 18:06:29,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 18:06:29,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 18:06:29,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 18:06:29,216 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 18:06:29,216 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 18:06:29,223 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 18:06:29,223 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 18:06:29,227 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 18:06:29,227 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 18:06:29,228 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 18:06:29,405 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 18:06:29,407 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 18:06:29,408 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 18:06:29,408 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 18:06:29,408 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 18:06:29,409 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 18:06:29,413 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 18:06:29,508 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 18:06:30,937 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 18:06:39,898 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 18:06:40,059 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 18:06:40,059 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 18:06:40,062 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 18:06:40,073 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 18:06:40,073 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 18:06:40,074 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 18:06:40,074 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 18:06:40,074 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 18:06:40,074 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 18:06:40,082 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 150, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_main_content(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 738, in setup_main_content
    self.setup_horse_details_panel()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 775, in setup_horse_details_panel
    self.setup_horse_header_details(details_content_layout)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 213, in show_horse_management_screen
    self.horse_management_screen = HorseUnifiedManagement(
                                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 150, in __init__
    super().__init__()
  File "C:\Projects\EDMS\views\base_view.py", line 75, in __init__
    self.setup_ui()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 179, in setup_ui
    self.setup_main_content(main_layout)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 738, in setup_main_content
    self.setup_horse_details_panel()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 775, in setup_horse_details_panel
    self.setup_horse_header_details(details_content_layout)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'setup_horse_header_details'
2025-06-10 18:06:46,109 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 18:06:46,110 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 18:07:44,851 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 18:07:44,852 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 18:07:44,853 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 18:07:44,853 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 18:07:44,853 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 18:07:44,853 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 18:07:44,861 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 18:07:44,861 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 18:07:44,865 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 18:07:44,865 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 18:07:44,866 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 18:07:45,043 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 18:07:45,045 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 18:07:45,045 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 18:07:45,046 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 18:07:45,046 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 18:07:45,046 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 18:07:45,051 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 18:07:45,144 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 18:07:46,454 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 18:07:55,209 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 18:07:55,376 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 18:07:55,376 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 18:07:55,378 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 18:07:55,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 18:07:55,394 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 18:07:55,396 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 18:07:55,397 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 18:07:55,398 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 18:07:55,398 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 18:07:55,403 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 18:07:55,568 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 18:07:55,572 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 18:07:55,573 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 18:07:55,577 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 18:07:55,583 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 18:07:55,589 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 18:07:55,616 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 18:07:55,617 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 18:07:55,618 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 18:07:55,618 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 18:07:55,619 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 18:07:55,619 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 18:07:55,619 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 18:07:55,692 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 18:07:55,694 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 18:07:55,694 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 18:07:55,695 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 18:07:55,781 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 18:07:55,783 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 18:07:55,783 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 18:07:55,783 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 18:07:55,802 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 18:07:55,836 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 18:07:55,837 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 18:07:55,847 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 18:07:55,853 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 18:07:55,855 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 1
2025-06-10 18:07:55,861 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:07:55,868 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:07:55,872 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 18:08:01,189 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 18:08:03,782 - INFO - HorseUnifiedManagement - horse_unified_management:1029 - add_new_horse: START
2025-06-10 18:08:03,782 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 18:08:03,787 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1063, in add_new_horse
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 18:09:31,219 - WARNING - HorseUnifiedManagement - horse_unified_management:548 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 18:09:31,219 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 18:09:31,223 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 18:09:31,223 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 18:09:31,236 - WARNING - HorseUnifiedManagement - horse_unified_management:551 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 18:09:31,238 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 18:09:31,239 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 18:29:40,536 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 18:29:40,536 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 18:29:40,536 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 18:29:40,536 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 18:29:40,536 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 18:29:40,536 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 18:29:40,552 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 18:29:40,552 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 18:29:40,555 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 18:29:40,556 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 18:29:40,556 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 18:29:40,747 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 18:29:40,749 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 18:29:40,749 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 18:29:40,749 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 18:29:40,749 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 18:29:40,749 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 18:29:40,761 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 18:29:40,777 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 18:29:44,035 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 18:29:54,784 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 18:29:54,944 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 18:29:54,944 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 18:29:54,945 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 18:29:54,953 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 18:29:54,953 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 18:29:54,954 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 18:29:54,955 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 18:29:54,955 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 18:29:54,955 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 18:29:54,968 - INFO - HorseUnifiedManagement - horse_unified_management:822 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 18:29:56,066 - INFO - HorseUnifiedManagement - horse_unified_management:834 - BasicInfoTab created.
2025-06-10 18:29:56,069 - INFO - HorseUnifiedManagement - horse_unified_management:842 - OwnersTab created.
2025-06-10 18:29:56,070 - INFO - HorseUnifiedManagement - horse_unified_management:850 - LocationTab created.
2025-06-10 18:29:56,076 - INFO - HorseUnifiedManagement - horse_unified_management:856 - BillingTab created.
2025-06-10 18:29:56,082 - INFO - HorseUnifiedManagement - horse_unified_management:862 - InvoiceHistoryTab created.
2025-06-10 18:29:56,088 - INFO - HorseUnifiedManagement - horse_unified_management:865 - Tabs added.
2025-06-10 18:29:56,116 - INFO - HorseUnifiedManagement - horse_unified_management:1639 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 18:29:56,117 - INFO - HorseUnifiedManagement - horse_unified_management:1663 - Connecting BasicInfoTab signals.
2025-06-10 18:29:56,117 - INFO - HorseUnifiedManagement - horse_unified_management:1679 - Connecting OwnersTab signals.
2025-06-10 18:29:56,117 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting LocationTab signals.
2025-06-10 18:29:56,118 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - Connecting InvoiceHistoryTab signals.
2025-06-10 18:29:56,118 - INFO - HorseUnifiedManagement - horse_unified_management:1714 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 18:29:56,118 - INFO - HorseUnifiedManagement - horse_unified_management:183 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 18:29:56,190 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 18:29:56,191 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 18:29:56,191 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 18:29:56,192 - INFO - HorseUnifiedManagement - horse_unified_management:163 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 18:29:56,236 - INFO - HorseUnifiedManagement - horse_unified_management:186 - HorseUnifiedManagement showEvent: START
2025-06-10 18:29:56,238 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 18:29:56,238 - INFO - HorseUnifiedManagement - horse_unified_management:379 - display_empty_state: FINISHED
2025-06-10 18:29:56,238 - INFO - HorseUnifiedManagement - horse_unified_management:231 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 18:29:56,247 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 18:29:56,271 - INFO - HorseUnifiedManagement - horse_unified_management:532 - load_initial_data: START - Attempting to load horses.
2025-06-10 18:29:56,271 - INFO - HorseUnifiedManagement - horse_unified_management:1319 - load_horses: Filter status: 'active', Search: ''
2025-06-10 18:29:56,280 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 18:29:56,284 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 18:29:56,285 - INFO - HorseUnifiedManagement - horse_unified_management:998 - load_horse_details: START for horse ID: 1
2025-06-10 18:29:56,290 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:29:56,298 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:29:56,309 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1480, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1022, in load_horse_details
    self.display_details_state()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'display_details_state'
2025-06-10 18:30:00,659 - INFO - HorseUnifiedManagement - horse_unified_management:535 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 18:37:39,328 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 18:37:39,328 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 18:37:39,329 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 18:37:39,329 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 18:37:39,329 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 18:37:39,329 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 18:37:39,335 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 18:37:39,336 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 18:37:39,339 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 18:37:39,340 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 18:37:39,340 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 18:37:39,525 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 18:37:39,527 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 18:37:39,527 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 18:37:39,527 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 18:37:39,528 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 18:37:39,528 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 18:37:39,532 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 18:37:39,552 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 18:37:41,897 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 18:37:51,510 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 18:37:51,676 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 18:37:51,676 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 18:37:51,677 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 18:37:51,686 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 18:37:51,686 - INFO - HorseUnifiedManagement - horse_unified_management:111 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 18:37:51,686 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 18:37:51,687 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 18:37:51,687 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 18:37:51,688 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 18:37:51,695 - INFO - HorseUnifiedManagement - horse_unified_management:908 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 18:37:51,858 - INFO - HorseUnifiedManagement - horse_unified_management:922 - BasicInfoTab created.
2025-06-10 18:37:51,861 - INFO - HorseUnifiedManagement - horse_unified_management:930 - OwnersTab created.
2025-06-10 18:37:51,863 - INFO - HorseUnifiedManagement - horse_unified_management:938 - LocationTab created.
2025-06-10 18:37:51,867 - INFO - HorseUnifiedManagement - horse_unified_management:944 - BillingTab created.
2025-06-10 18:37:51,873 - INFO - HorseUnifiedManagement - horse_unified_management:952 - InvoiceHistoryTab created.
2025-06-10 18:37:51,880 - INFO - HorseUnifiedManagement - horse_unified_management:955 - Tabs added.
2025-06-10 18:37:51,906 - INFO - HorseUnifiedManagement - horse_unified_management:1809 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 18:37:51,906 - INFO - HorseUnifiedManagement - horse_unified_management:1841 - Connecting BasicInfoTab signals.
2025-06-10 18:37:51,907 - INFO - HorseUnifiedManagement - horse_unified_management:1863 - Connecting OwnersTab signals.
2025-06-10 18:37:51,907 - INFO - HorseUnifiedManagement - horse_unified_management:1873 - Connecting LocationTab signals.
2025-06-10 18:37:51,907 - INFO - HorseUnifiedManagement - horse_unified_management:1890 - Connecting InvoiceHistoryTab signals.
2025-06-10 18:37:51,907 - INFO - HorseUnifiedManagement - horse_unified_management:1906 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 18:37:51,908 - INFO - HorseUnifiedManagement - horse_unified_management:190 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 18:37:51,981 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 18:37:51,982 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 18:37:51,982 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 18:37:51,982 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 18:37:52,023 - INFO - HorseUnifiedManagement - horse_unified_management:195 - HorseUnifiedManagement showEvent: START
2025-06-10 18:37:52,033 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: Error calling Python override of QMainWindow::showEvent(): 'HorseUnifiedManagement' object has no attribute 'current_horse'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 222, in show_horse_management_screen
    self.horse_management_screen.show()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 213, in showEvent
    if self.current_horse:
       ^^^^^^^^^^^^^^^^^^
AttributeError: Error calling Python override of QMainWindow::showEvent(): 'HorseUnifiedManagement' object has no attribute 'current_horse'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 190, in handle_login_success
    self.show_horse_management_screen()
  File "C:\Projects\EDMS\main.py", line 222, in show_horse_management_screen
    self.horse_management_screen.show()
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 213, in showEvent
    if self.current_horse:
       ^^^^^^^^^^^^^^^^^^
AttributeError: Error calling Python override of QMainWindow::showEvent(): 'HorseUnifiedManagement' object has no attribute 'current_horse'
2025-06-10 18:37:52,046 - INFO - HorseUnifiedManagement - horse_unified_management:598 - load_initial_data: START - Attempting to load horses.
2025-06-10 18:37:52,047 - INFO - HorseUnifiedManagement - horse_unified_management:1463 - load_horses: Filter status: 'active', Search: ''
2025-06-10 18:37:52,047 - ERROR - HorseUnifiedManagement - horse_unified_management:1527 - load_horses: ERROR: 'HorseUnifiedManagement' object has no attribute 'current_horse'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1467, in load_horses
    if self.current_horse and not self._is_new_mode:
       ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'current_horse'
2025-06-10 18:37:52,048 - ERROR - HorseUnifiedManagement - base_view:197 - Displaying Error: Load Horses Error - 'HorseUnifiedManagement' object has no attribute 'current_horse'
2025-06-10 18:37:57,492 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 18:37:57,493 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 18:37:57,493 - INFO - HorseUnifiedManagement - horse_unified_management:434 - display_empty_state: FINISHED
2025-06-10 18:37:57,493 - INFO - HorseUnifiedManagement - horse_unified_management:603 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 18:38:01,912 - INFO - HorseUnifiedManagement - horse_unified_management:1144 - add_new_horse: START
2025-06-10 18:38:01,912 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 18:38:01,918 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 18:38:01,919 - INFO - HorseUnifiedManagement - horse_unified_management:1194 - add_new_horse: FINISHED
2025-06-10 18:51:30,032 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 18:51:30,032 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 18:51:30,032 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 18:51:30,032 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 18:51:30,032 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 18:51:30,032 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 18:51:30,039 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 18:51:30,040 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 18:51:30,043 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 18:51:30,044 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 18:51:30,044 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 18:51:30,230 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 18:51:30,231 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 18:51:30,232 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 18:51:30,232 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 18:51:30,232 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 18:51:30,232 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 18:51:30,237 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 18:51:30,251 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 18:51:32,933 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 18:51:42,351 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 18:51:42,517 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 18:51:42,517 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 18:51:42,523 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 18:51:42,531 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 18:51:42,531 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 18:51:42,532 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 18:51:42,532 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 18:51:42,532 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 18:51:42,533 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 18:51:42,538 - INFO - HorseUnifiedManagement - horse_unified_management:852 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 18:51:42,690 - INFO - HorseUnifiedManagement - horse_unified_management:864 - BasicInfoTab created.
2025-06-10 18:51:42,692 - INFO - HorseUnifiedManagement - horse_unified_management:872 - OwnersTab created.
2025-06-10 18:51:42,694 - INFO - HorseUnifiedManagement - horse_unified_management:880 - LocationTab created.
2025-06-10 18:51:42,698 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-10 18:51:42,704 - INFO - HorseUnifiedManagement - horse_unified_management:892 - InvoiceHistoryTab created.
2025-06-10 18:51:42,710 - INFO - HorseUnifiedManagement - horse_unified_management:895 - Tabs added.
2025-06-10 18:51:42,737 - INFO - HorseUnifiedManagement - horse_unified_management:1669 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 18:51:42,737 - INFO - HorseUnifiedManagement - horse_unified_management:1693 - Connecting BasicInfoTab signals.
2025-06-10 18:51:42,737 - INFO - HorseUnifiedManagement - horse_unified_management:1709 - Connecting OwnersTab signals.
2025-06-10 18:51:42,737 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting LocationTab signals.
2025-06-10 18:51:42,737 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting InvoiceHistoryTab signals.
2025-06-10 18:51:42,738 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 18:51:42,743 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 18:51:42,818 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 18:51:42,818 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 18:51:42,819 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 18:51:42,819 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 18:51:42,859 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 18:51:42,860 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 18:51:42,860 - INFO - HorseUnifiedManagement - horse_unified_management:410 - display_empty_state: FINISHED
2025-06-10 18:51:42,860 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 18:51:42,870 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 18:51:42,889 - INFO - HorseUnifiedManagement - horse_unified_management:562 - load_initial_data: START - Attempting to load horses.
2025-06-10 18:51:42,890 - INFO - HorseUnifiedManagement - horse_unified_management:1349 - load_horses: Filter status: 'active', Search: ''
2025-06-10 18:51:42,897 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 18:51:42,901 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 18:51:42,902 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - load_horse_details: START for horse ID: 1
2025-06-10 18:51:42,907 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 18:51:42,913 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 18:51:42,920 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 18:51:42,920 - INFO - HorseUnifiedManagement - horse_unified_management:1055 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 18:51:42,920 - INFO - HorseUnifiedManagement - horse_unified_management:565 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 19:02:31,827 - INFO - FinancialController - financial_controller:380 - Successfully added 3 charges for horse ID 1.
2025-06-10 19:02:31,832 - INFO - HorseUnifiedManagement - base_view:182 - Status update: New charges added for doroni.
2025-06-10 19:02:31,833 - INFO - FinancialController - financial_controller:331 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 19:03:05,490 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of doroni, splitting a total of $435.00 based on their ownership percentage.

Proceed?
2025-06-10 19:03:07,861 - INFO - FinancialController - financial_controller:108 - --- Starting Invoice Generation for transaction IDs: [10, 11, 12] ---
2025-06-10 19:03:07,868 - INFO - FinancialController - financial_controller:141 - Generating invoices for 1 horse(s).
2025-06-10 19:03:07,888 - INFO - FinancialController - financial_controller:224 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 19:03:07,889 - INFO - HorseUnifiedManagement - base_view:182 - Status update: 2 invoice(s) created successfully.
2025-06-10 19:03:07,890 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 19:03:07,891 - INFO - HorseUnifiedManagement - horse_unified_management:1648 - Invoice created signal received, refreshing history tab.
2025-06-10 19:12:51,916 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice(s) - Are you sure you want to permanently delete the following 4 invoice(s)?

- INV-1
 - INV-3
 - INV-2
 - INV-4

This will adjust each owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-10 19:12:54,230 - INFO - FinancialController - financial_controller:528 - Deleting Invoice #1 for owner '1'. Reversing balance by $43.50.
2025-06-10 19:12:54,236 - INFO - FinancialController - financial_controller:547 - Successfully deleted Invoice #1 and adjusted owner balance.
2025-06-10 19:12:54,237 - INFO - FinancialController - financial_controller:528 - Deleting Invoice #3 for owner '1'. Reversing balance by $43.50.
2025-06-10 19:12:54,243 - INFO - FinancialController - financial_controller:547 - Successfully deleted Invoice #3 and adjusted owner balance.
2025-06-10 19:12:54,243 - INFO - FinancialController - financial_controller:528 - Deleting Invoice #2 for owner '2'. Reversing balance by $391.50.
2025-06-10 19:12:54,248 - INFO - FinancialController - financial_controller:547 - Successfully deleted Invoice #2 and adjusted owner balance.
2025-06-10 19:12:54,249 - INFO - FinancialController - financial_controller:528 - Deleting Invoice #4 for owner '2'. Reversing balance by $391.50.
2025-06-10 19:12:54,254 - INFO - FinancialController - financial_controller:547 - Successfully deleted Invoice #4 and adjusted owner balance.
2025-06-10 19:12:54,254 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Successfully deleted 4 invoice(s).
2025-06-10 19:12:54,255 - INFO - HorseUnifiedManagement - horse_unified_management:1653 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-10 19:12:54,257 - INFO - FinancialController - financial_controller:331 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 19:18:18,858 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 19:18:18,858 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 19:18:18,858 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 19:18:18,858 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 19:18:18,859 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 19:18:18,859 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 19:18:18,867 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 19:18:18,867 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 19:18:18,870 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 19:18:18,870 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 19:18:18,870 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 19:18:19,054 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 19:18:19,055 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 19:18:19,056 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 19:18:19,056 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 19:18:19,056 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 19:18:19,056 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 19:18:19,061 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 19:18:19,076 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 19:18:21,680 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 19:18:31,524 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 19:18:31,688 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 19:18:31,688 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 19:18:31,689 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 19:18:31,697 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 19:18:31,697 - INFO - HorseUnifiedManagement - horse_unified_management:112 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 19:18:31,698 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 19:18:31,698 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 19:18:31,698 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 19:18:31,698 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 19:18:31,704 - INFO - HorseUnifiedManagement - horse_unified_management:852 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 19:18:31,852 - INFO - HorseUnifiedManagement - horse_unified_management:864 - BasicInfoTab created.
2025-06-10 19:18:31,855 - INFO - HorseUnifiedManagement - horse_unified_management:872 - OwnersTab created.
2025-06-10 19:18:31,856 - INFO - HorseUnifiedManagement - horse_unified_management:880 - LocationTab created.
2025-06-10 19:18:31,860 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-10 19:18:31,865 - INFO - HorseUnifiedManagement - horse_unified_management:892 - InvoiceHistoryTab created.
2025-06-10 19:18:31,872 - INFO - HorseUnifiedManagement - horse_unified_management:895 - Tabs added.
2025-06-10 19:18:31,898 - INFO - HorseUnifiedManagement - horse_unified_management:1669 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 19:18:31,899 - INFO - HorseUnifiedManagement - horse_unified_management:1693 - Connecting BasicInfoTab signals.
2025-06-10 19:18:31,899 - INFO - HorseUnifiedManagement - horse_unified_management:1709 - Connecting OwnersTab signals.
2025-06-10 19:18:31,899 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting LocationTab signals.
2025-06-10 19:18:31,899 - INFO - HorseUnifiedManagement - horse_unified_management:1730 - Connecting InvoiceHistoryTab signals.
2025-06-10 19:18:31,899 - INFO - HorseUnifiedManagement - horse_unified_management:1744 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 19:18:31,900 - INFO - HorseUnifiedManagement - horse_unified_management:188 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 19:18:31,974 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 19:18:31,974 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 19:18:31,974 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 19:18:31,975 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 19:18:32,021 - INFO - HorseUnifiedManagement - horse_unified_management:191 - HorseUnifiedManagement showEvent: START
2025-06-10 19:18:32,022 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:18:32,023 - INFO - HorseUnifiedManagement - horse_unified_management:410 - display_empty_state: FINISHED
2025-06-10 19:18:32,023 - INFO - HorseUnifiedManagement - horse_unified_management:236 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 19:18:32,031 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 19:18:32,056 - INFO - HorseUnifiedManagement - horse_unified_management:562 - load_initial_data: START - Attempting to load horses.
2025-06-10 19:18:32,056 - INFO - HorseUnifiedManagement - horse_unified_management:1349 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:18:32,063 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-10 19:18:32,068 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-10 19:18:32,069 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - load_horse_details: START for horse ID: 1
2025-06-10 19:18:32,074 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 19:18:32,081 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 19:18:32,088 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 19:18:32,088 - INFO - HorseUnifiedManagement - horse_unified_management:1055 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 19:18:32,088 - INFO - HorseUnifiedManagement - horse_unified_management:565 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 19:18:38,843 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 19:18:38,844 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 19:18:38,846 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 19:18:38,847 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 19:18:38,847 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 19:18:38,847 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 19:18:38,847 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 19:18:38,900 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 19:18:38,902 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 1 users.
2025-06-10 19:18:38,902 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 19:18:39,003 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 19:18:39,004 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 19:18:39,004 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 19:18:39,004 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 19:18:39,004 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 19:18:39,022 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 19:18:41,825 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-10 19:22:14,001 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-10 19:22:14,161 - INFO - UserController - user_controller:293 - User 'tm' created successfully by ADMIN.
2025-06-10 19:22:14,162 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-10 19:22:14,166 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 19:22:14,166 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 19:22:21,376 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 19:22:21,376 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 19:22:21,385 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 19:22:25,015 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 19:22:25,016 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 19:22:25,025 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 0 veterinarians.
2025-06-10 19:23:14,791 - INFO - VeterinarianController - veterinarian_controller:141 - Veterinarian 'Ted Mazzerisi' created by ADMIN.
2025-06-10 19:23:16,445 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 19:23:16,446 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 19:23:16,446 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Veterinarian added successfully.
2025-06-10 19:23:23,503 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 19:23:23,504 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 19:23:23,515 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 19:23:36,675 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 19:23:36,676 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 19:23:36,676 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 19:23:36,818 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 19:23:52,965 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 19:23:52,965 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 19:23:52,971 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 19:23:52,971 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 19:23:59,779 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 19:25:56,086 - INFO - CompanyProfileController - company_profile_controller:52 - No existing company profile found. Creating new one.
2025-06-10 19:25:56,091 - INFO - CompanyProfileController - company_profile_controller:62 - Company profile updated by ADMIN.
2025-06-10 19:25:57,943 - INFO - UserManagementScreen - base_view:189 - Displaying Info: Success - Company profile has been updated.
2025-06-10 19:26:07,975 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 19:26:18,086 - INFO - HorseUnifiedManagement - horse_unified_management:1058 - add_new_horse: START
2025-06-10 19:26:18,087 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 19:26:18,089 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:26:18,089 - INFO - HorseUnifiedManagement - horse_unified_management:1098 - add_new_horse: FINISHED
2025-06-10 19:26:21,573 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1110, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1110, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
2025-06-10 19:27:14,497 - INFO - HorseUnifiedManagement - horse_unified_management:1157 - save_changes: START
2025-06-10 19:27:14,507 - INFO - HorseController - horse_controller:143 - Horse 'Daisy' (ID: 2) created successfully by ADMIN.
2025-06-10 19:27:14,507 - INFO - HorseUnifiedManagement - horse_unified_management:1224 - save_changes: Save successful. Message: Horse 'Daisy' created successfully.
2025-06-10 19:27:14,507 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Daisy' created successfully.
2025-06-10 19:27:17,239 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 19:27:17,239 - INFO - HorseUnifiedManagement - horse_unified_management:1349 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:27:17,240 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-10 19:27:17,244 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-10 19:27:17,244 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - load_horse_details: START for horse ID: 2
2025-06-10 19:27:17,246 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 19:27:17,247 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 19:27:17,247 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 19:27:17,247 - INFO - HorseUnifiedManagement - horse_unified_management:1055 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 19:27:17,248 - INFO - HorseUnifiedManagement - horse_unified_management:1282 - save_changes: FINISHED
2025-06-10 19:29:09,421 - INFO - HorseUnifiedManagement - horse_unified_management:1058 - add_new_horse: START
2025-06-10 19:29:09,422 - INFO - BasicInfoTab - basic_info_tab:493 - BasicInfoTab set_new_mode: True
2025-06-10 19:29:09,424 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:29:09,424 - INFO - HorseUnifiedManagement - horse_unified_management:1098 - add_new_horse: FINISHED
2025-06-10 19:29:54,228 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1110, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1110, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
2025-06-10 19:41:07,359 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 19:41:07,359 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 19:41:07,359 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 19:41:07,360 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 19:41:07,360 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 19:41:07,360 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 19:41:07,366 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 19:41:07,367 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 19:41:07,370 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 19:41:07,371 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 19:41:07,371 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 19:41:07,551 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 19:41:07,552 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 19:41:07,553 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 19:41:07,553 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 19:41:07,553 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 19:41:07,553 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 19:41:07,558 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 19:41:07,575 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 19:41:09,353 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 19:41:17,345 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 19:41:17,506 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 19:41:17,506 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 19:41:17,506 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 19:41:17,511 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 19:41:17,511 - INFO - HorseUnifiedManagement - horse_unified_management:114 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 19:41:17,512 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 19:41:17,512 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 19:41:17,512 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 19:41:17,512 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 19:41:17,518 - INFO - HorseUnifiedManagement - horse_unified_management:854 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 19:41:17,656 - INFO - HorseUnifiedManagement - horse_unified_management:866 - BasicInfoTab created.
2025-06-10 19:41:17,659 - INFO - HorseUnifiedManagement - horse_unified_management:874 - OwnersTab created.
2025-06-10 19:41:17,660 - INFO - HorseUnifiedManagement - horse_unified_management:882 - LocationTab created.
2025-06-10 19:41:17,664 - INFO - HorseUnifiedManagement - horse_unified_management:888 - BillingTab created.
2025-06-10 19:41:17,669 - INFO - HorseUnifiedManagement - horse_unified_management:894 - InvoiceHistoryTab created.
2025-06-10 19:41:17,675 - INFO - HorseUnifiedManagement - horse_unified_management:897 - Tabs added.
2025-06-10 19:41:17,699 - INFO - HorseUnifiedManagement - horse_unified_management:1677 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 19:41:17,700 - INFO - HorseUnifiedManagement - horse_unified_management:1701 - Connecting BasicInfoTab signals.
2025-06-10 19:41:17,700 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting OwnersTab signals.
2025-06-10 19:41:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:1725 - Connecting LocationTab signals.
2025-06-10 19:41:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:1738 - Connecting InvoiceHistoryTab signals.
2025-06-10 19:41:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:1752 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 19:41:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:190 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 19:41:17,768 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 19:41:17,769 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 19:41:17,769 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 19:41:17,770 - INFO - HorseUnifiedManagement - horse_unified_management:170 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 19:41:17,814 - INFO - HorseUnifiedManagement - horse_unified_management:193 - HorseUnifiedManagement showEvent: START
2025-06-10 19:41:17,815 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:41:17,816 - INFO - HorseUnifiedManagement - horse_unified_management:412 - display_empty_state: FINISHED
2025-06-10 19:41:17,816 - INFO - HorseUnifiedManagement - horse_unified_management:238 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 19:41:17,822 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 19:41:17,841 - INFO - HorseUnifiedManagement - horse_unified_management:564 - load_initial_data: START - Attempting to load horses.
2025-06-10 19:41:17,841 - INFO - HorseUnifiedManagement - horse_unified_management:1357 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:41:17,848 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-10 19:41:17,854 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-10 19:41:17,854 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 2
2025-06-10 19:41:17,859 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 19:41:17,864 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 19:41:17,868 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 19:41:17,868 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 19:41:17,868 - INFO - HorseUnifiedManagement - horse_unified_management:567 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 19:41:21,165 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: START
2025-06-10 19:41:21,165 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:41:21,167 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:41:21,168 - INFO - HorseUnifiedManagement - horse_unified_management:1100 - add_new_horse: FINISHED
2025-06-10 19:41:31,613 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1112, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1112, in _on_tab_data_modified
    self.data_modified.emit()
    ^^^^^^^^^^^^^^^^^^
AttributeError: 'HorseUnifiedManagement' object has no attribute 'data_modified'
2025-06-10 19:45:59,480 - INFO - HorseUnifiedManagement - horse_unified_management:1165 - save_changes: START
2025-06-10 19:45:59,490 - INFO - HorseController - horse_controller:143 - Horse 'Rocket' (ID: 3) created successfully by tm.
2025-06-10 19:45:59,490 - INFO - HorseUnifiedManagement - horse_unified_management:1232 - save_changes: Save successful. Message: Horse 'Rocket' created successfully.
2025-06-10 19:45:59,490 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Rocket' created successfully.
2025-06-10 19:46:01,668 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 3: Rocket
2025-06-10 19:46:01,669 - INFO - HorseUnifiedManagement - horse_unified_management:1357 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:46:01,670 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 19:46:01,674 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 19:46:01,675 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 3
2025-06-10 19:46:01,676 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 3: Rocket
2025-06-10 19:46:01,678 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-10 19:46:01,678 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Rocket
2025-06-10 19:46:01,678 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 3
2025-06-10 19:46:01,678 - INFO - HorseUnifiedManagement - horse_unified_management:1290 - save_changes: FINISHED
2025-06-10 19:46:34,075 - INFO - HorseUnifiedManagement - horse_unified_management:1581 - refresh_data: Proceeding with refresh.
2025-06-10 19:46:34,075 - INFO - HorseUnifiedManagement - horse_unified_management:1357 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:46:34,077 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 19:46:34,080 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:46:34,080 - INFO - HorseUnifiedManagement - horse_unified_management:412 - display_empty_state: FINISHED
2025-06-10 19:46:34,084 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 19:46:34,084 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 3
2025-06-10 19:46:34,086 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 3: Rocket
2025-06-10 19:46:34,088 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 3.
2025-06-10 19:46:34,089 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Rocket
2025-06-10 19:46:34,089 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 3
2025-06-10 19:46:34,090 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Data refreshed.
2025-06-10 19:50:20,824 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 19:50:20,825 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 19:50:20,825 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 19:50:20,825 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 19:50:20,825 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 19:50:20,825 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 19:50:20,832 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 19:50:20,832 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 19:50:20,836 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 19:50:20,837 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 19:50:20,837 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 19:50:21,020 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 19:50:21,022 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 19:50:21,022 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 19:50:21,023 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 19:50:21,023 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 19:50:21,023 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 19:50:21,027 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 19:50:21,045 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 19:50:22,497 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 19:50:30,049 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 19:50:30,211 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 19:50:30,211 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 19:50:30,212 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 19:50:30,219 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 19:50:30,225 - INFO - HorseUnifiedManagement - horse_unified_management:117 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 19:50:30,226 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 19:50:30,226 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 19:50:30,227 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 19:50:30,227 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 19:50:30,231 - INFO - HorseUnifiedManagement - horse_unified_management:857 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 19:50:30,380 - INFO - HorseUnifiedManagement - horse_unified_management:869 - BasicInfoTab created.
2025-06-10 19:50:30,383 - INFO - HorseUnifiedManagement - horse_unified_management:877 - OwnersTab created.
2025-06-10 19:50:30,384 - INFO - HorseUnifiedManagement - horse_unified_management:885 - LocationTab created.
2025-06-10 19:50:30,388 - INFO - HorseUnifiedManagement - horse_unified_management:891 - BillingTab created.
2025-06-10 19:50:30,394 - INFO - HorseUnifiedManagement - horse_unified_management:897 - InvoiceHistoryTab created.
2025-06-10 19:50:30,400 - INFO - HorseUnifiedManagement - horse_unified_management:900 - Tabs added.
2025-06-10 19:50:30,426 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 19:50:30,426 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting BasicInfoTab signals.
2025-06-10 19:50:30,426 - INFO - HorseUnifiedManagement - horse_unified_management:1720 - Connecting OwnersTab signals.
2025-06-10 19:50:30,426 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting LocationTab signals.
2025-06-10 19:50:30,427 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting InvoiceHistoryTab signals.
2025-06-10 19:50:30,427 - INFO - HorseUnifiedManagement - horse_unified_management:1755 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 19:50:30,427 - INFO - HorseUnifiedManagement - horse_unified_management:193 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 19:50:30,499 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 19:50:30,500 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 19:50:30,500 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 19:50:30,500 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 19:50:30,542 - INFO - HorseUnifiedManagement - horse_unified_management:196 - HorseUnifiedManagement showEvent: START
2025-06-10 19:50:30,543 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:50:30,543 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:50:30,544 - INFO - HorseUnifiedManagement - horse_unified_management:241 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 19:50:30,553 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 19:50:30,573 - INFO - HorseUnifiedManagement - horse_unified_management:567 - load_initial_data: START - Attempting to load horses.
2025-06-10 19:50:30,573 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:50:30,580 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 3 results.
2025-06-10 19:50:30,587 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 3 results.
2025-06-10 19:50:30,587 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 2
2025-06-10 19:50:30,593 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 19:50:30,598 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 19:50:30,602 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 19:50:30,602 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 19:50:30,602 - INFO - HorseUnifiedManagement - horse_unified_management:570 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 19:50:35,077 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:50:35,077 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:50:35,079 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:50:35,079 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:51:07,135 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:51:07,144 - INFO - HorseController - horse_controller:143 - Horse 'Annabelle' (ID: 4) created successfully by tm.
2025-06-10 19:51:07,145 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Annabelle' created successfully.
2025-06-10 19:51:07,145 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Annabelle' created successfully.
2025-06-10 19:51:09,913 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 19:51:09,913 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:51:09,915 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-06-10 19:51:09,919 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-06-10 19:51:09,920 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 19:51:09,921 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 19:51:09,923 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 19:51:09,923 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 19:51:09,923 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 19:51:09,923 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:51:16,791 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:51:16,791 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:51:16,793 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:51:16,793 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:51:31,140 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:51:31,146 - INFO - HorseController - horse_controller:143 - Horse 'Bossy' (ID: 5) created successfully by tm.
2025-06-10 19:51:31,146 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Bossy' created successfully.
2025-06-10 19:51:31,147 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Bossy' created successfully.
2025-06-10 19:51:33,261 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 19:51:33,261 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:51:33,263 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 5 results.
2025-06-10 19:51:33,269 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 5 results.
2025-06-10 19:51:33,269 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 5
2025-06-10 19:51:33,271 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 19:51:33,272 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 19:51:33,272 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 19:51:33,272 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 19:51:33,272 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:51:41,799 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:51:41,799 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:51:41,801 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:51:41,801 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:52:00,279 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:52:00,284 - INFO - HorseController - horse_controller:143 - Horse 'Max' (ID: 6) created successfully by tm.
2025-06-10 19:52:00,284 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Max' created successfully.
2025-06-10 19:52:00,284 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Max' created successfully.
2025-06-10 19:52:02,066 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 6: Max
2025-06-10 19:52:02,066 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:52:02,067 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 6 results.
2025-06-10 19:52:02,074 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 6 results.
2025-06-10 19:52:02,075 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 6
2025-06-10 19:52:02,076 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 6: Max
2025-06-10 19:52:02,078 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 6.
2025-06-10 19:52:02,079 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Max
2025-06-10 19:52:02,079 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 6
2025-06-10 19:52:02,079 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:52:06,630 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:52:06,631 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:52:06,634 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:52:06,634 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:52:25,355 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:52:25,361 - INFO - HorseController - horse_controller:143 - Horse 'Percy' (ID: 7) created successfully by tm.
2025-06-10 19:52:25,361 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Percy' created successfully.
2025-06-10 19:52:25,361 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Percy' created successfully.
2025-06-10 19:52:27,393 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 7: Percy
2025-06-10 19:52:27,393 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:52:27,395 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 7 results.
2025-06-10 19:52:27,403 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 7 results.
2025-06-10 19:52:27,403 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 7
2025-06-10 19:52:27,405 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 7: Percy
2025-06-10 19:52:27,406 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 7.
2025-06-10 19:52:27,406 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Percy
2025-06-10 19:52:27,406 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 7
2025-06-10 19:52:27,407 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:52:31,659 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:52:31,659 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:52:31,661 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:52:31,661 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:52:46,747 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:52:46,752 - INFO - HorseController - horse_controller:143 - Horse 'Sheldon' (ID: 8) created successfully by tm.
2025-06-10 19:52:46,752 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Sheldon' created successfully.
2025-06-10 19:52:46,752 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Sheldon' created successfully.
2025-06-10 19:52:48,469 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 8: Sheldon
2025-06-10 19:52:48,471 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:52:48,473 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 8 results.
2025-06-10 19:52:48,481 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 8 results.
2025-06-10 19:52:48,482 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 8
2025-06-10 19:52:48,483 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 8: Sheldon
2025-06-10 19:52:48,484 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 8.
2025-06-10 19:52:48,485 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Sheldon
2025-06-10 19:52:48,485 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 8
2025-06-10 19:52:48,486 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:52:52,869 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:52:52,869 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:52:52,871 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:52:52,871 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:53:10,199 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:53:10,206 - INFO - HorseController - horse_controller:143 - Horse 'President' (ID: 9) created successfully by tm.
2025-06-10 19:53:10,206 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'President' created successfully.
2025-06-10 19:53:10,206 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'President' created successfully.
2025-06-10 19:53:12,274 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 9: President
2025-06-10 19:53:12,274 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:53:12,276 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 9 results.
2025-06-10 19:53:12,285 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 9 results.
2025-06-10 19:53:12,286 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 9
2025-06-10 19:53:12,287 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 9: President
2025-06-10 19:53:12,289 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 9.
2025-06-10 19:53:12,289 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: President
2025-06-10 19:53:12,289 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 9
2025-06-10 19:53:12,289 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:53:18,870 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:53:18,871 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:53:18,873 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:53:18,873 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:53:32,739 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:53:32,744 - INFO - HorseController - horse_controller:143 - Horse 'Lady J' (ID: 10) created successfully by tm.
2025-06-10 19:53:32,745 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Lady J' created successfully.
2025-06-10 19:53:32,745 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Lady J' created successfully.
2025-06-10 19:53:34,446 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 10: Lady J
2025-06-10 19:53:34,446 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:53:34,449 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 10 results.
2025-06-10 19:53:34,459 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 10 results.
2025-06-10 19:53:34,460 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 10
2025-06-10 19:53:34,461 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 10: Lady J
2025-06-10 19:53:34,462 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 10.
2025-06-10 19:53:34,462 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Lady J
2025-06-10 19:53:34,463 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 10
2025-06-10 19:53:34,464 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:53:36,498 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:53:36,499 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:53:36,501 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:53:36,501 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:53:52,995 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:53:53,001 - INFO - HorseController - horse_controller:143 - Horse 'Jenny' (ID: 11) created successfully by tm.
2025-06-10 19:53:53,001 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Jenny' created successfully.
2025-06-10 19:53:53,002 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Jenny' created successfully.
2025-06-10 19:53:54,894 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 11: Jenny
2025-06-10 19:53:54,895 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:53:54,896 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 11 results.
2025-06-10 19:53:54,907 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 11 results.
2025-06-10 19:53:54,908 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 11
2025-06-10 19:53:54,909 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 11: Jenny
2025-06-10 19:53:54,911 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 11.
2025-06-10 19:53:54,911 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Jenny
2025-06-10 19:53:54,911 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 11
2025-06-10 19:53:54,911 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:53:57,845 - INFO - HorseUnifiedManagement - horse_unified_management:1063 - add_new_horse: START
2025-06-10 19:53:57,845 - INFO - BasicInfoTab - basic_info_tab:497 - BasicInfoTab set_new_mode: True
2025-06-10 19:53:57,847 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Enter details for new horse.
2025-06-10 19:53:57,848 - INFO - HorseUnifiedManagement - horse_unified_management:1103 - add_new_horse: FINISHED
2025-06-10 19:54:17,015 - INFO - HorseUnifiedManagement - horse_unified_management:1168 - save_changes: START
2025-06-10 19:54:17,020 - INFO - HorseController - horse_controller:143 - Horse 'Jasmine' (ID: 12) created successfully by tm.
2025-06-10 19:54:17,021 - INFO - HorseUnifiedManagement - horse_unified_management:1235 - save_changes: Save successful. Message: Horse 'Jasmine' created successfully.
2025-06-10 19:54:17,021 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse 'Jasmine' created successfully.
2025-06-10 19:54:18,651 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 12: Jasmine
2025-06-10 19:54:18,651 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:54:18,653 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 19:54:18,665 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:18,665 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 12
2025-06-10 19:54:18,667 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 12: Jasmine
2025-06-10 19:54:18,668 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 12.
2025-06-10 19:54:18,668 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Jasmine
2025-06-10 19:54:18,669 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 12
2025-06-10 19:54:18,669 - INFO - HorseUnifiedManagement - horse_unified_management:1293 - save_changes: FINISHED
2025-06-10 19:54:25,392 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 19:54:25,395 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 19:54:25,398 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:54:25,398 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:54:25,404 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:25,404 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 2
2025-06-10 19:54:25,406 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 19:54:25,407 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 19:54:25,408 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 19:54:25,408 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 19:54:36,156 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: 'g'
2025-06-10 19:54:36,157 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'g', owner: 'None', status: active) found 0 results.
2025-06-10 19:54:36,158 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 10
2025-06-10 19:54:36,159 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 10: Lady J
2025-06-10 19:54:36,161 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 10.
2025-06-10 19:54:36,161 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Lady J
2025-06-10 19:54:36,162 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 10
2025-06-10 19:54:36,163 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:54:36,164 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:54:36,165 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:36,166 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:54:36,166 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:54:39,942 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:54:39,944 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 19:54:39,956 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:39,956 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 19:54:39,958 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 19:54:39,959 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 19:54:39,960 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 19:54:39,960 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 19:54:43,772 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: 'm'
2025-06-10 19:54:43,774 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'm', owner: 'None', status: active) found 2 results.
2025-06-10 19:54:43,774 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 5
2025-06-10 19:54:43,775 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 19:54:43,777 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 19:54:43,778 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 19:54:43,778 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 19:54:43,780 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:54:43,780 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:54:43,783 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:43,783 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 12
2025-06-10 19:54:43,785 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 12: Jasmine
2025-06-10 19:54:43,786 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 12.
2025-06-10 19:54:43,787 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Jasmine
2025-06-10 19:54:43,788 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 12
2025-06-10 19:54:51,070 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 19:54:51,072 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 19:54:51,073 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 6
2025-06-10 19:54:51,074 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 6: Max
2025-06-10 19:54:51,076 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 6.
2025-06-10 19:54:51,076 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Max
2025-06-10 19:54:51,076 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 6
2025-06-10 19:54:51,078 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 19:54:51,079 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 19:54:51,091 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 19:54:51,091 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 12
2025-06-10 19:54:51,093 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 12: Jasmine
2025-06-10 19:54:51,094 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 12.
2025-06-10 19:54:51,095 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Jasmine
2025-06-10 19:54:51,095 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 12
2025-06-10 19:55:01,309 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 1
2025-06-10 19:55:01,311 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 19:55:01,313 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 19:55:01,315 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 19:55:01,316 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 19:58:21,755 - INFO - FinancialController - financial_controller:399 - Successfully added 3 charges for horse ID 1.
2025-06-10 19:58:21,761 - INFO - HorseUnifiedManagement - base_view:182 - Status update: New charges added for doroni.
2025-06-10 19:58:21,762 - INFO - FinancialController - financial_controller:350 - Retrieved 3 ACTIVE transactions for horse ID 1.
2025-06-10 19:58:28,296 - INFO - FinancialController - financial_controller:506 - Retrieved transaction ID 13 with its charge code.
2025-06-10 19:58:39,637 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Invoice Generation - This will generate 2 separate invoice(s) for all owners of doroni, splitting a total of $180.00 based on their ownership percentage.

Proceed?
2025-06-10 19:58:41,841 - INFO - FinancialController - financial_controller:112 - --- Starting Invoice Generation for transaction IDs: [13, 14, 15] ---
2025-06-10 19:58:41,847 - INFO - FinancialController - financial_controller:145 - Generating invoices for 1 horse(s).
2025-06-10 19:58:41,855 - INFO - FinancialController - financial_controller:243 - --- Invoice Generation Complete. 2 invoices created. ---
2025-06-10 19:58:41,856 - INFO - HorseUnifiedManagement - base_view:182 - Status update: 2 invoice(s) created successfully.
2025-06-10 19:58:41,856 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 19:58:41,858 - INFO - HorseUnifiedManagement - horse_unified_management:1659 - Invoice created signal received, refreshing history tab.
2025-06-10 19:59:04,536 - INFO - InvoiceGenerator - invoice_generator:91 - Successfully generated PDF for Invoice #1 at C:\Projects\EDMS\invoices\Invoice-1 for Smith.pdf
2025-06-10 20:01:37,367 - INFO - FinancialController - financial_controller:303 - Invoice #1 marked as Paid.
2025-06-10 20:01:37,371 - INFO - FinancialController - financial_controller:319 - Payment of $18 successfully recorded for Invoice #1.
2025-06-10 20:01:39,769 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Payment recorded for Invoice #1.
2025-06-10 20:01:39,769 - INFO - HorseUnifiedManagement - horse_unified_management:1673 - Payment recorded signal received, refreshing all horse details.
2025-06-10 20:01:39,770 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 1
2025-06-10 20:01:39,772 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 20:01:39,774 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:01:39,776 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 20:01:39,776 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:07:45,442 - INFO - HorseUnifiedManagement - horse_unified_management:1653 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-10 20:07:45,442 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-10 20:07:45,443 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-10 20:07:45,443 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 20:07:45,443 - WARNING - HorseUnifiedManagement - horse_unified_management:583 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 20:07:45,443 - WARNING - HorseUnifiedManagement - horse_unified_management:586 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 20:07:45,466 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 20:07:45,467 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 20:08:49,497 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:08:49,497 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:08:49,498 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:08:49,498 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:08:49,498 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:08:49,498 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:08:49,505 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:08:49,505 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:08:49,508 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:08:49,509 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:08:49,509 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:08:49,690 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:08:49,692 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:08:49,692 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:08:49,693 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:08:49,693 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:08:49,693 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:08:49,698 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:08:49,716 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:08:52,255 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:09:01,326 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:09:01,486 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:09:01,487 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:09:01,487 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:09:01,494 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:09:01,495 - INFO - HorseUnifiedManagement - horse_unified_management:117 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:09:01,495 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:09:01,495 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:09:01,497 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:09:01,498 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:09:01,504 - INFO - HorseUnifiedManagement - horse_unified_management:857 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:09:01,651 - INFO - HorseUnifiedManagement - horse_unified_management:869 - BasicInfoTab created.
2025-06-10 20:09:01,654 - INFO - HorseUnifiedManagement - horse_unified_management:877 - OwnersTab created.
2025-06-10 20:09:01,656 - INFO - HorseUnifiedManagement - horse_unified_management:885 - LocationTab created.
2025-06-10 20:09:01,660 - INFO - HorseUnifiedManagement - horse_unified_management:891 - BillingTab created.
2025-06-10 20:09:01,665 - INFO - HorseUnifiedManagement - horse_unified_management:897 - InvoiceHistoryTab created.
2025-06-10 20:09:01,672 - INFO - HorseUnifiedManagement - horse_unified_management:900 - Tabs added.
2025-06-10 20:09:01,698 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:09:01,699 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting BasicInfoTab signals.
2025-06-10 20:09:01,699 - INFO - HorseUnifiedManagement - horse_unified_management:1720 - Connecting OwnersTab signals.
2025-06-10 20:09:01,699 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting LocationTab signals.
2025-06-10 20:09:01,699 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:09:01,700 - INFO - HorseUnifiedManagement - horse_unified_management:1755 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:09:01,700 - INFO - HorseUnifiedManagement - horse_unified_management:193 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:09:01,770 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:09:01,771 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:09:01,771 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:09:01,771 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:09:01,813 - INFO - HorseUnifiedManagement - horse_unified_management:196 - HorseUnifiedManagement showEvent: START
2025-06-10 20:09:01,814 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:09:01,814 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 20:09:01,814 - INFO - HorseUnifiedManagement - horse_unified_management:241 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:09:01,824 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:09:01,843 - INFO - HorseUnifiedManagement - horse_unified_management:567 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:09:01,843 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:09:01,850 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:09:01,865 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:09:01,865 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 20:09:01,871 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:09:01,876 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:09:01,880 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:09:01,880 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:09:01,881 - INFO - HorseUnifiedManagement - horse_unified_management:570 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:10:31,449 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 20:10:31,453 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 20:10:31,453 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 5
2025-06-10 20:10:31,455 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:10:31,457 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:10:31,458 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:10:31,458 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:10:31,460 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:10:31,460 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 20:10:31,466 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:10:31,466 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 2
2025-06-10 20:10:31,468 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 20:10:31,469 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 20:10:31,470 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 20:10:31,470 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 20:10:37,087 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 1
2025-06-10 20:10:37,090 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 20:10:37,091 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:10:37,095 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 20:10:37,095 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:15:05,250 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:15:05,250 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:15:05,250 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:15:05,250 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:15:05,251 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:15:05,251 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:15:05,258 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:15:05,258 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:15:05,261 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:15:05,262 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:15:05,262 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:15:05,449 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:15:05,451 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:15:05,451 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:15:05,451 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:15:05,452 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:15:05,452 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:15:05,456 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:15:05,474 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:15:07,693 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:15:17,428 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:15:17,587 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:15:17,588 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:15:17,588 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:15:17,599 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:15:17,601 - INFO - HorseUnifiedManagement - horse_unified_management:117 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:15:17,603 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:15:17,603 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:15:17,603 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:15:17,604 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:15:17,609 - INFO - HorseUnifiedManagement - horse_unified_management:857 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:15:17,762 - INFO - HorseUnifiedManagement - horse_unified_management:869 - BasicInfoTab created.
2025-06-10 20:15:17,765 - INFO - HorseUnifiedManagement - horse_unified_management:877 - OwnersTab created.
2025-06-10 20:15:17,766 - INFO - HorseUnifiedManagement - horse_unified_management:885 - LocationTab created.
2025-06-10 20:15:17,771 - INFO - HorseUnifiedManagement - horse_unified_management:891 - BillingTab created.
2025-06-10 20:15:17,777 - INFO - HorseUnifiedManagement - horse_unified_management:897 - InvoiceHistoryTab created.
2025-06-10 20:15:17,784 - INFO - HorseUnifiedManagement - horse_unified_management:900 - Tabs added.
2025-06-10 20:15:17,811 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:15:17,811 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting BasicInfoTab signals.
2025-06-10 20:15:17,811 - INFO - HorseUnifiedManagement - horse_unified_management:1720 - Connecting OwnersTab signals.
2025-06-10 20:15:17,812 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting LocationTab signals.
2025-06-10 20:15:17,812 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:15:17,812 - INFO - HorseUnifiedManagement - horse_unified_management:1755 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:15:17,812 - INFO - HorseUnifiedManagement - horse_unified_management:193 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:15:17,885 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:15:17,886 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:15:17,886 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:15:17,887 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:15:17,932 - INFO - HorseUnifiedManagement - horse_unified_management:196 - HorseUnifiedManagement showEvent: START
2025-06-10 20:15:17,933 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:15:17,933 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 20:15:17,933 - INFO - HorseUnifiedManagement - horse_unified_management:241 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:15:17,943 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:15:17,962 - INFO - HorseUnifiedManagement - horse_unified_management:567 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:15:17,963 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:15:17,970 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:15:17,984 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:15:17,985 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 20:15:17,990 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:15:17,996 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:15:18,000 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:15:18,001 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:15:18,001 - INFO - HorseUnifiedManagement - horse_unified_management:570 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:15:32,234 - INFO - HorseUnifiedManagement - horse_unified_management:1530 - edit_selected_horse triggered. Item: False
2025-06-10 20:15:32,235 - INFO - BasicInfoTab - basic_info_tab:525 - BasicInfoTab set_edit_mode: True
2025-06-10 20:15:32,237 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Editing details for: Annabelle
2025-06-10 20:23:33,535 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Annabelle
2025-06-10 20:23:33,540 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 20:23:34,676 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-10 20:23:36,392 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 4
2025-06-10 20:23:36,402 - INFO - HorseController - horse_controller:530 - Horse ID 4 assigned to location ID 2 by tm.
2025-06-10 20:23:36,403 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 4. Emitting signal.
2025-06-10 20:23:36,403 - INFO - HorseUnifiedManagement - horse_unified_management:913 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-10 20:23:36,403 - INFO - HorseUnifiedManagement - horse_unified_management:916 - Location changed for horse ID 4. Reloading details.
2025-06-10 20:23:36,404 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 20:23:36,405 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:23:36,407 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:23:36,407 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:23:36,408 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:23:36,408 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Location updated to 'Quarantine Barn' for Annabelle.
2025-06-10 20:23:36,408 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-10 20:23:41,508 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: Annabelle
2025-06-10 20:23:43,143 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-10 20:23:45,925 - INFO - OwnersTab - owners_tab:399 - Linking owner ID 1 with 100.0% to horse ID 4
2025-06-10 20:23:45,930 - INFO - HorseController - horse_controller:419 - Owner ID 1 added to horse ID 4 by tm.
2025-06-10 20:23:45,931 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-10 20:23:47,728 - INFO - HorseUnifiedManagement - horse_unified_management:1123 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-10 20:23:47,728 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Owner successfully added to horse.
2025-06-10 20:23:47,728 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 20:23:47,730 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:23:47,732 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:23:47,735 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:23:47,735 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:29:09,046 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:29:09,046 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:29:09,047 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:29:09,047 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:29:09,047 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:29:09,047 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:29:09,055 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:29:09,055 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:29:09,058 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:29:09,059 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:29:09,059 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:29:09,236 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:29:09,238 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:29:09,238 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:29:09,238 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:29:09,238 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:29:09,239 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:29:09,243 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:29:09,262 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:29:10,706 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:29:36,487 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:29:36,649 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:29:36,649 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:29:36,650 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:29:36,659 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:29:36,660 - INFO - HorseUnifiedManagement - horse_unified_management:117 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:29:36,660 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:29:36,660 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:29:36,661 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:29:36,661 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:29:36,666 - INFO - HorseUnifiedManagement - horse_unified_management:857 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:29:36,832 - INFO - HorseUnifiedManagement - horse_unified_management:869 - BasicInfoTab created.
2025-06-10 20:29:36,835 - INFO - HorseUnifiedManagement - horse_unified_management:877 - OwnersTab created.
2025-06-10 20:29:36,836 - INFO - HorseUnifiedManagement - horse_unified_management:885 - LocationTab created.
2025-06-10 20:29:36,840 - INFO - HorseUnifiedManagement - horse_unified_management:891 - BillingTab created.
2025-06-10 20:29:36,845 - INFO - HorseUnifiedManagement - horse_unified_management:897 - InvoiceHistoryTab created.
2025-06-10 20:29:36,851 - INFO - HorseUnifiedManagement - horse_unified_management:900 - Tabs added.
2025-06-10 20:29:36,877 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:29:36,877 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting BasicInfoTab signals.
2025-06-10 20:29:36,878 - INFO - HorseUnifiedManagement - horse_unified_management:1720 - Connecting OwnersTab signals.
2025-06-10 20:29:36,878 - INFO - HorseUnifiedManagement - horse_unified_management:1728 - Connecting LocationTab signals.
2025-06-10 20:29:36,878 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:29:36,878 - INFO - HorseUnifiedManagement - horse_unified_management:1755 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:29:36,878 - INFO - HorseUnifiedManagement - horse_unified_management:193 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:29:36,951 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:29:36,952 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:29:36,952 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:29:36,952 - INFO - HorseUnifiedManagement - horse_unified_management:173 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:29:36,993 - INFO - HorseUnifiedManagement - horse_unified_management:196 - HorseUnifiedManagement showEvent: START
2025-06-10 20:29:36,995 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:29:36,995 - INFO - HorseUnifiedManagement - horse_unified_management:415 - display_empty_state: FINISHED
2025-06-10 20:29:36,995 - INFO - HorseUnifiedManagement - horse_unified_management:241 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:29:37,007 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:29:37,027 - INFO - HorseUnifiedManagement - horse_unified_management:567 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:29:37,027 - INFO - HorseUnifiedManagement - horse_unified_management:1360 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:29:37,035 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:29:37,049 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:29:37,050 - INFO - HorseUnifiedManagement - horse_unified_management:1033 - load_horse_details: START for horse ID: 4
2025-06-10 20:29:37,056 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:29:37,062 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:29:37,068 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:29:37,068 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:29:37,069 - INFO - HorseUnifiedManagement - horse_unified_management:570 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:32:05,786 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:32:05,786 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:32:05,786 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:32:05,786 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:32:05,786 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:32:05,787 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:32:05,794 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:32:05,794 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:32:05,798 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:32:05,798 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:32:05,798 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:32:05,980 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:32:05,982 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:32:05,982 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:32:05,982 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:32:05,983 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:32:05,983 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:32:05,987 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:32:06,005 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:32:07,692 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:32:14,825 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:32:14,988 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:32:14,988 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:32:14,989 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:32:14,998 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:32:14,998 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:32:14,998 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:32:14,999 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:32:14,999 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:32:14,999 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:32:15,007 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:32:15,173 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 20:32:15,175 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 20:32:15,177 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 20:32:15,181 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 20:32:15,187 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 20:32:15,193 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 20:32:15,220 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:32:15,221 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 20:32:15,221 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 20:32:15,221 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 20:32:15,222 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:32:15,222 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:32:15,222 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:32:15,292 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:32:15,293 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:32:15,293 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:32:15,293 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:32:15,339 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 20:32:15,340 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:32:15,340 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:32:15,341 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:32:15,348 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:32:15,368 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:32:15,368 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:32:15,375 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:32:15,390 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:32:15,390 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:32:15,396 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:32:15,402 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:32:15,408 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:32:15,408 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:32:15,408 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:39:05,299 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:39:05,300 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:39:05,300 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:39:05,300 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:39:05,300 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:39:05,300 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:39:05,309 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:39:05,309 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:39:05,312 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:39:05,313 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:39:05,313 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:39:05,490 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:39:05,492 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:39:05,492 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:39:05,493 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:39:05,493 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:39:05,493 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:39:05,497 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:39:05,516 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:39:06,693 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:39:14,668 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:39:14,830 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:39:14,831 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:39:14,831 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:39:14,838 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:39:14,838 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:39:14,839 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:39:14,839 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:39:14,839 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:39:14,839 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:39:14,845 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:39:14,942 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 20:39:14,945 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 20:39:14,947 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 20:39:14,951 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 20:39:14,957 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 20:39:14,964 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 20:39:14,991 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:39:14,991 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 20:39:14,991 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 20:39:14,992 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 20:39:14,992 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:39:14,992 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:39:14,992 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:39:15,064 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:39:15,065 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:39:15,065 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:39:15,065 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:39:15,106 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 20:39:15,107 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:39:15,107 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:39:15,107 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:39:15,119 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:39:15,138 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:39:15,139 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:39:15,146 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:39:15,160 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:39:15,161 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:39:15,166 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:39:15,172 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:39:15,178 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:39:15,178 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:39:15,179 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:39:22,560 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 20:39:22,563 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 20:39:22,564 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:39:22,565 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:39:22,567 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:39:22,568 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:39:22,568 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:39:22,570 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:39:22,570 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:39:22,576 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:39:22,577 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 2
2025-06-10 20:39:22,579 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 20:39:22,581 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 20:39:22,581 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 20:39:22,581 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 20:39:24,528 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 1
2025-06-10 20:39:24,530 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: doroni
2025-06-10 20:39:24,532 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:39:24,533 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: doroni
2025-06-10 20:39:24,534 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:39:28,496 - INFO - HorseUnifiedManagement - horse_unified_management:1515 - edit_selected_horse triggered. Item: False
2025-06-10 20:39:28,497 - INFO - BasicInfoTab - basic_info_tab:532 - BasicInfoTab set_edit_mode: True
2025-06-10 20:39:28,498 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Editing details for: doroni
2025-06-10 20:39:43,149 - INFO - HorseUnifiedManagement - horse_unified_management:1153 - save_changes: START
2025-06-10 20:39:43,158 - INFO - HorseController - horse_controller:214 - Horse ID 1 updated successfully by tm.
2025-06-10 20:39:43,158 - INFO - HorseUnifiedManagement - horse_unified_management:1220 - save_changes: Save successful. Message: Horse details updated successfully.
2025-06-10 20:39:43,159 - INFO - HorseUnifiedManagement - base_view:189 - Displaying Info: Success - Horse details updated successfully.
2025-06-10 20:39:44,668 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 20:39:44,670 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 20:39:44,671 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 8
2025-06-10 20:39:44,672 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 8: Sheldon
2025-06-10 20:39:44,674 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 8.
2025-06-10 20:39:44,674 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Sheldon
2025-06-10 20:39:44,674 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 8
2025-06-10 20:39:44,675 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:39:44,675 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:39:44,682 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:39:44,682 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 1
2025-06-10 20:39:44,684 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Doroni
2025-06-10 20:39:44,685 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:39:44,686 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Doroni
2025-06-10 20:39:44,686 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:39:44,686 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 1
2025-06-10 20:39:44,688 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Doroni
2025-06-10 20:39:44,689 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:39:44,690 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Doroni
2025-06-10 20:39:44,690 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:39:44,691 - INFO - HorseUnifiedManagement - horse_unified_management:1278 - save_changes: FINISHED
2025-06-10 20:39:59,456 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 20:39:59,457 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 20:39:59,457 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-10 20:39:59,458 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 20:39:59,458 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 20:39:59,459 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 20:39:59,459 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 20:39:59,507 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 20:39:59,509 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 20:39:59,509 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 20:39:59,618 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 20:39:59,619 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 20:39:59,619 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 20:39:59,620 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 20:39:59,620 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 20:39:59,631 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 20:40:08,306 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 20:40:18,983 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 20:40:18,984 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 20:40:18,986 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 20:40:18,986 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 20:40:22,216 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 20:40:22,217 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 20:40:26,549 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 20:40:26,552 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 20:40:26,553 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 20:40:26,696 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 20:40:35,133 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 20:40:35,133 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 20:40:35,134 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 20:40:35,135 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 20:40:38,078 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 20:40:38,078 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 20:40:43,100 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 20:40:43,101 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 20:40:43,101 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 20:40:43,259 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 20:40:54,158 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 20:40:54,159 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 20:40:54,163 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 20:40:57,257 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x23d38f35410> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x23d38f35410> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x23d38f35410> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 20:41:07,476 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 20:41:07,476 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 20:41:07,478 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 20:41:16,131 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 20:41:16,131 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 20:41:16,134 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 20:41:18,571 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-10 20:41:22,297 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-10 20:41:26,103 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-10 20:41:26,106 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 20:41:26,107 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 20:41:30,176 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: tm
2025-06-10 20:41:43,763 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 20:41:53,315 - INFO - HorseUnifiedManagement - horse_unified_management:1569 - refresh_data: Proceeding with refresh.
2025-06-10 20:41:53,315 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 20:41:53,318 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 20:41:53,319 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:41:53,320 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:41:53,326 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:41:53,326 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 1
2025-06-10 20:41:53,328 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Doroni
2025-06-10 20:41:53,329 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:41:53,331 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Doroni
2025-06-10 20:41:53,331 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:41:53,331 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Data refreshed.
2025-06-10 20:42:43,131 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:42:43,131 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:42:43,131 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:42:43,131 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:42:43,131 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:42:43,131 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:42:43,139 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:42:43,140 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:42:43,143 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:42:43,144 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:42:43,144 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:42:43,325 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:42:43,327 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:42:43,327 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:42:43,327 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:42:43,328 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:42:43,328 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:42:43,332 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:42:43,354 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:42:45,246 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:42:54,604 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 20:42:54,766 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 20:42:54,766 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 20:42:54,767 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 20:42:54,775 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 20:42:54,775 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 20:42:54,776 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:42:54,776 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:42:54,778 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:42:54,779 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:42:54,787 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:42:54,943 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 20:42:54,946 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 20:42:54,947 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 20:42:54,951 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 20:42:54,957 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 20:42:54,963 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 20:42:54,989 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:42:54,989 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 20:42:54,989 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 20:42:54,989 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 20:42:54,990 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:42:54,990 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:42:54,990 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:42:55,064 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:42:55,065 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:42:55,065 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:42:55,066 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:42:55,107 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 20:42:55,108 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:42:55,108 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:42:55,108 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:42:55,115 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:42:55,133 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:42:55,134 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:42:55,141 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:42:55,155 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:42:55,156 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:42:55,162 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:42:55,168 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:42:55,174 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:42:55,174 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:42:55,174 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:43:04,889 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'all', Search: ''
2025-06-10 20:43:04,891 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:04,891 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:43:04,893 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:43:04,894 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:43:04,895 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:43:04,895 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:43:04,896 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:04,896 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:04,908 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:04,909 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:43:04,910 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:43:04,912 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:43:04,913 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:43:04,913 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:43:04,914 - INFO - HorseUnifiedManagement - horse_unified_management:1431 - on_filter_changed: To All Horses
2025-06-10 20:43:04,914 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'all', Search: ''
2025-06-10 20:43:04,915 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:04,915 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:43:04,917 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:43:04,918 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:43:04,919 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:43:04,919 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:43:04,920 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:04,920 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:04,933 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:04,934 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:43:04,935 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:43:04,937 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:43:04,938 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:43:04,938 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:43:06,194 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'inactive', Search: ''
2025-06-10 20:43:06,197 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: inactive) found 0 results.
2025-06-10 20:43:06,197 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:43:06,199 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:43:06,201 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:43:06,201 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:43:06,201 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:43:06,203 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:06,203 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:06,204 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:06,205 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:06,205 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:06,206 - INFO - HorseUnifiedManagement - horse_unified_management:1431 - on_filter_changed: To Deactivated
2025-06-10 20:43:06,206 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'inactive', Search: ''
2025-06-10 20:43:06,206 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: inactive) found 0 results.
2025-06-10 20:43:06,208 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:06,208 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:06,209 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:08,373 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:43:08,375 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:43:08,387 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:08,388 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:43:08,389 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:43:08,391 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:43:08,392 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:43:08,392 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:43:08,393 - INFO - HorseUnifiedManagement - horse_unified_management:1431 - on_filter_changed: To Active Only
2025-06-10 20:43:08,393 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:43:08,394 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:43:08,395 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:43:08,396 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:43:08,398 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:43:08,398 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:43:08,399 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:43:08,400 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:08,400 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:08,412 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:08,413 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:43:08,414 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:43:08,416 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:43:08,417 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:43:08,417 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:43:35,410 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: 'd'
2025-06-10 20:43:35,413 - INFO - HorseController - horse_controller:301 - Search for horses (term: 'd', owner: 'None', status: active) found 5 results.
2025-06-10 20:43:35,413 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 5
2025-06-10 20:43:35,415 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 5: Bossy
2025-06-10 20:43:35,417 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 5.
2025-06-10 20:43:35,417 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Bossy
2025-06-10 20:43:35,417 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 5
2025-06-10 20:43:35,419 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:43:35,420 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:43:35,427 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:43:35,427 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 2
2025-06-10 20:43:35,429 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 2: Daisy
2025-06-10 20:43:35,431 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 2.
2025-06-10 20:43:35,431 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Daisy
2025-06-10 20:43:35,431 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 2
2025-06-10 20:43:37,197 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 1
2025-06-10 20:43:37,199 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 1: Doroni
2025-06-10 20:43:37,200 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 1.
2025-06-10 20:43:37,201 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Doroni
2025-06-10 20:43:37,201 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 1
2025-06-10 20:44:26,324 - WARNING - HorseUnifiedManagement - horse_unified_management:587 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 20:44:26,324 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 20:44:26,325 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 20:44:26,326 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 20:44:26,334 - WARNING - HorseUnifiedManagement - horse_unified_management:590 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 20:44:26,336 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 20:44:26,337 - INFO - root - main:372 - Application exiting with code 0
2025-06-10 20:52:16,014 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:52:16,014 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:52:16,015 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:52:16,015 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:52:16,015 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:52:16,015 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:52:16,022 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:52:16,022 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:52:16,026 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:52:16,026 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:52:16,027 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:52:16,215 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:52:16,217 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:52:16,217 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:52:16,217 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:52:16,218 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:52:16,218 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:52:16,222 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:52:16,239 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:52:18,052 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:52:28,907 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-10 20:52:29,072 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-10 20:52:29,072 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-10 20:52:29,074 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-10 20:52:29,082 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-10 20:52:29,082 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-10 20:52:29,083 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:52:29,083 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:52:29,083 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:52:29,084 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:52:29,090 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:52:29,257 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 20:52:29,260 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 20:52:29,261 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 20:52:29,265 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 20:52:29,271 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 20:52:29,279 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 20:52:29,304 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:52:29,305 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 20:52:29,305 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 20:52:29,305 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 20:52:29,306 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:52:29,306 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:52:29,306 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:52:29,383 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:52:29,384 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:52:29,384 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:52:29,384 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:52:29,426 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 20:52:29,427 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:52:29,427 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:52:29,427 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:52:29,435 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:52:29,455 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:52:29,455 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:52:29,463 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:52:29,478 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:52:29,479 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:52:29,484 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:52:29,491 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:52:29,497 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:52:29,497 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:52:29,497 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:52:39,417 - INFO - OwnersTab - owners_tab:377 - Initiating Link Existing Owner for: Annabelle
2025-06-10 20:52:45,623 - INFO - OwnersTab - owners_tab:424 - Link existing owner dialog cancelled.
2025-06-10 20:52:48,596 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Annabelle
2025-06-10 20:52:48,600 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-10 20:52:50,622 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-10 20:52:51,694 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Annabelle
2025-06-10 20:52:51,699 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-10 20:52:55,459 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-06-10 20:52:57,843 - INFO - OwnersTab - owners_tab:315 - Initiating Create & Link Owner for: Annabelle
2025-06-10 20:53:00,014 - INFO - OwnersTab - owners_tab:371 - Create & link owner dialog cancelled.
2025-06-10 20:53:19,817 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 20:53:19,817 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 20:53:19,818 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: ADMIN
2025-06-10 20:53:19,819 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 20:53:19,819 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 20:53:19,819 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 20:53:19,820 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 20:53:19,869 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 20:53:19,872 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 20:53:19,872 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 20:53:20,003 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 20:53:20,003 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 20:53:20,003 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 20:53:20,004 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 20:53:20,004 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 20:53:20,016 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 20:53:23,613 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-10 20:53:27,771 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-10 20:53:27,772 - INFO - UserManagementScreen - user_management_screen:770 - Loading locations data for tab...
2025-06-10 20:53:27,774 - INFO - UserManagementScreen - user_management_screen:820 - Loaded 3 locations.
2025-06-10 20:53:30,013 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-10 20:53:34,661 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 2, new tab title:  Manage Veterinarians
2025-06-10 20:53:34,662 - INFO - UserManagementScreen - user_management_screen:980 - Loading veterinarians data for tab...
2025-06-10 20:53:34,664 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 1 veterinarians.
2025-06-10 20:53:43,535 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 20:53:43,535 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 20:53:43,540 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 20:53:47,156 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e9a3252890> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e9a3252890> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e9a3252890> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 20:57:28,305 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 20:57:28,305 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 20:57:28,305 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 20:57:28,305 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 20:57:28,305 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 20:57:28,306 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 20:57:28,312 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 20:57:28,313 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 20:57:28,316 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 20:57:28,316 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 20:57:28,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 20:57:28,497 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 20:57:28,499 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 20:57:28,500 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 20:57:28,500 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 20:57:28,500 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 20:57:28,500 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 20:57:28,505 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 20:57:28,521 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 20:57:30,307 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 20:57:39,190 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 20:57:39,352 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 20:57:39,352 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 20:57:39,353 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 20:57:39,363 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 20:57:39,363 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 20:57:39,363 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 20:57:39,364 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 20:57:39,364 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 20:57:39,364 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 20:57:39,372 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 20:57:39,534 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 20:57:39,537 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 20:57:39,538 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 20:57:39,542 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 20:57:39,548 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 20:57:39,554 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 20:57:39,583 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 20:57:39,583 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 20:57:39,583 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 20:57:39,584 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 20:57:39,584 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 20:57:39,584 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 20:57:39,584 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 20:57:39,657 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 20:57:39,658 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 20:57:39,658 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 20:57:39,658 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 20:57:39,704 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 20:57:39,705 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 20:57:39,706 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 20:57:39,706 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 20:57:39,714 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 20:57:39,733 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 20:57:39,733 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 20:57:39,741 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 20:57:39,755 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 20:57:39,756 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 20:57:39,761 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 20:57:39,768 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 20:57:39,774 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 20:57:39,774 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 20:57:39,774 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 20:57:43,650 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 20:57:43,651 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 20:57:43,652 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-10 20:57:43,652 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 20:57:43,652 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 20:57:43,652 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 20:57:43,652 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 20:57:43,705 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 20:57:43,707 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 20:57:43,707 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 20:57:43,824 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 20:57:43,824 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 20:57:43,825 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 20:57:43,825 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 20:57:43,825 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 20:57:43,836 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 20:58:06,959 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 20:58:06,959 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 20:58:06,964 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 20:58:09,498 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 20:58:39,257 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x14b99f9bdd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:00:43,424 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 21:00:43,425 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 21:00:43,425 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 21:00:43,425 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 21:00:43,425 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 21:00:43,425 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 21:00:43,433 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 21:00:43,433 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 21:00:43,436 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 21:00:43,437 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 21:00:43,437 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 21:00:43,619 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 21:00:43,620 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 21:00:43,621 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 21:00:43,621 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 21:00:43,621 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 21:00:43,621 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 21:00:43,626 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 21:00:43,645 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 21:00:45,094 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 21:00:52,269 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 21:00:52,430 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 21:00:52,431 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 21:00:52,431 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 21:00:52,439 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 21:00:52,439 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 21:00:52,439 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 21:00:52,440 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 21:00:52,440 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 21:00:52,441 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 21:00:52,447 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 21:00:52,601 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 21:00:52,604 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 21:00:52,605 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 21:00:52,609 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 21:00:52,615 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 21:00:52,621 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 21:00:52,647 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 21:00:52,648 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 21:00:52,648 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 21:00:52,649 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 21:00:52,649 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 21:00:52,649 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 21:00:52,649 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 21:00:52,722 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 21:00:52,723 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 21:00:52,723 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 21:00:52,723 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 21:00:52,768 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 21:00:52,769 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 21:00:52,769 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 21:00:52,769 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 21:00:52,777 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 21:00:52,795 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 21:00:52,795 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 21:00:52,803 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 21:00:52,817 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 21:00:52,818 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 21:00:52,823 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 21:00:52,829 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 21:00:52,835 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 21:00:52,835 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 21:00:52,835 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 21:00:54,853 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 21:00:54,853 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 21:00:54,854 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-10 21:00:54,854 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 21:00:54,854 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 21:00:54,854 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 21:00:54,855 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 21:00:54,904 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 21:00:54,906 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 21:00:54,907 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 21:00:55,022 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 21:00:55,023 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 21:00:55,023 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 21:00:55,024 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 21:00:55,024 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 21:00:55,043 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 21:00:58,231 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 21:00:58,232 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 21:00:58,238 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 21:01:01,228 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e7de68be90> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e7de68be90> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x1e7de68be90> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:07:32,440 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 21:07:32,440 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 21:07:32,440 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 21:07:32,440 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 21:07:32,441 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 21:07:32,441 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 21:07:32,448 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 21:07:32,449 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 21:07:32,452 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 21:07:32,452 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 21:07:32,452 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 21:07:32,632 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 21:07:32,634 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 21:07:32,634 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 21:07:32,634 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 21:07:32,634 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 21:07:32,635 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 21:07:32,639 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 21:07:32,659 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 21:07:34,172 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 21:07:43,292 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 21:07:43,454 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 21:07:43,455 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 21:07:43,455 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 21:07:43,462 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 21:07:43,463 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 21:07:43,464 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 21:07:43,464 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 21:07:43,464 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 21:07:43,465 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 21:07:43,473 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 21:07:43,628 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 21:07:43,630 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 21:07:43,632 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 21:07:43,636 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 21:07:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 21:07:43,648 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 21:07:43,673 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 21:07:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 21:07:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 21:07:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 21:07:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 21:07:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 21:07:43,675 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 21:07:43,744 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 21:07:43,744 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 21:07:43,745 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 21:07:43,745 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 21:07:43,789 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 21:07:43,790 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 21:07:43,790 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 21:07:43,791 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 21:07:43,803 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 21:07:43,823 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 21:07:43,823 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 21:07:43,830 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 21:07:43,844 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 21:07:43,844 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 21:07:43,850 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 21:07:43,856 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 21:07:43,862 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 21:07:43,862 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 21:07:43,862 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 21:07:47,843 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 21:07:47,843 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 21:07:47,844 - INFO - UserManagementScreen - user_management_screen:93 - UserManagementScreen __init__ called for user: tm
2025-06-10 21:07:47,844 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 21:07:47,845 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 21:07:47,845 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 21:07:47,845 - INFO - UserManagementScreen - user_management_screen:176 - Setting up UserManagementScreen UI...
2025-06-10 21:07:47,897 - INFO - UserManagementScreen - user_management_screen:567 - Loading users data for tab...
2025-06-10 21:07:47,900 - INFO - UserManagementScreen - user_management_screen:603 - Loaded 2 users.
2025-06-10 21:07:47,900 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen UI setup complete.
2025-06-10 21:07:48,012 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 21:07:48,013 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 21:07:48,013 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 21:07:48,014 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 21:07:48,014 - INFO - UserManagementScreen - user_management_screen:173 - UserManagementScreen __init__ completed.
2025-06-10 21:07:48,027 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 21:07:51,518 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 21:07:51,519 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 21:07:51,520 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 21:07:51,672 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 21:07:52,743 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 21:07:52,743 - INFO - UserManagementScreen - user_management_screen:1149 - Loading charge code categories/processes data...
2025-06-10 21:07:52,749 - INFO - UserManagementScreen - user_management_screen:1199 - Displayed categories in tree (UI filter: 'active').
2025-06-10 21:07:55,640 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:08:56,152 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30945050> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:09:02,629 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c309451d0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c309451d0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c309451d0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:09:23,778 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944e50> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944e50> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944e50> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:09:44,297 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944fd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944fd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1257, in _edit_selected_category_process
    parent_category=category_to_edit.parent,
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <ChargeCodeCategory at 0x20c30944fd0> is not bound to a Session; lazy load operation of attribute 'parent' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-10 21:11:03,006 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 21:11:03,006 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 21:11:03,007 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 21:11:03,156 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 21:11:09,395 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-10 21:11:09,395 - INFO - UserManagementScreen - user_management_screen:1640 - Loading owners data for tab...
2025-06-10 21:11:09,410 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-10 21:11:09,411 - INFO - UserManagementScreen - user_management_screen:1686 - Loaded 2 owners.
2025-06-10 21:11:13,713 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-10 21:11:13,714 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-10 21:11:17,367 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 6, new tab title:  Company Profile
2025-06-10 21:11:19,782 - INFO - UserManagementScreen - user_management_screen:460 - Tab changed to index: 4, new tab title:  Manage Charge Codes
2025-06-10 21:11:19,782 - INFO - UserManagementScreen - user_management_screen:1398 - Loading charge codes data for tab...
2025-06-10 21:11:19,783 - INFO - UserManagementScreen - user_management_screen:1404 - Charge code status filter: active
2025-06-10 21:11:19,927 - INFO - UserManagementScreen - user_management_screen:1452 - Loaded 414 charge codes based on filter 'active'.
2025-06-10 21:11:27,959 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 21:18:46,309 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-10 21:18:46,309 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-10 21:18:46,309 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-10 21:18:46,309 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-10 21:18:46,310 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-10 21:18:46,310 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-10 21:18:46,316 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-10 21:18:46,316 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-10 21:18:46,320 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-10 21:18:46,321 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-10 21:18:46,321 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-10 21:18:46,499 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-10 21:18:46,501 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-10 21:18:46,501 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-10 21:18:46,502 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-10 21:18:46,502 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-10 21:18:46,502 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-10 21:18:46,507 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-10 21:18:46,526 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-10 21:18:50,450 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-10 21:18:58,023 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-10 21:18:58,185 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-10 21:18:58,185 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-10 21:18:58,186 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-10 21:18:58,194 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-10 21:18:58,195 - INFO - HorseUnifiedManagement - horse_unified_management:121 - HorseUnifiedManagement __init__ started for user: tm
2025-06-10 21:18:58,195 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-10 21:18:58,195 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-10 21:18:58,197 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-10 21:18:58,198 - INFO - HorseUnifiedManagement - horse_unified_management:182 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-10 21:18:58,203 - INFO - HorseUnifiedManagement - horse_unified_management:860 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-10 21:18:58,360 - INFO - HorseUnifiedManagement - horse_unified_management:872 - BasicInfoTab created.
2025-06-10 21:18:58,363 - INFO - HorseUnifiedManagement - horse_unified_management:880 - OwnersTab created.
2025-06-10 21:18:58,364 - INFO - HorseUnifiedManagement - horse_unified_management:888 - LocationTab created.
2025-06-10 21:18:58,368 - INFO - HorseUnifiedManagement - horse_unified_management:894 - BillingTab created.
2025-06-10 21:18:58,374 - INFO - HorseUnifiedManagement - horse_unified_management:900 - InvoiceHistoryTab created.
2025-06-10 21:18:58,381 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-10 21:18:58,407 - INFO - HorseUnifiedManagement - horse_unified_management:1665 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-10 21:18:58,408 - INFO - HorseUnifiedManagement - horse_unified_management:1689 - Connecting BasicInfoTab signals.
2025-06-10 21:18:58,408 - INFO - HorseUnifiedManagement - horse_unified_management:1705 - Connecting OwnersTab signals.
2025-06-10 21:18:58,408 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting LocationTab signals.
2025-06-10 21:18:58,408 - INFO - HorseUnifiedManagement - horse_unified_management:1726 - Connecting InvoiceHistoryTab signals.
2025-06-10 21:18:58,409 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-10 21:18:58,409 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-10 21:18:58,480 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-10 21:18:58,481 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-10 21:18:58,481 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-10 21:18:58,482 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-10 21:18:58,523 - INFO - HorseUnifiedManagement - horse_unified_management:200 - HorseUnifiedManagement showEvent: START
2025-06-10 21:18:58,524 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-10 21:18:58,524 - INFO - HorseUnifiedManagement - horse_unified_management:419 - display_empty_state: FINISHED
2025-06-10 21:18:58,525 - INFO - HorseUnifiedManagement - horse_unified_management:245 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-10 21:18:58,534 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-10 21:18:58,552 - INFO - HorseUnifiedManagement - horse_unified_management:571 - load_initial_data: START - Attempting to load horses.
2025-06-10 21:18:58,552 - INFO - HorseUnifiedManagement - horse_unified_management:1345 - load_horses: Filter status: 'active', Search: ''
2025-06-10 21:18:58,561 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-10 21:18:58,575 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-10 21:18:58,576 - INFO - HorseUnifiedManagement - horse_unified_management:1030 - load_horse_details: START for horse ID: 4
2025-06-10 21:18:58,581 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-10 21:18:58,587 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-10 21:18:58,593 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-10 21:18:58,593 - INFO - HorseUnifiedManagement - horse_unified_management:1057 - load_horse_details: FINISHED for horse ID: 4
2025-06-10 21:18:58,594 - INFO - HorseUnifiedManagement - horse_unified_management:574 - load_initial_data: FINISHED - load_horses call completed.
2025-06-10 21:19:03,649 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-10 21:19:03,649 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-10 21:19:03,649 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: tm
2025-06-10 21:19:03,650 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-10 21:19:03,650 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-10 21:19:03,650 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-10 21:19:03,651 - INFO - UserManagementScreen - user_management_screen:180 - Setting up UserManagementScreen UI...
2025-06-10 21:19:03,700 - INFO - UserManagementScreen - user_management_screen:571 - Loading users data for tab...
2025-06-10 21:19:03,702 - INFO - UserManagementScreen - user_management_screen:607 - Loaded 2 users.
2025-06-10 21:19:03,703 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen UI setup complete.
2025-06-10 21:19:03,817 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-10 21:19:03,818 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-10 21:19:03,818 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-10 21:19:03,818 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-10 21:19:03,818 - INFO - UserManagementScreen - user_management_screen:177 - UserManagementScreen __init__ completed.
2025-06-10 21:19:03,832 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-10 21:19:06,249 - INFO - UserManagementScreen - user_management_screen:464 - Tab changed to index: 3, new tab title:  Manage Categories/Processes
2025-06-10 21:19:06,251 - INFO - UserManagementScreen - user_management_screen:1153 - Loading charge code categories/processes data...
2025-06-10 21:19:06,258 - INFO - UserManagementScreen - user_management_screen:1203 - Displayed categories in tree (UI filter: 'active').
2025-06-10 21:20:02,916 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-10 21:20:03,990 - WARNING - HorseUnifiedManagement - horse_unified_management:587 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-10 21:20:03,991 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-10 21:20:03,991 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-10 21:20:03,991 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-10 21:20:04,000 - WARNING - HorseUnifiedManagement - horse_unified_management:590 - HorseUnifiedManagement finished processing closeEvent.
2025-06-10 21:20:04,002 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-10 21:20:04,003 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 13:40:55,118 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 13:40:55,119 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 13:40:55,119 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 13:40:55,119 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 13:40:55,119 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 13:40:55,119 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 13:40:55,133 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 13:40:55,133 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 13:40:55,140 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 13:40:55,141 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 13:40:55,141 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 13:40:55,325 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 13:40:55,327 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 13:40:55,328 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 13:40:55,328 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 13:40:55,328 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 13:40:55,329 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 13:40:55,339 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 13:40:55,357 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 13:40:57,141 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 13:41:04,615 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 13:41:04,777 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 13:41:04,777 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 13:41:04,778 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 13:41:04,785 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 13:41:04,786 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 13:41:04,786 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 13:41:04,786 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 13:41:04,787 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 13:41:04,787 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 13:41:04,794 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 13:41:05,995 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 13:41:05,998 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 13:41:06,000 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 13:41:06,004 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 13:41:06,009 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 13:41:06,009 - INFO - ReportsController - reports_controller:20 - ReportsController initialized.
2025-06-11 13:41:06,012 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 13:41:06,019 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 13:41:06,046 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 13:41:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 13:41:06,047 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 13:41:06,048 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 13:41:06,048 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 13:41:06,048 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 13:41:06,048 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 13:41:06,121 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 13:41:06,122 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 13:41:06,122 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 13:41:06,122 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 13:41:06,163 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 13:41:06,165 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 13:41:06,165 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 13:41:06,165 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 13:41:06,173 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 13:41:06,191 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 13:41:06,192 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 13:41:06,199 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 13:41:06,213 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 13:41:06,214 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 13:41:06,219 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 13:41:06,224 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 13:41:06,230 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 13:41:06,231 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 13:41:06,231 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 13:41:50,724 - INFO - HorseUnifiedManagement - base_view:201 - Asking Question: Confirm Delete Invoice(s) - Are you sure you want to permanently delete the following 1 invoice(s)?

- INV-1

This will adjust each owner's balance accordingly.

<b>IMPORTANT:</b> This action will NOT make the original charges billable again. This action cannot be undone.
2025-06-11 13:41:52,165 - INFO - FinancialController - financial_controller:547 - Deleting Invoice #1 for owner '1'. Reversing balance by $18.00.
2025-06-11 13:41:52,173 - INFO - FinancialController - financial_controller:566 - Successfully deleted Invoice #1 and adjusted owner balance.
2025-06-11 13:41:52,173 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Successfully deleted 1 invoice(s).
2025-06-11 13:41:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1640 - Invoice deleted signal received, refreshing all relevant tabs.
2025-06-11 13:41:52,175 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 13:55:37,348 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 13:55:37,348 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 13:55:37,348 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 13:55:37,349 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 13:55:37,349 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 13:55:37,349 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 13:55:37,356 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 13:55:37,356 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 13:55:37,359 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 13:55:37,359 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 13:55:37,361 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 13:55:37,541 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 13:55:37,543 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 13:55:37,543 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 13:55:37,543 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 13:55:37,543 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 13:55:37,544 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 13:55:37,548 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 13:55:37,568 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 13:55:38,903 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 13:55:46,619 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 13:55:46,781 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 13:55:46,782 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 13:55:46,782 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 13:55:46,791 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 13:55:46,791 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 13:55:46,791 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 13:55:46,792 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 13:55:46,792 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 13:55:46,793 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 13:55:46,799 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 13:55:46,958 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 13:55:46,961 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 13:55:46,962 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 13:55:46,966 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 13:55:46,972 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 13:55:46,972 - INFO - ReportsController - reports_controller:20 - ReportsController initialized.
2025-06-11 13:55:46,978 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 13:55:46,986 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 13:55:47,017 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 13:55:47,018 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 13:55:47,018 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 13:55:47,018 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 13:55:47,019 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 13:55:47,019 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 13:55:47,019 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 13:55:47,104 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 13:55:47,105 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 13:55:47,105 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 13:55:47,106 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 13:55:47,147 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 13:55:47,148 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 13:55:47,149 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 13:55:47,149 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 13:55:47,157 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 13:55:47,178 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 13:55:47,178 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 13:55:47,185 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 13:55:47,199 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 13:55:47,199 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 13:55:47,204 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 13:55:47,211 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 13:55:47,217 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 13:55:47,217 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 13:55:47,217 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 14:16:29,458 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 14:16:29,458 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 14:16:29,458 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 14:16:29,458 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 14:16:29,458 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 14:16:29,458 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 14:16:29,466 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 14:16:29,466 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 14:16:29,469 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 14:16:29,470 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 14:16:29,470 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 14:16:29,653 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 14:16:29,655 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 14:16:29,655 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 14:16:29,656 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 14:16:29,656 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 14:16:29,656 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 14:16:29,660 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 14:16:29,682 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 14:16:31,135 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 14:16:38,399 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 14:16:38,563 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 14:16:38,564 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 14:16:38,565 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 14:16:38,575 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 14:16:38,575 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 14:16:38,576 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 14:16:38,579 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 14:16:38,579 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 14:16:38,579 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 14:16:38,586 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 14:16:38,736 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 14:16:38,739 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 14:16:38,741 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 14:16:38,745 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 14:16:38,751 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 14:16:38,751 - INFO - ReportsController - reports_controller:33 - ReportsController initialized.
2025-06-11 14:16:38,758 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 14:16:38,766 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 14:16:38,797 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 14:16:38,797 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 14:16:38,797 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 14:16:38,797 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 14:16:38,798 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 14:16:38,798 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 14:16:38,798 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 14:16:38,887 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 14:16:38,888 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 14:16:38,888 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 14:16:38,888 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 14:16:38,930 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 14:16:38,931 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 14:16:38,932 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 14:16:38,932 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 14:16:38,942 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 14:16:38,961 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 14:16:38,961 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 14:16:38,970 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 14:16:38,985 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 14:16:38,986 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 14:16:38,991 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 14:16:38,998 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 14:16:39,004 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 14:16:39,004 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 14:16:39,004 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 14:18:42,093 - INFO - ReportsTab - reports_tab:215 - Generating owner statement for owner_id: 2 from 2025-05-11 to 2025-06-11
2025-06-11 14:18:42,106 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
2025-06-11 14:18:53,051 - INFO - ReportsTab - reports_tab:215 - Generating owner statement for owner_id: 2 from 2025-04-28 to 2025-06-11
2025-06-11 14:18:53,052 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
2025-06-11 14:19:07,069 - INFO - ReportsTab - reports_tab:215 - Generating owner statement for owner_id: 2 from 2025-04-28 to 2025-07-04
2025-06-11 14:19:07,071 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
2025-06-11 14:19:14,326 - INFO - ReportsTab - reports_tab:215 - Generating owner statement for owner_id: 1 from 2025-04-28 to 2025-07-04
2025-06-11 14:19:14,328 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 193, in _on_run_report_clicked
    self._run_owner_statement_report()
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 230, in _run_owner_statement_report
    default_filename = f"Statement for {owner_name} {date.today()}.pdf"
                                                     ^^^^
NameError: name 'date' is not defined
2025-06-11 14:21:14,799 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 14:21:14,799 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 14:21:14,799 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 14:21:14,800 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 14:21:14,800 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 14:21:14,800 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 14:21:14,807 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 14:21:14,807 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 14:21:14,811 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 14:21:14,812 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 14:21:14,812 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 14:21:14,996 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 14:21:14,997 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 14:21:14,998 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 14:21:14,998 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 14:21:14,998 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 14:21:14,999 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 14:21:15,003 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 14:21:15,024 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 14:21:16,569 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 14:21:24,255 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 14:21:24,418 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 14:21:24,418 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 14:21:24,419 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 14:21:24,430 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 14:21:24,430 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 14:21:24,431 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 14:21:24,432 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 14:21:24,432 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 14:21:24,432 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 14:21:24,436 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 14:21:24,607 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 14:21:24,610 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 14:21:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 14:21:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 14:21:24,621 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 14:21:24,621 - INFO - ReportsController - reports_controller:33 - ReportsController initialized.
2025-06-11 14:21:24,627 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 14:21:24,635 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 14:21:24,666 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 14:21:24,667 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 14:21:24,667 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 14:21:24,667 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 14:21:24,668 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 14:21:24,668 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 14:21:24,668 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 14:21:24,754 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 14:21:24,755 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 14:21:24,755 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 14:21:24,755 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 14:21:24,797 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 14:21:24,798 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 14:21:24,799 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 14:21:24,799 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 14:21:24,807 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 14:21:24,826 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 14:21:24,827 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 14:21:24,834 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 14:21:24,847 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 14:21:24,848 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 14:21:24,853 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 14:21:24,860 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 14:21:24,866 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 14:21:24,866 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 14:21:24,866 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 14:21:39,419 - INFO - ReportsTab - reports_tab:219 - Generating owner statement for owner_id: 1 from 2025-04-28 to 2025-06-11
2025-06-11 14:22:05,047 - INFO - OwnerStatementGenerator - owner_statement_generator:63 - Successfully generated owner statement: C:/Projects/EDMS/Statement for Smith 2025-06-11.pdf
2025-06-11 14:25:35,271 - INFO - ReportsTab - reports_tab:219 - Generating owner statement for owner_id: 2 from 2025-04-28 to 2025-06-11
2025-06-11 14:25:42,498 - INFO - OwnerStatementGenerator - owner_statement_generator:63 - Successfully generated owner statement: C:/Projects/EDMS/Statements/Statement for Davis 2025-06-11.pdf
2025-06-11 14:26:57,893 - INFO - ReportsTab - reports_tab:219 - Generating owner statement for owner_id: 2 from 2025-04-28 to 2025-06-11
2025-06-11 14:27:35,637 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 14:27:35,637 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 14:27:35,638 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 14:27:35,638 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 14:27:35,646 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 14:27:35,660 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 14:27:35,662 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 14:41:35,305 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 14:41:35,306 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 14:41:35,306 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 14:41:35,306 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 14:41:35,306 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 14:41:35,306 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 14:41:35,314 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 14:41:35,314 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 14:41:35,317 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 14:41:35,318 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 14:41:35,318 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 14:41:35,500 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 14:41:35,502 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 14:41:35,502 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 14:41:35,503 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 14:41:35,503 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 14:41:35,503 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 14:41:35,508 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 14:41:35,529 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 14:41:36,995 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 14:41:45,449 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 14:41:45,612 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 14:41:45,612 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 14:41:45,612 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 14:41:45,621 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 14:41:45,622 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 14:41:45,622 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 14:41:45,622 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 14:41:45,622 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 14:41:45,622 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 14:41:45,627 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 14:41:45,780 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 14:41:45,783 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 14:41:45,784 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 14:41:45,788 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 14:41:45,794 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 14:41:45,795 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 14:41:45,801 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 14:41:45,809 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 14:41:45,840 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 14:41:45,841 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 14:41:45,841 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 14:41:45,842 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 14:41:45,842 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 14:41:45,843 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 14:41:45,843 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 14:41:45,928 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 14:41:45,929 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 14:41:45,929 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 14:41:45,929 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 14:41:45,980 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 14:41:45,981 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 14:41:45,981 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 14:41:45,981 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 14:41:45,989 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 14:41:46,007 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 14:41:46,007 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 14:41:46,015 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 14:41:46,030 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 14:41:46,031 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 14:41:46,036 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 14:41:46,043 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 14:41:46,049 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 14:41:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 14:41:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 14:42:04,243 - INFO - ReportsTab - reports_tab:259 - Generating batch owner statements from 2025-05-11 to 2025-06-11
2025-06-11 14:42:04,245 - INFO - ReportsController - reports_controller:73 - Found 2 owners requiring a statement.
2025-06-11 14:42:11,076 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: KeyError: "Style 'Title' already defined in stylesheet"
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 214, in _on_run_report_clicked
    self._run_owner_statement_report(email_after=False)
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 251, in _run_owner_statement_report
    self._generate_batch_statements(options["start_date"], options["end_date"])
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 280, in _generate_batch_statements
    generator = OwnerStatementGenerator()
                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\reports\owner_statement_generator.py", line 48, in __init__
    self._setup_styles()
  File "C:\Projects\EDMS\reports\owner_statement_generator.py", line 62, in _setup_styles
    self.styles.add(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\reportlab\lib\styles.py", line 253, in add
    raise KeyError("Style '%s' already defined in stylesheet" % key)
KeyError: "Style 'Title' already defined in stylesheet"
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 214, in _on_run_report_clicked
    self._run_owner_statement_report(email_after=False)
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 251, in _run_owner_statement_report
    self._generate_batch_statements(options["start_date"], options["end_date"])
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 280, in _generate_batch_statements
    generator = OwnerStatementGenerator()
                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\reports\owner_statement_generator.py", line 48, in __init__
    self._setup_styles()
  File "C:\Projects\EDMS\reports\owner_statement_generator.py", line 62, in _setup_styles
    self.styles.add(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\reportlab\lib\styles.py", line 253, in add
    raise KeyError("Style '%s' already defined in stylesheet" % key)
KeyError: "Style 'Title' already defined in stylesheet"
2025-06-11 14:46:51,583 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 14:46:51,584 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 14:46:51,584 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 14:46:51,584 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 14:46:51,584 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 14:46:51,584 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 14:46:51,593 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 14:46:51,593 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 14:46:51,596 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 14:46:51,596 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 14:46:51,597 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 14:46:51,780 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 14:46:51,782 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 14:46:51,782 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 14:46:51,782 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 14:46:51,782 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 14:46:51,783 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 14:46:51,787 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 14:46:51,808 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 14:46:53,488 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 14:47:00,915 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 14:47:01,077 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 14:47:01,077 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 14:47:01,078 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 14:47:01,085 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 14:47:01,085 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 14:47:01,085 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 14:47:01,087 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 14:47:01,088 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 14:47:01,089 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 14:47:01,095 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 14:47:01,246 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 14:47:01,249 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 14:47:01,251 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 14:47:01,255 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 14:47:01,261 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 14:47:01,261 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 14:47:01,267 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 14:47:01,276 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 14:47:01,308 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 14:47:01,308 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 14:47:01,309 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 14:47:01,309 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 14:47:01,310 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 14:47:01,310 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 14:47:01,310 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 14:47:01,397 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 14:47:01,397 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 14:47:01,398 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 14:47:01,398 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 14:47:01,442 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 14:47:01,443 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 14:47:01,443 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 14:47:01,444 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 14:47:01,453 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 14:47:01,474 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 14:47:01,474 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 14:47:01,482 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 14:47:01,496 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 14:47:01,497 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 14:47:01,502 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 14:47:01,508 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 14:47:01,514 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 14:47:01,515 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 14:47:01,515 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 14:47:09,684 - INFO - ReportsTab - reports_tab:259 - Generating batch owner statements from 2025-05-11 to 2025-06-11
2025-06-11 14:47:09,686 - INFO - ReportsController - reports_controller:73 - Found 2 owners requiring a statement.
2025-06-11 14:47:16,389 - INFO - OwnerStatementGenerator - owner_statement_generator:97 - Successfully generated owner statement: C:/Projects/EDMS/Statements\Statement for Smith 2025-06-11.pdf
2025-06-11 14:47:16,392 - INFO - OwnerStatementGenerator - owner_statement_generator:97 - Successfully generated owner statement: C:/Projects/EDMS/Statements\Statement for Davis 2025-06-11.pdf
2025-06-11 14:48:59,217 - INFO - ReportsTab - reports_tab:306 - Generating owner statement for owner_id: 2
2025-06-11 14:48:59,221 - INFO - OwnerStatementGenerator - owner_statement_generator:97 - Successfully generated owner statement: C:\Projects\EDMS\invoices\Statement for Davis 2025-06-11.pdf
2025-06-11 14:48:59,222 - ERROR - ReportsTab - reports_tab:349 - Failed to instantiate or run PDF generator: 'ReportsController' object has no attribute 'company_profile'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 341, in _generate_single_statement
    self._dispatch_email(report_data["owner"], file_path)
  File "C:\Projects\EDMS\views\horse\tabs\reports_tab.py", line 370, in _dispatch_email
    if self.reports_controller.company_profile
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ReportsController' object has no attribute 'company_profile'
2025-06-11 16:58:22,127 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 16:58:22,127 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 16:58:22,127 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 16:58:22,127 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 16:58:22,128 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 16:58:22,128 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 16:58:22,135 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 16:58:22,135 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 16:58:22,138 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 16:58:22,138 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 16:58:22,139 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 16:58:22,323 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 16:58:22,325 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 16:58:22,325 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 16:58:22,325 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 16:58:22,326 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 16:58:22,326 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 16:58:22,330 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 16:58:22,353 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 16:58:33,337 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 16:58:33,337 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 16:58:33,337 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 16:58:33,337 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 16:58:33,338 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 16:58:33,338 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 16:58:33,346 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 16:58:33,346 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 16:58:33,349 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 16:58:33,349 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 16:58:33,349 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 16:58:33,530 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 16:58:33,532 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 16:58:33,532 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 16:58:33,533 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 16:58:33,533 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 16:58:33,533 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 16:58:33,538 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 16:58:33,561 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 16:58:42,264 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 16:58:57,512 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 16:58:57,675 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 16:58:57,676 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 16:58:57,676 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 16:58:57,688 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 16:58:57,688 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 16:58:57,689 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 16:58:57,689 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 16:58:57,689 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 16:58:57,690 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 16:58:57,695 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 16:58:57,854 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 16:58:57,857 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 16:58:57,858 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 16:58:57,863 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 16:58:57,869 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 16:58:57,869 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 16:58:57,876 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 16:58:57,885 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 16:58:57,915 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 16:58:57,916 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 16:58:57,916 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 16:58:57,916 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 16:58:57,916 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 16:58:57,917 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 16:58:57,917 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 16:58:58,003 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 16:58:58,003 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 16:58:58,004 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 16:58:58,004 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 16:58:58,047 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 16:58:58,048 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 16:58:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 16:58:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 16:58:58,057 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 16:58:58,076 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 16:58:58,076 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 16:58:58,083 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 16:58:58,097 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 16:58:58,098 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 16:58:58,103 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 16:58:58,110 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 16:58:58,116 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 16:58:58,116 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 16:58:58,116 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 16:59:15,233 - INFO - ReportsTab - reports_tab:306 - Generating owner statement for owner_id: 2
2025-06-11 16:59:27,968 - INFO - OwnerStatementGenerator - owner_statement_generator:102 - Successfully generated owner statement: C:/Projects/EDMS/Statements/Statement for Davis 2025-06-11.pdf
2025-06-11 17:20:39,720 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-11 17:20:39,720 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-11 17:20:39,721 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: ADMIN
2025-06-11 17:20:39,722 - INFO - UserManagementScreen - base_view:63 - BaseView __init__ for UserManagementScreen started.
2025-06-11 17:20:39,722 - INFO - UserManagementScreen - base_view:67 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-11 17:20:39,722 - INFO - UserManagementScreen - base_view:72 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-11 17:20:39,723 - INFO - UserManagementScreen - user_management_screen:180 - Setting up UserManagementScreen UI...
2025-06-11 17:20:39,771 - INFO - UserManagementScreen - user_management_screen:571 - Loading users data for tab...
2025-06-11 17:20:39,774 - INFO - UserManagementScreen - user_management_screen:607 - Loaded 2 users.
2025-06-11 17:20:39,774 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen UI setup complete.
2025-06-11 17:20:39,904 - INFO - UserManagementScreen - base_view:170 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-11 17:20:39,905 - INFO - UserManagementScreen - base_view:103 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-11 17:20:39,906 - INFO - UserManagementScreen - base_view:182 - Status update: Ready
2025-06-11 17:20:39,906 - INFO - UserManagementScreen - base_view:108 - BaseView __init__ for UserManagementScreen finished.
2025-06-11 17:20:39,906 - INFO - UserManagementScreen - user_management_screen:177 - UserManagementScreen __init__ completed.
2025-06-11 17:20:39,922 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-11 17:20:42,974 - INFO - UserManagementScreen - user_management_screen:464 - Tab changed to index: 5, new tab title:  Manage Master Owners
2025-06-11 17:20:42,974 - INFO - UserManagementScreen - user_management_screen:1651 - Loading owners data for tab...
2025-06-11 17:20:42,985 - INFO - OwnerController - owner_controller:68 - Retrieved 2 master owners (status_filter=active).
2025-06-11 17:20:42,985 - INFO - UserManagementScreen - user_management_screen:1697 - Loaded 2 owners.
2025-06-11 17:20:53,082 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:407 - Loaded 60 states into combobox.
2025-06-11 17:20:53,083 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:422 - Loaded 7 billing terms.
2025-06-11 17:52:00,327 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-11 17:52:01,195 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 17:52:01,196 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 17:52:01,197 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 17:52:01,197 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 17:52:01,210 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 17:52:01,224 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 17:52:01,226 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 17:53:33,313 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 17:53:33,314 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 17:53:33,314 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 17:53:33,314 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 17:53:33,314 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 17:53:33,314 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 17:53:33,321 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 17:53:33,321 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 17:53:33,325 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 17:53:33,326 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 17:53:33,326 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 17:53:33,505 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 17:53:33,508 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 17:53:33,508 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 17:53:33,509 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 17:53:33,509 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 17:53:33,509 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 17:53:33,514 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 17:53:33,535 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 17:53:35,870 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 17:53:46,350 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 17:53:46,512 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 17:53:46,512 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 17:53:46,513 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 17:53:46,529 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 17:53:46,529 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 17:53:46,530 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 17:53:46,530 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 17:53:46,530 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 17:53:46,531 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 17:53:46,535 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 17:53:46,696 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 17:53:46,699 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 17:53:46,700 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 17:53:46,704 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 17:53:46,710 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 17:53:46,711 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 17:53:46,717 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 17:53:46,726 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 17:53:46,757 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 17:53:46,757 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 17:53:46,758 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 17:53:46,758 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 17:53:46,758 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 17:53:46,758 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 17:53:46,759 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 17:53:46,844 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 17:53:46,845 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 17:53:46,845 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 17:53:46,845 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 17:53:46,896 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 17:53:46,896 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 17:53:46,897 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 17:53:46,897 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 17:53:46,908 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 17:53:46,927 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 17:53:46,927 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 17:53:46,935 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 17:53:46,949 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 17:53:46,950 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 17:53:46,956 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 17:53:46,962 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 17:53:46,968 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 17:53:46,968 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 17:53:46,968 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 17:53:59,243 - INFO - ReportsTab - reports_tab:306 - Generating owner statement for owner_id: 2
2025-06-11 17:54:09,762 - INFO - OwnerStatementGenerator - owner_statement_generator:103 - Successfully generated owner statement: C:/Projects/EDMS/Statements/Statement for Davis 2025-06-11.pdf
2025-06-11 18:00:57,284 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 18:00:57,285 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 18:00:57,285 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 18:00:57,285 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 18:00:57,285 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 18:00:57,285 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 18:00:57,293 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 18:00:57,293 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 18:00:57,297 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 18:00:57,297 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 18:00:57,298 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 18:00:57,482 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 18:00:57,484 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 18:00:57,484 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 18:00:57,485 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 18:00:57,485 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 18:00:57,485 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 18:00:57,490 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 18:00:57,510 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 18:01:03,089 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 18:01:13,042 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 18:01:13,203 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 18:01:13,203 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 18:01:13,204 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 18:01:13,212 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 18:01:13,213 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 18:01:13,213 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 18:01:13,214 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 18:01:13,214 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 18:01:13,215 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 18:01:13,221 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 18:01:13,376 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 18:01:13,378 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 18:01:13,380 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 18:01:13,384 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 18:01:13,389 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 18:01:13,389 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 18:01:13,396 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 18:01:13,404 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 18:01:13,436 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 18:01:13,436 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 18:01:13,436 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 18:01:13,437 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 18:01:13,437 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 18:01:13,437 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 18:01:13,437 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 18:01:13,524 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 18:01:13,525 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 18:01:13,525 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 18:01:13,526 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 18:01:13,568 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 18:01:13,569 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 18:01:13,569 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 18:01:13,569 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 18:01:13,581 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 18:01:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 18:01:13,603 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 18:01:13,610 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 18:01:13,624 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 18:01:13,625 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 18:01:13,630 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 18:01:13,636 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 18:01:13,643 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 18:01:13,643 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 18:01:13,643 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 18:01:24,202 - INFO - ReportsTab - reports_tab:306 - Generating owner statement for owner_id: 2
2025-06-11 18:01:44,080 - INFO - OwnerStatementGenerator - owner_statement_generator:113 - Successfully generated owner statement: C:/Projects/EDMS/Statements/Statement for Davis 2025-06-11.pdf
2025-06-11 18:17:27,147 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 18:17:27,147 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 18:17:27,148 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 18:17:27,148 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 18:17:27,148 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 18:17:27,148 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 18:17:27,155 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 18:17:27,155 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 18:17:27,158 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 18:17:27,159 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 18:17:27,159 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 18:17:27,340 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 18:17:27,342 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 18:17:27,342 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 18:17:27,343 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 18:17:27,343 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 18:17:27,343 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 18:17:27,348 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 18:17:27,370 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 18:17:34,095 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 18:17:43,584 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 18:17:43,746 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 18:17:43,746 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 18:17:43,747 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 18:17:43,754 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 18:17:43,754 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 18:17:43,755 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 18:17:43,755 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 18:17:43,755 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 18:17:43,756 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 18:17:43,761 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 18:17:43,917 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 18:17:43,919 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 18:17:43,921 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 18:17:43,925 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 18:17:43,930 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 18:17:43,931 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 18:17:43,938 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 18:17:43,946 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 18:17:43,977 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 18:17:43,977 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 18:17:43,977 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 18:17:43,978 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 18:17:43,978 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 18:17:43,978 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 18:17:43,978 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 18:17:44,069 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 18:17:44,070 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 18:17:44,070 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 18:17:44,070 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 18:17:44,120 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 18:17:44,121 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 18:17:44,121 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 18:17:44,121 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 18:17:44,129 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 18:17:44,150 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 18:17:44,150 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 18:17:44,159 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 18:17:44,173 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 18:17:44,173 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 18:17:44,179 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 18:17:44,184 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 18:17:44,191 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 18:17:44,191 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 18:17:44,191 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 18:17:57,446 - INFO - ReportsTab - reports_tab:306 - Generating owner statement for owner_id: 2
2025-06-11 18:18:00,440 - INFO - OwnerStatementGenerator - owner_statement_generator:122 - Successfully generated owner statement: C:/Projects/EDMS/Statement for Davis 2025-06-11.pdf
2025-06-11 18:32:43,278 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 18:32:43,278 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 18:32:43,278 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 18:32:43,278 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 18:32:43,279 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 18:32:43,279 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 18:32:43,293 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 18:32:43,294 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 18:32:43,297 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 18:32:43,297 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 18:32:43,298 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 18:32:43,486 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 18:32:43,487 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 18:32:43,488 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 18:32:43,488 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 18:32:43,488 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 18:32:43,488 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 18:32:43,499 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 18:32:43,529 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 18:32:46,050 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 18:32:56,292 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 18:32:56,455 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 18:32:56,456 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 18:32:56,457 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 18:32:56,464 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 18:32:56,465 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 18:32:56,465 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 18:32:56,465 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 18:32:56,466 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 18:32:56,467 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 18:32:56,473 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 18:32:57,736 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 18:32:57,739 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 18:32:57,741 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 18:32:57,745 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 18:32:57,751 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 18:32:57,751 - INFO - ReportsController - reports_controller:36 - ReportsController initialized.
2025-06-11 18:32:57,758 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 18:32:57,767 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 18:32:57,799 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 18:32:57,800 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 18:32:57,800 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 18:32:57,800 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 18:32:57,800 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 18:32:57,801 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 18:32:57,801 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 18:32:57,888 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 18:32:57,889 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 18:32:57,889 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 18:32:57,890 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 18:32:57,940 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 18:32:57,942 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 18:32:57,942 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 18:32:57,942 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 18:32:57,950 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 18:32:57,971 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 18:32:57,971 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 18:32:57,978 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 18:32:57,992 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 18:32:57,993 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 18:32:57,998 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 18:32:58,003 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 18:32:58,010 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 18:32:58,010 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 18:32:58,010 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 18:54:29,495 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 18:54:29,495 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 18:54:29,495 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 18:54:29,495 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 18:54:29,496 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 18:54:29,496 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 18:54:29,503 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 18:54:29,503 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 18:54:29,506 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 18:54:29,507 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 18:54:29,507 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 18:54:29,686 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 18:54:29,688 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 18:54:29,688 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 18:54:29,688 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 18:54:29,689 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 18:54:29,689 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 18:54:29,693 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 18:54:29,714 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 18:54:31,494 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 18:54:51,234 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 18:54:51,395 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 18:54:51,395 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 18:54:51,396 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 18:54:51,405 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 18:54:51,405 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 18:54:51,405 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 18:54:51,406 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 18:54:51,409 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 18:54:51,409 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 18:54:51,415 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 18:54:51,557 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 18:54:51,560 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 18:54:51,561 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 18:54:51,565 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 18:54:51,571 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 18:54:51,571 - INFO - ReportsController - reports_controller:38 - ReportsController initialized.
2025-06-11 18:54:51,578 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 18:54:51,586 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 18:54:51,618 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 18:54:51,619 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 18:54:51,619 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 18:54:51,619 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 18:54:51,620 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 18:54:51,620 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 18:54:51,620 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 18:54:51,707 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 18:54:51,708 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 18:54:51,708 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 18:54:51,708 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 18:54:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 18:54:51,755 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 18:54:51,755 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 18:54:51,755 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 18:54:51,763 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 18:54:51,785 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 18:54:51,785 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 18:54:51,793 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 18:54:51,807 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 18:54:51,808 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 18:54:51,813 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 18:54:51,819 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 18:54:51,825 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 18:54:51,826 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 18:54:51,826 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 18:54:58,864 - INFO - ReportsTab - reports_tab:240 - Generating A/R Aging report for date: 2025-06-11
2025-06-11 18:55:20,078 - INFO - ARAgingGenerator - ar_aging_generator:139 - Successfully generated A/R Aging report: C:/Projects/EDMS/Statements/AR_Aging_Report_2025-06-11.pdf
2025-06-11 19:01:46,645 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:01:46,645 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:01:46,646 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:01:46,646 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:01:46,646 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:01:46,646 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:01:46,654 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:01:46,654 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:01:46,657 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:01:46,658 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:01:46,658 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:01:46,840 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:01:46,842 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:01:46,842 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:01:46,842 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:01:46,843 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:01:46,843 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:01:46,847 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:01:46,869 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:01:48,519 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:01:57,436 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:01:57,600 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:01:57,600 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:01:57,601 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:01:57,608 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:01:57,610 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:01:57,612 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:01:57,614 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:01:57,615 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:01:57,615 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:01:57,621 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:01:57,786 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:01:57,789 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:01:57,790 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:01:57,794 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:01:57,800 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:01:57,801 - INFO - ReportsController - reports_controller:38 - ReportsController initialized.
2025-06-11 19:01:57,808 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:01:57,815 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:01:57,848 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:01:57,848 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:01:57,849 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:01:57,849 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:01:57,849 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:01:57,849 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:01:57,849 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:01:57,937 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:01:57,938 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:01:57,938 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:01:57,938 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:01:57,981 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:01:57,982 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:01:57,982 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:01:57,982 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:01:57,993 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:01:58,011 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:01:58,012 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:01:58,019 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:01:58,033 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:01:58,034 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:01:58,038 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:01:58,044 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:01:58,051 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:01:58,051 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:01:58,051 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:02:03,723 - INFO - ReportsTab - reports_tab:240 - Generating A/R Aging report for date: 2025-06-11
2025-06-11 19:02:06,416 - INFO - ARAgingGenerator - ar_aging_generator:139 - Successfully generated A/R Aging report: C:/Projects/EDMS/AR_Aging_Report_2025-06-11.pdf
2025-06-11 19:11:03,662 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:11:03,662 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:11:03,662 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:11:03,662 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:11:03,662 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:11:03,662 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:11:03,670 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:11:03,670 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:11:03,673 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:11:03,674 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:11:03,674 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:11:03,857 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:11:03,859 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:11:03,859 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:11:03,859 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:11:03,860 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:11:03,860 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:11:03,865 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:11:03,887 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:11:06,161 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:12:02,535 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:12:02,696 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:12:02,697 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:12:02,697 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:12:02,706 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:12:02,706 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:12:02,706 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:12:02,707 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:12:02,707 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:12:02,707 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:12:02,712 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:12:02,870 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:12:02,873 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:12:02,874 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:12:02,878 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:12:02,883 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:12:02,884 - INFO - ReportsController - reports_controller:38 - ReportsController initialized.
2025-06-11 19:12:02,892 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:12:02,900 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:12:02,932 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:12:02,933 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:12:02,933 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:12:02,934 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:12:02,934 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:12:02,934 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:12:02,934 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:12:03,027 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:12:03,028 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:12:03,028 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:12:03,028 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:12:03,071 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:12:03,072 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:12:03,072 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:12:03,072 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:12:03,081 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:12:03,105 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:12:03,105 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:12:03,112 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:12:03,126 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:12:03,127 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:12:03,133 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:12:03,139 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:12:03,146 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:12:03,146 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:12:03,146 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:21:00,470 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:21:00,471 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:21:00,471 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:21:00,471 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:21:00,471 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:21:00,471 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:21:00,478 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:21:00,479 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:21:00,482 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:21:00,483 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:21:00,483 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:21:00,667 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:21:00,669 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:21:00,669 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:21:00,669 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:21:00,669 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:21:00,670 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:21:00,674 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:21:00,700 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:21:02,094 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:21:13,317 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:21:13,478 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:21:13,479 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:21:13,479 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:21:13,488 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:21:13,489 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:21:13,490 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:21:13,491 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:21:13,491 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:21:13,491 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:21:13,497 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:21:13,655 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:21:13,658 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:21:13,660 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:21:13,664 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:21:13,669 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:21:13,669 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:21:13,679 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:21:13,687 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:21:13,719 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:21:13,719 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:21:13,720 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:21:13,720 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:21:13,720 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:21:13,720 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:21:13,721 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:21:13,812 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:21:13,813 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:21:13,813 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:21:13,813 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:21:13,857 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:21:13,858 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:21:13,858 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:21:13,858 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:21:13,867 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:21:13,889 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:21:13,889 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:21:13,896 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:21:13,911 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:21:13,911 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:21:13,917 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:21:13,923 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:21:13,929 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:21:13,930 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:21:13,930 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:21:39,978 - INFO - ReportsTab - reports_tab:250 - Generating Invoice Register from 2025-05-12 to 2025-06-11
2025-06-11 19:21:39,980 - INFO - ReportsController - reports_controller:55 - Found 1 invoices for register report.
2025-06-11 19:21:45,059 - INFO - InvoiceRegisterGenerator - invoice_register_generator:149 - Successfully generated Invoice Register report: C:/Projects/EDMS/Invoice_Register_2025-06-11.pdf
2025-06-11 19:22:05,191 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 19:22:05,192 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 19:22:05,193 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 19:22:05,193 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 19:22:05,203 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 19:22:05,207 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 19:22:05,209 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 19:26:43,542 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:26:43,542 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:26:43,542 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:26:43,542 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:26:43,542 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:26:43,543 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:26:43,550 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:26:43,550 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:26:43,553 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:26:43,554 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:26:43,554 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:26:43,736 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:26:43,737 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:26:43,738 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:26:43,738 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:26:43,738 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:26:43,738 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:26:43,743 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:26:43,767 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:26:45,793 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:26:56,577 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:26:56,737 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:26:56,737 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:26:56,738 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:26:56,746 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:26:56,746 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:26:56,746 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:26:56,747 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:26:56,747 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:26:56,747 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:26:56,754 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:26:56,916 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:26:56,919 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:26:56,920 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:26:56,925 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:26:56,930 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:26:56,931 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:26:56,941 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:26:56,949 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:26:56,981 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:26:56,981 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:26:56,982 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:26:56,982 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:26:56,982 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:26:56,983 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:26:56,983 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:26:57,079 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:26:57,080 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:26:57,080 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:26:57,080 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:26:57,125 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:26:57,126 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:26:57,126 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:26:57,126 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:26:57,136 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:26:57,157 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:26:57,157 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:26:57,164 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:26:57,180 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:26:57,181 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:26:57,186 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:26:57,192 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:26:57,199 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:26:57,199 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:26:57,199 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:32:45,751 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:32:45,751 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:32:45,752 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:32:45,752 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:32:45,752 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:32:45,752 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:32:45,760 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:32:45,760 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:32:45,763 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:32:45,763 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:32:45,764 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:32:45,947 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:32:45,949 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:32:45,949 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:32:45,950 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:32:45,950 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:32:45,951 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:32:45,955 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:32:45,980 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:32:47,700 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:32:57,658 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:32:57,819 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:32:57,819 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:32:57,820 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:32:57,829 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:32:57,829 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:32:57,830 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:32:57,830 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:32:57,830 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:32:57,830 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:32:57,836 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:32:57,999 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:32:58,002 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:32:58,003 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:32:58,008 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:32:58,013 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:32:58,013 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:32:58,024 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:32:58,032 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:32:58,065 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:32:58,066 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:32:58,066 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:32:58,066 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:32:58,067 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:32:58,067 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:32:58,067 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:32:58,164 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:32:58,165 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:32:58,165 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:32:58,165 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:32:58,210 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:32:58,210 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:32:58,211 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:32:58,211 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:32:58,221 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:32:58,242 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:32:58,242 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:32:58,250 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:32:58,263 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:32:58,264 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:32:58,269 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:32:58,275 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:32:58,282 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:32:58,283 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:32:58,283 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:33:18,576 - INFO - ReportsTab - reports_tab:250 - Generating Invoice Register from 2025-05-12 to 2025-06-11
2025-06-11 19:33:18,578 - INFO - ReportsController - reports_controller:55 - Found 1 invoices for register report.
2025-06-11 19:36:01,808 - INFO - HorseUnifiedManagement - horse_unified_management:1629 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-11 19:36:01,809 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-11 19:36:01,810 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-11 19:36:01,810 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 19:36:01,811 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 19:36:01,811 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 19:36:01,822 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 19:36:01,824 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 19:39:22,888 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:39:22,889 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:39:22,889 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:39:22,889 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:39:22,889 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:39:22,889 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:39:22,896 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:39:22,896 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:39:22,900 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:39:22,901 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:39:22,901 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:39:23,084 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:39:23,086 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:39:23,087 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:39:23,087 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:39:23,087 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:39:23,087 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:39:23,091 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:39:23,117 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:39:24,847 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:39:34,113 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:39:34,274 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:39:34,274 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:39:34,275 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:39:34,282 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:39:34,283 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:39:34,284 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:39:34,284 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:39:34,284 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:39:34,284 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:39:34,292 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:39:34,451 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:39:34,454 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:39:34,456 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:39:34,459 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:39:34,465 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:39:34,465 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:39:34,477 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:39:34,486 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:39:34,525 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:39:34,526 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:39:34,526 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:39:34,526 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:39:34,526 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:39:34,526 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:39:34,527 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:39:34,628 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:39:34,629 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:39:34,629 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:39:34,629 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:39:34,673 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:39:34,674 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:39:34,674 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:39:34,674 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:39:34,683 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:39:34,702 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:39:34,703 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:39:34,710 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:39:34,724 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:39:34,724 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:39:34,730 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:39:34,736 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:39:34,743 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:39:34,744 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:39:34,744 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:44:36,550 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 19:44:36,550 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 19:44:36,552 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 19:44:36,552 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 19:44:36,574 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 19:44:36,584 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 19:44:36,584 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 19:47:36,512 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:47:36,513 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:47:36,513 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:47:36,513 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:47:36,513 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:47:36,513 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:47:36,520 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:47:36,520 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:47:36,523 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:47:36,524 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:47:36,524 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:47:36,705 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:47:36,706 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:47:36,707 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:47:36,707 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:47:36,707 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:47:36,708 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:47:36,712 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:47:36,739 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:47:39,370 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:47:47,842 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:47:48,004 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:47:48,005 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:47:48,005 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:47:48,012 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:47:48,013 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:47:48,013 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:47:48,014 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:47:48,014 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:47:48,015 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:47:48,021 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:47:48,173 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:47:48,176 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:47:48,177 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:47:48,181 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:47:48,187 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:47:48,188 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:47:48,201 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:47:48,210 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:47:48,245 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:47:48,246 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:47:48,246 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:47:48,246 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:47:48,247 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:47:48,247 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:47:48,247 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:47:48,351 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:47:48,352 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:47:48,352 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:47:48,352 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:47:48,403 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:47:48,404 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:47:48,404 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:47:48,405 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:47:48,413 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:47:48,435 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:47:48,436 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:47:48,443 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:47:48,457 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:47:48,458 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:47:48,463 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:47:48,469 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:47:48,476 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:47:48,476 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:47:48,477 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:56:54,471 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 19:56:54,471 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 19:56:54,471 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 19:56:54,471 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 19:56:54,471 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 19:56:54,471 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 19:56:54,484 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 19:56:54,484 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 19:56:54,490 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 19:56:54,491 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 19:56:54,491 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 19:56:54,671 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 19:56:54,673 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 19:56:54,673 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 19:56:54,674 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 19:56:54,674 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 19:56:54,674 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 19:56:54,680 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 19:56:54,704 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 19:56:56,421 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 19:57:05,716 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 19:57:05,878 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 19:57:05,879 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 19:57:05,879 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 19:57:05,887 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 19:57:05,887 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 19:57:05,887 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 19:57:05,887 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 19:57:05,888 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 19:57:05,888 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 19:57:05,894 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 19:57:06,045 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 19:57:06,048 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 19:57:06,050 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 19:57:06,054 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 19:57:06,060 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 19:57:06,061 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 19:57:06,075 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 19:57:06,084 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 19:57:06,120 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 19:57:06,121 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 19:57:06,121 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 19:57:06,121 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 19:57:06,122 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 19:57:06,122 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 19:57:06,122 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 19:57:06,227 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 19:57:06,227 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 19:57:06,228 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 19:57:06,228 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 19:57:06,273 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 19:57:06,274 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 19:57:06,274 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 19:57:06,274 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 19:57:06,283 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 19:57:06,305 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 19:57:06,305 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 19:57:06,313 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 19:57:06,327 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 19:57:06,327 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 19:57:06,333 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 19:57:06,339 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 19:57:06,346 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 19:57:06,346 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 19:57:06,346 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 19:57:13,400 - INFO - ReportsTab - reports_tab:224 - Generating Payment History from 2025-05-12 to 2025-06-11
2025-06-11 19:57:13,402 - INFO - ReportsController - reports_controller:59 - Found 1 payments for history report.
2025-06-11 19:57:17,148 - INFO - PaymentHistoryGenerator - payment_history_generator:140 - Successfully generated Payment History report: C:/Projects/EDMS/Payment_History_2025-06-11.pdf
2025-06-11 19:57:23,649 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 19:57:23,650 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 19:57:23,650 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 19:57:23,651 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 19:57:23,662 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 19:57:23,666 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 19:57:23,666 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 21:30:19,814 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 21:30:19,814 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 21:30:19,814 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 21:30:19,814 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 21:30:19,814 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 21:30:19,814 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 21:30:19,823 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 21:30:19,823 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 21:30:19,826 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 21:30:19,827 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 21:30:19,827 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 21:30:20,008 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 21:30:20,011 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 21:30:20,011 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 21:30:20,011 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 21:30:20,011 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 21:30:20,011 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 21:30:20,015 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 21:30:20,043 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 21:30:22,102 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 21:30:30,034 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-11 21:30:30,198 - INFO - UserController - user_controller:82 - User 'tm' authenticated successfully.
2025-06-11 21:30:30,198 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-11 21:30:30,200 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-11 21:30:30,211 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-11 21:30:30,211 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: tm
2025-06-11 21:30:30,212 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 21:30:30,212 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 21:30:30,214 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 21:30:30,215 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 21:30:30,221 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 21:30:30,368 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 21:30:30,371 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 21:30:30,374 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 21:30:30,377 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 21:30:30,383 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 21:30:30,383 - INFO - ReportsController - reports_controller:39 - ReportsController initialized.
2025-06-11 21:30:30,398 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 21:30:30,407 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 21:30:30,442 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 21:30:30,443 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 21:30:30,443 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 21:30:30,443 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 21:30:30,445 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 21:30:30,445 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 21:30:30,445 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 21:30:30,547 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 21:30:30,549 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 21:30:30,550 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 21:30:30,550 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 21:30:30,595 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 21:30:30,596 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 21:30:30,596 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 21:30:30,596 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 21:30:30,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 21:30:30,632 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 21:30:30,632 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 21:30:30,640 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 21:30:30,655 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 21:30:30,655 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 21:30:30,661 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 21:30:30,667 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 21:30:30,674 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 21:30:30,675 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 21:30:30,675 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-11 21:30:53,594 - INFO - ReportsTab - reports_tab:224 - Generating Payment History from 2025-05-12 to 2025-06-11
2025-06-11 21:30:53,597 - INFO - ReportsController - reports_controller:59 - Found 1 payments for history report.
2025-06-11 21:31:03,219 - INFO - PaymentHistoryGenerator - payment_history_generator:140 - Successfully generated Payment History report: C:/Projects/EDMS/Payment_History_2025-06-11.pdf
2025-06-11 21:40:16,176 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-11 21:40:16,176 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-11 21:40:16,178 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-11 21:40:16,178 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-11 21:40:16,201 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-11 21:40:16,210 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-11 21:40:16,211 - INFO - root - main:372 - Application exiting with code 0
2025-06-11 21:40:20,204 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-11 21:40:20,204 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-11 21:40:20,205 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-11 21:40:20,205 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-11 21:40:20,205 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-11 21:40:20,205 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-11 21:40:20,213 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-11 21:40:20,213 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-11 21:40:20,216 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices', 'company_profile']
2025-06-11 21:40:20,218 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-11 21:40:20,218 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-11 21:40:20,400 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-11 21:40:20,402 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-11 21:40:20,402 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-11 21:40:20,403 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-11 21:40:20,403 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-11 21:40:20,403 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-11 21:40:20,408 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-11 21:40:20,440 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-11 21:40:21,967 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-11 21:40:31,735 - INFO - UserController - user_controller:45 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-11 21:40:31,900 - INFO - UserController - user_controller:82 - User 'ADMIN' authenticated successfully.
2025-06-11 21:40:31,900 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-11 21:40:31,902 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-11 21:40:31,909 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-11 21:40:31,910 - INFO - HorseUnifiedManagement - horse_unified_management:107 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-11 21:40:31,911 - INFO - HorseUnifiedManagement - base_view:63 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-11 21:40:31,911 - INFO - HorseUnifiedManagement - base_view:67 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-11 21:40:31,912 - INFO - HorseUnifiedManagement - base_view:72 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-11 21:40:31,912 - INFO - HorseUnifiedManagement - horse_unified_management:169 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-11 21:40:31,920 - INFO - HorseUnifiedManagement - horse_unified_management:846 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-11 21:40:32,072 - INFO - HorseUnifiedManagement - horse_unified_management:858 - BasicInfoTab created.
2025-06-11 21:40:32,077 - INFO - HorseUnifiedManagement - horse_unified_management:866 - OwnersTab created.
2025-06-11 21:40:32,078 - INFO - HorseUnifiedManagement - horse_unified_management:874 - LocationTab created.
2025-06-11 21:40:32,082 - INFO - HorseUnifiedManagement - horse_unified_management:880 - BillingTab created.
2025-06-11 21:40:32,088 - INFO - HorseUnifiedManagement - horse_unified_management:886 - InvoiceHistoryTab created.
2025-06-11 21:40:32,088 - INFO - ReportsController - reports_controller:44 - ReportsController initialized.
2025-06-11 21:40:32,103 - INFO - HorseUnifiedManagement - horse_unified_management:891 - ReportsTab created.
2025-06-11 21:40:32,112 - INFO - HorseUnifiedManagement - horse_unified_management:894 - Tabs added.
2025-06-11 21:40:32,147 - INFO - HorseUnifiedManagement - horse_unified_management:1656 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-11 21:40:32,149 - INFO - HorseUnifiedManagement - horse_unified_management:1680 - Connecting BasicInfoTab signals.
2025-06-11 21:40:32,149 - INFO - HorseUnifiedManagement - horse_unified_management:1696 - Connecting OwnersTab signals.
2025-06-11 21:40:32,149 - INFO - HorseUnifiedManagement - horse_unified_management:1704 - Connecting LocationTab signals.
2025-06-11 21:40:32,150 - INFO - HorseUnifiedManagement - horse_unified_management:1717 - Connecting InvoiceHistoryTab signals.
2025-06-11 21:40:32,150 - INFO - HorseUnifiedManagement - horse_unified_management:1731 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-11 21:40:32,150 - INFO - HorseUnifiedManagement - horse_unified_management:184 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-11 21:40:32,251 - INFO - HorseUnifiedManagement - base_view:170 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-11 21:40:32,254 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Ready
2025-06-11 21:40:32,254 - INFO - HorseUnifiedManagement - base_view:108 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-11 21:40:32,254 - INFO - HorseUnifiedManagement - horse_unified_management:164 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-11 21:40:32,301 - INFO - HorseUnifiedManagement - horse_unified_management:187 - HorseUnifiedManagement showEvent: START
2025-06-11 21:40:32,302 - INFO - HorseUnifiedManagement - base_view:182 - Status update: No horse selected. Add a new horse or select from list.
2025-06-11 21:40:32,302 - INFO - HorseUnifiedManagement - horse_unified_management:406 - display_empty_state: FINISHED
2025-06-11 21:40:32,302 - INFO - HorseUnifiedManagement - horse_unified_management:232 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-11 21:40:32,312 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-11 21:40:32,337 - INFO - HorseUnifiedManagement - horse_unified_management:558 - load_initial_data: START - Attempting to load horses.
2025-06-11 21:40:32,337 - INFO - HorseUnifiedManagement - horse_unified_management:1336 - load_horses: Filter status: 'active', Search: ''
2025-06-11 21:40:32,345 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: active) found 12 results.
2025-06-11 21:40:32,361 - INFO - HorseController - horse_controller:301 - Search for horses (term: '', owner: 'None', status: all) found 12 results.
2025-06-11 21:40:32,362 - INFO - HorseUnifiedManagement - horse_unified_management:1021 - load_horse_details: START for horse ID: 4
2025-06-11 21:40:32,366 - INFO - HorseController - horse_controller:247 - Retrieved horse ID 4: Annabelle
2025-06-11 21:40:32,372 - INFO - FinancialController - financial_controller:350 - Retrieved 0 ACTIVE transactions for horse ID 4.
2025-06-11 21:40:32,382 - INFO - HorseUnifiedManagement - base_view:182 - Status update: Viewing: Annabelle
2025-06-11 21:40:32,382 - INFO - HorseUnifiedManagement - horse_unified_management:1048 - load_horse_details: FINISHED for horse ID: 4
2025-06-11 21:40:32,382 - INFO - HorseUnifiedManagement - horse_unified_management:561 - load_initial_data: FINISHED - load_horses call completed.
2025-06-12 09:24:43,475 - WARNING - HorseUnifiedManagement - horse_unified_management:574 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-12 09:24:43,475 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-12 09:24:43,475 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-12 09:24:43,476 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-12 09:24:43,485 - WARNING - HorseUnifiedManagement - horse_unified_management:577 - HorseUnifiedManagement finished processing closeEvent.
2025-06-12 09:24:43,490 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-12 09:24:43,490 - INFO - root - main:372 - Application exiting with code 0
