2025-05-29 19:30:21,300 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:30:21,301 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:30:21,302 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:30:21,304 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:30:21,304 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:30:21,311 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:30:21,314 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:30:21,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:30:21,333 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:30:21,335 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:30:21,337 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:30:21,337 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:30:21,338 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:30:21,338 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:30:21,343 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:30:21,419 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:31:29,905 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:01,976 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,978 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:32:01,994 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:32:01,995 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:32:01,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:32:01,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:32:02,000 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:32:02,006 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:32:02,140 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:32:02,144 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:32:02,145 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:32:02,150 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:32:02,165 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:32:02,167 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:32:02,168 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:32:02,212 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:32:02,285 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:32:02,288 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:32:02,290 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:32:02,305 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:32:02,333 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:32:02,334 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:32:02,342 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:32:02,352 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:32:02,355 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:32:02,364 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:32:02,365 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:32:09,200 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:32:09,200 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:32:09,201 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:32:09,203 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:32:09,203 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:32:09,215 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:32:09,216 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:32:17,511 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:32:17,512 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:32:17,514 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:32:17,515 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:32:17,521 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:32:17,523 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:32:17,524 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:32:17,526 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:32:17,527 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:32:17,548 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:32:17,550 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:32:17,550 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:32:17,551 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:32:17,552 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:32:17,555 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:32:17,635 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:32:20,986 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:32:35,018 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:32:45,528 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:33:07,878 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:34:26,238 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:34:27,266 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:34:27,285 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:34:27,290 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:14,920 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:14,920 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:14,921 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:14,923 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:14,923 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:14,932 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:14,935 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:14,936 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:14,954 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:14,956 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:14,956 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:14,957 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:14,957 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:14,962 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:15,042 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:18,084 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:35,392 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:39:38,777 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:41,553 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:39:43,228 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:39:44,896 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:39:44,905 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:39:44,905 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:39:49,421 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:39:49,421 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:39:49,423 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:39:49,424 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:39:49,424 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:39:49,432 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:39:49,435 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:39:49,436 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:39:49,455 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:39:49,457 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:39:49,458 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:39:49,458 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:39:49,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:39:49,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:39:49,464 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:39:49,542 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:39:52,791 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:02,794 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:26,168 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:40:27,280 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:40:29,393 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:40:43,453 - INFO - SmallLoginDialog - small_login_dialog:229 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,455 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 19:40:43,471 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:40:43,473 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:40:43,474 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:40:43,479 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:40:43,483 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:40:43,485 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:40:43,615 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:40:43,618 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:40:43,619 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:40:43,624 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:40:43,640 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:40:43,641 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:40:43,642 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:40:43,684 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:40:43,685 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:40:43,764 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:40:43,767 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:40:43,777 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:40:43,800 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:40:43,801 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:40:43,810 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:40:43,819 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:40:43,822 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:40:43,825 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:40:43,834 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:40:43,835 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:40:46,345 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:40:46,348 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:40:46,349 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:40:46,361 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:40:46,420 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:40:46,421 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:40:46,426 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:40:46,428 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 19:40:46,470 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:40:50,800 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:40:56,607 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:40:59,998 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete User 'ted mazz' (ID: tm)?
2025-05-29 19:41:01,872 - INFO - UserController - user_controller:596 - User 'tm' permanently deleted by admin 'ADMIN'.
2025-05-29 19:41:01,872 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' deleted successfully.
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:01,875 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:41:01,876 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:41:01,878 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 1 users into custom list.
2025-05-29 19:41:03,478 - INFO - AddEditUserDialog - add_edit_user_dialog:91 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 19:41:27,175 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-05-29 19:41:27,335 - INFO - UserController - user_controller:343 - User 'tm' created successfully by ADMIN.
2025-05-29 19:41:27,335 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-05-29 19:41:27,343 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:41:27,346 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-05-29 19:41:30,430 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:41:30,442 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:41:32,724 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:41:32,725 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:41:32,727 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:41:32,740 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:41:32,740 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:42:56,062 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:42:56,062 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:42:56,063 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:42:56,063 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:42:56,070 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:42:56,071 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:42:56,072 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:42:56,074 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:42:56,091 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:42:56,093 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:42:56,094 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:42:56,094 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:42:56,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:42:56,182 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:42:59,944 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:43:14,512 - WARNING - SmallLoginDialog - small_login_dialog:253 - Failed login attempt for user: TM
2025-05-29 19:44:00,695 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-05-29 19:44:02,318 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:44:02,325 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:44:02,326 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:53:10,566 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:53:10,567 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:53:10,569 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:53:10,570 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:53:10,570 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:53:10,578 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:53:10,579 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:53:10,582 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:53:10,583 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:53:10,602 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:53:10,604 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:53:10,605 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:53:10,605 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:53:10,611 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:53:10,693 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:53:12,713 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:53:20,943 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:53:21,107 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:53:21,107 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:53:21,110 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:53:21,122 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:53:21,124 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:53:21,125 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:53:21,127 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:53:21,132 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:53:21,135 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:53:21,137 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:53:21,294 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:53:21,298 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:53:21,300 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:53:21,304 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:53:21,318 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:53:21,319 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:53:21,321 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:53:21,364 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:53:21,365 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:53:21,438 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:53:21,442 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:53:21,457 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:53:21,484 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:53:21,485 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:53:21,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:53:21,500 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:53:21,503 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:53:21,507 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:53:21,515 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:53:29,551 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:53:29,552 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:53:29,554 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:53:29,555 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:53:29,568 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:53:29,627 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:53:29,628 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:53:29,630 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:53:29,631 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:53:29,634 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:53:29,636 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:53:29,675 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:53:34,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:53:35,809 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 668, in _edit_selected_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 89, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_user_dialog.py", line 246, in _populate_fields
    self.username_input.setText(self.current_user_object.username)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'username'
2025-05-29 19:56:17,854 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:56:17,892 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:56:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:56:36,812 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:56:36,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:56:36,815 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:56:36,838 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:56:36,843 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 19:56:43,609 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 19:56:43,609 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 19:56:43,611 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 19:56:43,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 19:56:43,612 - INFO - DatabaseManager - database_config:70 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:85 - Database engine and session factory created
2025-05-29 19:56:43,620 - INFO - DatabaseManager - database_config:133 - Creating database tables...
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:144 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 19:56:43,624 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 19:56:43,625 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with correct credentials
2025-05-29 19:56:43,643 - INFO - DatabaseManager - database_config:248 - ADMIN user already has correct credentials
2025-05-29 19:56:43,644 - INFO - DatabaseManager - database_config:283 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 19:56:43,646 - INFO - DatabaseManager - database_config:96 - Database initialization completed successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 19:56:43,646 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 19:56:43,647 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 19:56:43,652 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 19:56:43,733 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 19:56:45,388 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 19:56:54,578 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:56:54,581 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:56:57,525 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:07,485 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 19:57:07,489 - ERROR - UserController - user_controller:119 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 75, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 19:57:09,722 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 19:57:18,198 - INFO - UserController - user_controller:56 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 19:57:18,360 - INFO - UserController - user_controller:99 - User 'tm' authenticated successfully.
2025-05-29 19:57:18,360 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 19:57:18,363 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 19:57:18,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 19:57:18,375 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 19:57:18,376 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 19:57:18,378 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 19:57:18,379 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 19:57:18,385 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 19:57:18,386 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 19:57:18,541 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 19:57:18,545 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 19:57:18,546 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 19:57:18,550 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 19:57:18,565 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 19:57:18,567 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 19:57:18,568 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 19:57:18,610 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 19:57:18,612 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 19:57:18,613 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 19:57:18,686 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 19:57:18,689 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 19:57:18,703 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 19:57:18,733 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 19:57:18,736 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 19:57:18,744 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 19:57:18,753 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 19:57:18,756 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 19:57:18,763 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 19:57:22,337 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 19:57:22,340 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 19:57:22,341 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 19:57:22,342 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 19:57:22,355 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 19:57:22,412 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 19:57:22,414 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 19:57:22,415 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 19:57:22,420 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 19:57:22,461 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 19:57:24,498 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:25,810 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 19:57:42,097 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:42,100 - WARNING - AddEditUserDialog - add_edit_user_dialog:391 - User operation failed: Validation failed: New password must be at least 6 characters long.
2025-05-29 19:57:50,044 - INFO - AddEditUserDialog - add_edit_user_dialog:373 - Attempting to update user ID: tm
2025-05-29 19:57:50,209 - INFO - UserController - user_controller:480 - User 'tm' updated successfully by tm.
2025-05-29 19:57:50,211 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User updated successfully.
2025-05-29 19:57:50,217 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: None
2025-05-29 19:57:50,218 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 19:57:50,221 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 19:57:50,222 - INFO - UserManagementScreen - base_view:322 - Status update: User 'tm' updated.
2025-05-29 19:57:53,452 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 19:57:53,465 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 19:57:57,279 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 19:57:57,279 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 19:57:57,282 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 19:57:57,283 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 19:57:57,297 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 19:57:57,297 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:09:44,305 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:09:44,305 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:09:44,307 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:09:44,307 - INFO - DatabaseManager - database_config:74 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:87 - Database engine and session factory created
2025-05-29 20:09:44,314 - INFO - DatabaseManager - database_config:118 - Creating database tables...
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:122 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:181 - Database connection test successful
2025-05-29 20:09:44,317 - INFO - DatabaseManager - database_config:201 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:09:44,335 - ERROR - DatabaseManager - database_config:289 - Error ensuring default admin user: Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\config\database_config.py", line 235, in _ensure_default_admin_user
    if not admin_user.check_password(default_password):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:44,338 - INFO - DatabaseManager - database_config:91 - Database initialization completed successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:09:44,340 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:09:44,341 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:09:44,346 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:09:44,430 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:09:46,964 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:09:56,730 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:09:56,731 - ERROR - UserController - user_controller:118 - Outer unexpected error during authentication for 'admin': Invalid salt
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 74, in authenticate_user
    if not user.check_password(password_attempt):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\models\user_models.py", line 167, in check_password
    return bcrypt.checkpw(
           ^^^^^^^^^^^^^^^
ValueError: Invalid salt
2025-05-29 20:09:59,619 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An unexpected server error occurred. Please try again.
2025-05-29 20:10:09,733 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:10:09,896 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:10:09,896 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:10:09,898 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:10:09,912 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:10:09,912 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:10:09,914 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:10:09,915 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:10:09,917 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:10:09,924 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:10:10,081 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:10:10,085 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:10:10,087 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:10:10,091 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:10:10,106 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:10:10,107 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:10:10,109 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:10:10,151 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:10:10,153 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:10:10,154 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:10:10,227 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:10:10,231 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:10:10,246 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:10:10,276 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:10:10,277 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:10:10,286 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:10:10,295 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:10:10,296 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:10:10,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:10:10,308 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:10:12,512 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:12,513 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:12,518 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:12,520 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:12,534 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:12,593 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:12,594 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:12,596 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:12,601 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:12,602 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:12,642 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:14,578 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: tm
2025-05-29 20:10:16,276 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:10:24,564 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:24,577 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:10:26,187 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:10:26,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:10:26,192 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:10:26,193 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:10:26,207 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:10:26,263 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:10:26,264 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:10:26,266 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:10:26,269 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:10:26,270 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:10:26,308 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:10:30,152 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:10:30,166 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:10:33,216 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:10:33,216 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:10:33,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:10:33,219 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:10:33,219 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:10:33,232 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:10:33,234 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:17:30,708 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:17:30,709 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:17:30,711 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:17:30,711 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:17:30,717 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:17:30,718 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:17:30,720 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:17:30,721 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:17:30,738 - WARNING - DatabaseManager - database_config:231 - ADMIN password hash not bcrypt/valid (Invalid salt). Resetting password.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:239 - ADMIN user password has been set/reset to a bcrypt hash.
2025-05-29 20:17:30,894 - INFO - DatabaseManager - database_config:272 - ADMIN user record updated/verified.
2025-05-29 20:17:30,900 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:17:30,901 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:17:30,902 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:17:30,903 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:17:30,908 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:17:30,989 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:17:59,672 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:10,303 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:18:10,466 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:18:10,466 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,467 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:18:10,481 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:18:10,482 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:10,484 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:10,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:10,491 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:10,495 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:10,656 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:10,662 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:10,667 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:10,681 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:10,683 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:10,684 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:10,729 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:10,730 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:10,731 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:10,809 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:10,813 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:10,827 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:10,857 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:10,867 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:10,876 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:10,880 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:10,887 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:13,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:13,940 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:13,941 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:13,942 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:13,955 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:14,014 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:14,015 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:14,020 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: ADMIN
2025-05-29 20:18:14,058 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:18:16,477 - INFO - UserManagementScreen - user_management_screen:643 - User selected from list: ADMIN
2025-05-29 20:18:17,784 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: True
2025-05-29 20:18:29,945 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:18:29,956 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:18:31,951 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 20:18:31,952 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:18:31,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:18:31,954 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:18:31,967 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:18:31,967 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:18:39,145 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:18:39,147 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:18:39,148 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:18:39,150 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:18:39,150 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:18:39,157 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:18:39,161 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:18:39,162 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:18:39,163 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:18:39,340 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:18:39,341 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:18:39,343 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:18:39,343 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:18:39,344 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:18:39,349 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:18:39,433 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:18:42,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:18:50,232 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:18:50,395 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:18:50,395 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:18:50,398 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:18:50,411 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:18:50,412 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:18:50,415 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:18:50,418 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:18:50,425 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:18:50,583 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:18:50,587 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:18:50,589 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:18:50,593 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:18:50,608 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:18:50,610 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:18:50,612 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:18:50,614 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:18:50,654 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:18:50,656 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:18:50,657 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:18:50,732 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:18:50,735 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:18:50,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:18:50,782 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:18:50,791 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:18:50,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:18:50,802 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:18:50,807 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:18:50,814 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:18:52,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:18:52,642 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:18:52,644 - INFO - UserManagementScreen - user_management_screen:253 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:18:52,657 - INFO - UserManagementScreen - user_management_screen:302 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:18:52,714 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:18:52,716 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:606 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:307 - Tab changed to index: 0
2025-05-29 20:18:52,717 - INFO - UserManagementScreen - user_management_screen:614 - Loading users data for User Management tab (custom list)...
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:628 - Loaded 2 users into custom list.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:18:52,722 - INFO - UserManagementScreen - user_management_screen:214 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:18:52,759 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:25:41,187 - INFO - UserManagementScreen - user_management_screen:1104 - User Management screen closing.
2025-05-29 20:25:41,239 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:25:43,929 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:25:43,939 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:25:43,948 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:25:43,954 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:25:43,960 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:25:43,971 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:25:44,027 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:25:44,033 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:26:24,254 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:26:24,254 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:26:24,255 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:26:24,257 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:26:24,257 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:26:24,266 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:26:24,269 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:26:24,270 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:26:24,445 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:26:24,448 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:26:24,449 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:26:24,449 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:26:24,455 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:26:24,539 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:26:26,694 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:26:33,841 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 20:26:34,005 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 20:26:34,006 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 20:26:34,008 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 20:26:34,022 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 20:26:34,022 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:26:34,024 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:26:34,025 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:26:34,027 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:26:34,032 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:26:34,034 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:26:34,196 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:26:34,201 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:26:34,202 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:26:34,207 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:26:34,223 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:26:34,224 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:26:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:26:34,268 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:26:34,271 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:26:34,272 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:26:34,343 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:26:34,347 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:26:34,360 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:26:34,389 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:26:34,390 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:26:34,397 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:26:34,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:26:34,408 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:26:34,413 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:26:34,420 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:26:34,422 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:26:36,617 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:26:36,620 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:26:36,622 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:26:36,635 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:26:36,692 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:26:36,693 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:26:36,697 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:26:36,699 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:26:36,736 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:26:53,996 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:26:54,002 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:26:56,471 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:26:56,475 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 3
2025-05-29 20:26:57,761 - INFO - UserManagementScreen - user_management_screen:945 - Loading master owners data for tab...
2025-05-29 20:26:57,764 - INFO - UserManagementScreen - user_management_screen:982 - Loaded 6 master owners.
2025-05-29 20:27:05,554 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:05,556 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:05,559 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2
2025-05-29 20:27:06,825 - INFO - UserManagementScreen - user_management_screen:843 - Loading charge codes data for tab...
2025-05-29 20:27:06,828 - INFO - UserManagementScreen - user_management_screen:876 - Loaded 3 charge codes.
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:27:11,276 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:27:11,279 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:27:14,532 - INFO - UserManagementScreen - user_management_screen:788 - Location selected: 1
2025-05-29 20:27:19,482 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 816, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 77, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 189, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:32:01,712 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:32:01,725 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:32:27,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:32:27,641 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:32:27,645 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:32:27,646 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:32:27,648 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown) ENTERED ******
2025-05-29 20:32:27,661 - INFO - UserManagementScreen - user_management_screen:306 - UserManagementScreen.setup_ui (vUnknown) FINISHED.
2025-05-29 20:32:27,720 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:595 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:32:27,722 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0
2025-05-29 20:32:27,724 - INFO - UserManagementScreen - user_management_screen:603 - Loading users data for User Management tab (custom list)...
2025-05-29 20:32:27,725 - INFO - UserManagementScreen - user_management_screen:617 - Loaded 2 users into custom list.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:32:27,727 - INFO - UserManagementScreen - user_management_screen:213 - UserManagementScreen (vUnknown) initialized for user: tm
2025-05-29 20:32:27,765 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 1
2025-05-29 20:32:31,762 - INFO - UserManagementScreen - user_management_screen:729 - Loading locations data for tab...
2025-05-29 20:32:31,764 - INFO - UserManagementScreen - user_management_screen:773 - Loaded 3 locations.
2025-05-29 20:40:34,906 - INFO - UserManagementScreen - user_management_screen:1097 - User Management screen closing.
2025-05-29 20:40:34,943 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:40:36,927 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-29 20:40:36,927 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-29 20:40:36,929 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 20:40:36,930 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 20:40:36,930 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 20:40:36,932 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 20:40:36,954 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 20:40:36,957 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 20:40:53,807 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 20:40:53,807 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 20:40:53,810 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 20:40:53,811 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 20:40:53,812 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 20:40:53,819 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 20:40:53,822 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 20:40:53,823 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 20:40:53,825 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 20:40:54,000 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 20:40:54,003 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 20:40:54,003 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 20:40:54,005 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 20:40:54,005 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 20:40:54,009 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 20:40:54,089 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 20:40:55,989 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 20:41:05,147 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 20:41:05,311 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 20:41:05,311 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,314 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 20:41:05,326 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 20:41:05,326 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 20:41:05,328 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 20:41:05,329 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 20:41:05,332 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 20:41:05,338 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 20:41:05,449 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 20:41:05,453 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 20:41:05,455 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 20:41:05,458 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 20:41:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 20:41:05,475 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 20:41:05,477 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 20:41:05,519 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 20:41:05,522 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 20:41:05,593 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 20:41:05,598 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 20:41:05,612 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 20:41:05,642 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 20:41:05,645 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 20:41:05,652 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 20:41:05,661 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 20:41:05,664 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 20:41:05,673 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 20:41:07,837 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:41:07,839 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:41:07,840 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:41:07,842 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:41:07,856 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:41:07,913 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:41:07,914 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:07,916 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:07,921 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:41:07,922 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:41:07,962 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:41:11,263 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:41:11,269 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:41:18,111 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: 1
2025-05-29 20:41:21,123 - INFO - AddEditLocationDialog - add_edit_location_dialog:273 - Loaded 60 states into combobox.
2025-05-29 20:41:21,126 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 821, in _edit_selected_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 98, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 306, in _populate_fields
    self.description_input.setPlainText(self.location.description or "")
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Location' object has no attribute 'description'
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:41:28,943 - INFO - UserManagementScreen - user_management_screen:793 - Location selected: None
2025-05-29 20:41:28,947 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:41:28,948 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:41:35,470 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 20:41:35,483 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 20:46:11,587 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-29 20:46:11,588 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-29 20:46:11,593 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-29 20:46:14,524 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-29 20:46:14,524 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-29 20:46:14,530 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-29 20:46:27,843 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 20:46:27,844 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 20:46:27,847 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 20:46:27,862 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 20:46:27,920 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 20:46:27,922 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:46:27,924 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 20:46:27,927 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 20:46:27,968 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 20:46:42,602 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 20:46:42,606 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 20:56:43,199 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 20:56:43,201 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 20:56:43,209 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:38,100 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:06:38,135 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:06:40,655 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:06:40,657 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:06:40,660 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:06:40,660 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:06:40,661 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:06:40,688 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:06:40,692 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:06:46,313 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:06:46,313 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:06:46,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:06:46,316 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:06:46,324 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:06:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:06:46,329 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:06:46,503 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:06:46,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:06:46,506 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:06:46,506 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:06:46,508 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:06:46,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:06:46,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:06:48,725 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:06:55,362 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-29 21:06:55,526 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-29 21:06:55,526 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-29 21:06:55,528 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-29 21:06:55,542 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-29 21:06:55,544 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:06:55,545 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:06:55,547 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:06:55,550 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:06:55,556 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:06:55,710 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:06:55,713 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:06:55,715 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:06:55,719 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:06:55,736 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:06:55,737 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:06:55,739 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:06:55,783 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:06:55,784 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:06:55,786 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:06:55,859 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:06:55,862 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:06:55,878 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:06:55,908 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:06:55,909 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:06:55,918 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:06:55,928 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:06:55,931 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:06:55,939 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:06:57,598 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:06:57,599 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:06:57,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:06:57,603 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:06:57,616 - INFO - UserManagementScreen - user_management_screen:300 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:06:57,673 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:06:57,675 - INFO - UserManagementScreen - user_management_screen:589 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:06:57,676 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:06:57,680 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-29 21:06:57,723 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:07:02,297 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:02,299 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:02,303 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:05,055 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:05,056 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:05,061 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:09,066 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 2
2025-05-29 21:07:17,696 - INFO - UserManagementScreen - user_management_screen:847 - Loading charge codes data for tab...
2025-05-29 21:07:17,701 - INFO - UserManagementScreen - user_management_screen:880 - Loaded 3 charge codes.
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:19,181 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:19,186 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 0
2025-05-29 21:07:21,316 - INFO - UserManagementScreen - user_management_screen:596 - Loading users data for User Management tab (custom list)...
2025-05-29 21:07:21,322 - INFO - UserManagementScreen - user_management_screen:611 - Loaded 2 users into custom list.
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:305 - Tab changed to index: 1
2025-05-29 21:07:42,257 - INFO - UserManagementScreen - user_management_screen:717 - Loading locations data for tab...
2025-05-29 21:07:42,261 - INFO - UserManagementScreen - user_management_screen:776 - Loaded 3 locations with detailed address.
2025-05-29 21:07:48,813 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 799, in _add_new_location
    dialog = AddEditLocationDialog(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 96, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 239, in _setup_ui
    self._create_label("Location Name*:"), 0, 0, Qt.AlignmentFlag.AlignRight
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 188, in _create_label
    if hasattr(AppConfig, "DEFAULT_FONT_SIZE")
               ^^^^^^^^^
NameError: name 'AppConfig' is not defined
2025-05-29 21:09:35,656 - INFO - UserManagementScreen - user_management_screen:1091 - User Management screen closing.
2025-05-29 21:09:35,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:09:36,462 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:09:36,463 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-29 21:09:36,465 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:09:36,478 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:09:36,482 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:09:36,484 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:13:16,907 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:13:16,907 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:13:16,908 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:13:16,910 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:13:16,910 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:13:16,919 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:13:16,922 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:13:16,923 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:13:17,097 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:13:17,100 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:13:17,101 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:13:17,102 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:13:17,103 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:13:17,108 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:13:17,191 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:13:19,623 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:18:01,553 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:18:01,717 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:18:01,717 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,720 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:18:01,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:18:01,733 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:18:01,734 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:18:01,736 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:18:01,737 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:18:01,739 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:18:01,748 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:18:01,907 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:18:01,912 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:18:01,913 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:18:01,918 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:18:01,933 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:18:01,934 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:18:01,936 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:18:01,977 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:18:01,980 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:18:01,981 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:18:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:18:02,058 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:18:02,075 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:18:02,106 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:18:02,108 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:18:02,117 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:18:02,126 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:18:02,129 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:18:02,138 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:18:03,951 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:18:03,953 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:18:03,955 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:18:03,955 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,956 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:18:03,970 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:03,970 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:18:04,027 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:18:04,028 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:04,030 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:04,034 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:18:04,034 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:18:04,035 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:18:04,074 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:06,998 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:07,004 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:18:08,433 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:18:08,438 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:18:11,378 - INFO - UserManagementScreen - user_management_screen:596 - User selected from list: tm
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:18:13,362 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:18:13,365 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:18:15,088 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:18:18,929 - INFO - AddEditLocationDialog - add_edit_location_dialog:305 - Loaded 60 states into combobox.
2025-05-29 21:18:30,846 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:18:30,848 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:19:14,191 - INFO - LocationController - location_controller:284 - Location 'Main Stable' (ID: 1) updated by ADMIN.
2025-05-29 21:19:14,192 - ERROR - AddEditLocationDialog - add_edit_location_dialog:390 - Error during location save/update: 'AddEditLocationDialog' object has no attribute 'parent_view'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 378, in validate_and_accept
    if hasattr(self.parent_view, "show_info") and callable(
               ^^^^^^^^^^^^^^^^
AttributeError: 'AddEditLocationDialog' object has no attribute 'parent_view'
2025-05-29 21:25:27,489 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-29 21:25:27,524 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-29 21:25:31,366 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-29 21:25:31,368 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-29 21:25:31,369 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-29 21:25:31,371 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-29 21:25:31,393 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-29 21:25:31,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-29 21:25:40,318 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-29 21:25:40,319 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-29 21:25:40,321 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-29 21:25:40,322 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-29 21:25:40,322 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-29 21:25:40,329 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-29 21:25:40,332 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-29 21:25:40,334 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-29 21:25:40,335 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-29 21:25:40,511 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-29 21:25:40,513 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-29 21:25:40,515 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-29 21:25:40,515 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-29 21:25:40,520 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-29 21:25:40,602 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-29 21:25:42,827 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-29 21:25:51,795 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-29 21:25:51,959 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-29 21:25:51,959 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,962 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-29 21:25:51,977 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-29 21:25:51,978 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-29 21:25:51,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-29 21:25:51,981 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-29 21:25:51,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-29 21:25:51,984 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-29 21:25:51,988 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-29 21:25:52,145 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-29 21:25:52,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-29 21:25:52,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-29 21:25:52,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-29 21:25:52,171 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-29 21:25:52,173 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-29 21:25:52,215 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-29 21:25:52,218 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-29 21:25:52,294 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-29 21:25:52,297 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-29 21:25:52,312 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-29 21:25:52,346 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-29 21:25:52,349 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-29 21:25:52,356 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-29 21:25:52,365 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-29 21:25:52,368 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-29 21:25:52,377 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-29 21:25:54,640 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-29 21:25:54,643 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-29 21:25:54,645 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,645 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-29 21:25:54,658 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,660 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-29 21:25:54,715 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-29 21:25:54,717 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-29 21:25:54,718 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-29 21:25:54,722 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-29 21:25:54,724 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-29 21:25:54,724 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-29 21:25:54,764 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-29 21:25:57,546 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:25:57,552 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:00,819 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-29 21:26:03,568 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-29 21:26:21,620 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-29 21:26:21,620 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-29 21:26:23,560 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-29 21:26:23,562 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-29 21:26:29,589 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-29 21:26:29,593 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable' updated.
2025-05-30 17:25:03,888 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-30 17:25:03,926 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-30 17:25:09,245 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-30 17:25:09,245 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-30 17:25:09,246 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-30 17:25:09,248 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-30 17:25:09,274 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-30 17:25:09,280 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:28:25,069 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:28:25,070 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:28:25,070 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:28:25,086 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:28:25,089 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:28:25,090 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:28:25,271 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:28:25,273 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:28:25,273 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:28:25,274 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:28:25,274 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:28:25,285 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:28:25,303 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:28:32,673 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:28:42,257 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 19:28:42,419 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 19:28:42,419 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,420 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 19:28:42,427 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 19:28:42,427 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 19:28:42,429 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:28:42,430 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:28:42,442 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:28:42,444 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:28:43,558 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:28:43,561 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:28:43,563 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:28:43,567 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:28:43,584 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:28:43,585 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:28:43,628 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:28:43,629 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:28:43,630 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:28:43,674 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:28:43,677 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:28:43,678 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:28:43,686 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:28:43,710 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:28:43,717 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:28:43,725 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:28:43,726 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:28:43,728 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:28:43,736 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:28:46,654 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 4
2025-05-31 19:28:46,656 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 4: Loren90
2025-05-31 19:28:46,659 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 4
2025-05-31 19:28:47,668 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 19:28:47,670 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 19:28:47,672 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 19:28:49,491 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 3
2025-05-31 19:28:49,492 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 3: Streetwise
2025-05-31 19:28:49,495 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 3
2025-05-31 19:29:05,505 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:29:05,506 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:29:05,506 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:29:05,507 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,507 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:29:05,522 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,522 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:29:05,581 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:29:05,582 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:29:05,583 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:29:05,587 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:29:05,588 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:29:05,588 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 19:29:05,594 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:29:09,267 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:09,270 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:29:17,211 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:29:19,583 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:29:32,248 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by ADMIN.
2025-05-31 19:29:32,248 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:29:34,333 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:29:34,343 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:30:53,271 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:30:53,272 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:31:01,318 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:31:01,330 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:31:04,789 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 19:31:04,789 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:31:04,790 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:31:04,791 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:31:04,800 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:31:04,801 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:44:29,482 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:44:29,483 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:44:29,483 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:44:29,496 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:44:29,497 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:44:29,520 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:44:29,521 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:44:29,710 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:44:29,712 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:44:29,712 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:44:29,713 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:44:29,726 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:44:29,748 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:44:32,338 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:44:39,224 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:44:39,385 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:44:39,386 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:44:39,386 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:44:39,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:44:39,395 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:44:39,397 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:44:39,398 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:44:39,399 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:44:39,400 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:44:39,404 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:44:40,594 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:44:40,597 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:44:40,599 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:44:40,603 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:44:40,619 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:44:40,620 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:44:40,662 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:44:40,663 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:44:40,704 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:44:40,707 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:44:40,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:44:40,742 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:44:40,743 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:44:40,751 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:44:40,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:44:40,759 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:44:40,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:44:40,768 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:44:40,769 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:44:43,034 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:44:43,036 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:44:43,036 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,037 - INFO - UserManagementScreen - user_management_screen:247 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:44:43,050 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,050 - INFO - UserManagementScreen - user_management_screen:272 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:44:43,107 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:556 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 0
2025-05-31 19:44:43,108 - INFO - UserManagementScreen - user_management_screen:565 - Loading users data for User Management tab (custom list)...
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - user_management_screen:579 - Loaded 2 users into custom list.
2025-05-31 19:44:43,112 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:44:43,112 - WARNING - UserManagementScreen - user_management_screen:207 - Docstring not found for UserManagementScreen class.
2025-05-31 19:44:43,113 - INFO - UserManagementScreen - user_management_screen:192 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:44:43,122 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:279 - Tab changed to index: 1
2025-05-31 19:44:46,663 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:46,666 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:44:48,215 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:44:49,565 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:44:58,053 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:44:58,053 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:44:59,952 - INFO - UserManagementScreen - user_management_screen:682 - Loading locations data for tab...
2025-05-31 19:44:59,961 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 734, in _on_location_selected
    if item:
       ^^^^
UnboundLocalError: cannot access local variable 'item' where it is not associated with a value
2025-05-31 19:46:32,939 - INFO - UserManagementScreen - user_management_screen:719 - Loaded 3 locations with detailed address.
2025-05-31 19:46:32,941 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:46:35,818 - INFO - UserManagementScreen - user_management_screen:1032 - User Management screen closing.
2025-05-31 19:46:35,851 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:46:38,791 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:46:38,792 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:46:38,792 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:46:38,793 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:46:38,808 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:46:38,810 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 19:47:04,268 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 19:47:04,268 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 19:47:04,269 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 19:47:04,269 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 19:47:04,276 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 19:47:04,279 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 19:47:04,280 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 19:47:04,457 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 19:47:04,459 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 19:47:04,460 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 19:47:04,460 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 19:47:04,465 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 19:47:04,483 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 19:47:06,711 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 19:47:22,148 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-05-31 19:47:22,310 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-05-31 19:47:22,310 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-05-31 19:47:22,310 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-05-31 19:47:22,321 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: tm
2025-05-31 19:47:22,321 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 19:47:22,322 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 19:47:22,323 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 19:47:22,327 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 19:47:22,479 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 19:47:22,482 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 19:47:22,483 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 19:47:22,487 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 19:47:22,503 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 19:47:22,504 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 19:47:22,546 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 19:47:22,547 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 19:47:22,588 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 19:47:22,591 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 19:47:22,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 19:47:22,622 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 19:47:22,623 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 19:47:22,629 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 19:47:22,637 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 19:47:22,640 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 19:47:22,647 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:47:28,913 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:47:28,914 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:47:28,915 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,915 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:47:28,929 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,929 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:47:28,987 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:47:28,988 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:47:28,989 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:47:28,993 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:47:28,993 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:47:29,002 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:47:32,003 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:32,006 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:33,703 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:47:35,213 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:47:40,903 - INFO - LocationController - location_controller:284 - Location 'Main Stable Farms' (ID: 1) updated by tm.
2025-05-31 19:47:40,903 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-05-31 19:47:42,519 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:47:42,520 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:47:42,521 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Main Stable Farms' updated.
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:48:01,245 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:48:01,248 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:48:10,885 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:48:10,886 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:48:10,887 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:48:22,739 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Delanco
2025-05-31 19:48:22,743 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-05-31 19:48:40,721 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-05-31 19:48:48,671 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Delanco
2025-05-31 19:48:48,675 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:48:59,634 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:49:01,825 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-05-31 19:49:07,684 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:49:12,871 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:49:51,317 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 2
2025-05-31 19:49:59,051 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:50:00,979 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 19:50:06,387 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:50:06,395 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:50:08,711 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:50:08,712 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:50:08,713 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:50:08,713 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,714 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:50:08,726 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,726 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:50:08,782 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:50:08,783 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:50:08,784 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:50:08,787 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:50:08,787 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:50:08,788 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:50:08,796 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:50:10,628 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:50:10,629 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:50:10,630 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:51:38,827 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:51:38,837 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:51:57,191 - INFO - BasicInfoTab - basic_info_tab:635 - BasicInfoTab set_edit_mode: True
2025-05-31 19:52:06,189 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 19:52:06,190 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 19:52:06,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 19:52:06,191 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,192 - INFO - UserManagementScreen - user_management_screen:246 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 19:52:06,205 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,206 - INFO - UserManagementScreen - user_management_screen:271 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 19:52:06,261 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 19:52:06,262 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:547 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 0
2025-05-31 19:52:06,263 - INFO - UserManagementScreen - user_management_screen:554 - Loading users data for User Management tab (custom list)...
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:571 - Loaded 2 users into custom list.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 19:52:06,266 - WARNING - UserManagementScreen - user_management_screen:208 - Docstring not found for UserManagementScreen class.
2025-05-31 19:52:06,266 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-05-31 19:52:06,275 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 19:52:10,839 - INFO - UserManagementScreen - user_management_screen:587 - User selected from list: ADMIN
2025-05-31 19:52:14,743 - INFO - UserManagementScreen - user_management_screen:276 - Tab changed to index: 1
2025-05-31 19:52:14,744 - INFO - UserManagementScreen - user_management_screen:676 - Loading locations data for tab...
2025-05-31 19:52:14,745 - INFO - UserManagementScreen - user_management_screen:714 - Loaded 3 locations with detailed address.
2025-05-31 19:52:16,065 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: 1
2025-05-31 19:52:28,503 - INFO - UserManagementScreen - user_management_screen:736 - Location selected: None
2025-05-31 19:58:02,618 - INFO - UserManagementScreen - user_management_screen:1037 - User Management screen closing.
2025-05-31 19:58:02,647 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 19:58:05,664 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'tm' logout.
2025-05-31 19:58:05,664 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 19:58:05,665 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 19:58:05,665 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 19:58:05,682 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 19:58:05,683 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:01:15,058 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:01:15,058 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:01:15,058 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:01:15,065 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:01:15,066 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:01:15,068 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:01:15,069 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:01:15,244 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:01:15,246 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:01:15,246 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:01:15,247 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:01:15,247 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:01:15,251 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:01:15,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:01:21,201 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:01:31,080 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:01:31,239 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:01:31,239 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,240 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:01:31,248 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:01:31,250 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:01:31,251 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:01:31,252 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:01:31,253 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:01:31,254 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:01:31,258 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:01:31,259 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:01:31,405 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:01:31,408 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:01:31,409 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:01:31,413 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:01:31,428 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:01:31,429 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:01:31,470 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:01:31,471 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:01:31,528 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:01:31,531 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:01:31,540 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:01:31,560 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:01:31,567 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:01:31,574 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:01:31,576 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:01:31,584 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:01:31,585 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:01:34,409 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:01:34,410 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:01:34,412 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:01:34,413 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,413 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:01:34,429 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,429 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:01:34,486 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:01:34,487 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:01:34,488 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:01:34,492 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:01:34,492 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:01:34,500 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:01:38,361 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:01:42,222 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:01:42,225 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:01:43,666 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:09,322 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 20:02:19,465 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-05-31 20:02:20,209 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-05-31 20:02:22,443 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:22,445 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:22,447 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:22,449 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:24,220 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: ADMIN
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:02:41,840 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:02:41,842 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:02:44,269 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:02:50,181 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:02:50,182 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:02:50,183 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: None
2025-05-31 20:02:50,185 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:02:57,678 - INFO - UserManagementScreen - user_management_screen:620 - User selected from list: tm
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:03:00,473 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:03:00,475 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:03:02,085 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 20:03:04,104 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:04:33,542 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 1
2025-05-31 20:04:35,368 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 891, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 82, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 222, in _populate_fields
    self.alt_code_input.setText(self.charge_code.alternate_code or "")
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'alternate_code'
2025-05-31 20:08:30,682 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:08:30,693 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:08:31,414 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:08:31,414 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:08:31,415 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:08:31,424 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:08:31,426 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:08:31,427 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:23:16,275 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:23:16,275 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:23:16,276 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:23:16,276 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:23:16,285 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:23:16,287 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:23:16,288 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:23:16,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:23:16,466 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:23:16,466 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:23:16,467 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:23:16,467 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:23:16,472 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:23:16,498 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:23:21,030 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:23:30,585 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:23:30,745 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:23:30,745 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,746 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:23:30,755 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:23:30,755 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:23:30,756 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:23:30,757 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:23:30,760 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:23:30,761 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:23:30,882 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:23:30,885 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:23:30,886 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:23:30,890 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:23:30,905 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:23:30,906 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:23:30,907 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:23:30,960 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:23:30,961 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:23:31,007 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:23:31,010 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:23:31,021 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:23:31,041 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:23:31,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:23:31,056 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:23:31,057 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:23:31,059 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:23:31,066 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:23:34,227 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:23:34,228 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:23:34,229 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:23:34,229 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,230 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:23:34,247 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,248 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:23:34,304 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:23:34,305 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:23:34,306 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:23:34,309 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:23:34,310 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:23:34,310 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:23:34,323 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:23:36,412 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:23:36,415 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:23:42,089 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:23:43,768 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-05-31 20:23:43,769 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:23:43,770 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 20:27:15,259 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 20:27:15,270 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 20:27:19,379 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:27:19,381 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:27:21,621 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 20:27:21,621 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-05-31 20:27:21,622 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 20:27:21,630 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 20:27:21,633 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 20:27:21,633 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 20:37:38,572 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:37:38,572 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:37:38,573 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:37:38,573 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:37:38,581 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:37:38,582 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:37:38,585 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:37:38,586 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:37:38,761 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:37:38,762 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:37:38,763 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:37:38,763 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:37:38,764 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:37:38,768 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:37:38,788 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:37:40,865 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:37:50,810 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:37:50,972 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:37:50,972 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,972 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:37:50,986 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:37:50,986 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:37:50,987 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:37:50,988 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:37:50,991 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:37:51,146 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:37:51,148 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:37:51,150 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:37:51,154 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:37:51,169 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:37:51,170 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:37:51,210 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:37:51,211 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:37:51,253 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:37:51,256 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:37:51,266 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:37:51,284 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:37:51,291 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:37:51,298 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:37:51,301 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:37:51,307 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:37:51,309 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:37:55,071 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:37:55,072 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:37:55,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:37:55,073 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,073 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:37:55,088 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,088 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:37:55,146 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:37:55,147 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:37:55,148 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:37:55,152 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:37:55,152 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:37:55,153 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:37:55,163 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 20:37:57,089 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 20:37:57,093 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:38:00,713 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:38:00,714 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:38:00,773 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:40:47,405 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:40:47,407 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary, Laboratory Procedures, Other', 60.0, 1, 0, '2025-06-01 00:40:47.407565', '2025-06-01 00:40:47.407565', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:12,701 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 20:42:12,701 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 20:42:12,702 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 20:42:12,709 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 20:42:12,711 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 20:42:12,712 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 20:42:12,885 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 20:42:12,887 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 20:42:12,887 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 20:42:12,888 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 20:42:12,892 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 20:42:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 20:42:16,304 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 20:42:26,061 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 20:42:26,225 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 20:42:26,225 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,226 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 20:42:26,236 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 20:42:26,236 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 20:42:26,237 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 20:42:26,238 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 20:42:26,239 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 20:42:26,244 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 20:42:26,245 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 20:42:26,394 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 20:42:26,397 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 20:42:26,399 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 20:42:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 20:42:26,418 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 20:42:26,419 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 20:42:26,463 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 20:42:26,464 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 20:42:26,514 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 20:42:26,516 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 20:42:26,517 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 20:42:26,526 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 20:42:26,545 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 20:42:26,552 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 20:42:26,559 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 20:42:26,560 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 20:42:26,563 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 20:42:26,570 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 20:42:45,615 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 20:42:45,616 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 20:42:45,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,617 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 20:42:45,632 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,632 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 20:42:45,689 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 20:42:45,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 20:42:45,691 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 20:42:45,695 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 20:42:45,696 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 20:42:45,696 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 20:42:45,705 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 20:42:47,369 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 20:42:47,371 - ERROR - ChargeCodeController - charge_code_controller:186 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 184, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_codes.category, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:42:47,375 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 0 charge codes.
2025-05-31 20:44:38,762 - ERROR - ChargeCodeController - charge_code_controller:146 - Error fetching charge code by code '70': (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 144, in get_charge_code_by_code
    return session.query(ChargeCode).filter(ChargeCode.code == code).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2748, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.alternate_code
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category AS charge_codes_category, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes 
WHERE charge_codes.code = ?
 LIMIT ? OFFSET ?]
[parameters: ('70', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 20:44:38,765 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table charge_codes has no column named alternate_code

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table charge_codes has no column named alternate_code
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('70', 'C/S', 'Bacterial Culture and Sensitivity', 'Veterinary/Labratory/Other', 60.0, 1, 0, '2025-06-01 00:44:38.765926', '2025-06-01 00:44:38.765926', None, None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-31 21:15:03,132 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:15:03,141 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:15:04,874 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:15:04,874 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:15:04,875 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:15:04,875 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:15:04,883 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:15:04,885 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 21:15:12,802 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:15:12,802 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:15:12,803 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:15:12,803 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:15:12,811 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:15:12,814 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:15:12,990 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:15:12,992 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:15:12,993 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:15:12,993 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:15:12,998 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:15:13,019 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:15:14,962 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:15:23,502 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:15:23,666 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:15:23,667 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,667 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:15:23,678 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:15:23,678 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:15:23,679 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:15:23,680 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:15:23,681 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:15:23,686 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:15:23,687 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:15:23,854 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:15:23,857 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:15:23,858 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:15:23,862 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:15:23,878 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:15:23,879 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:15:23,921 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:15:23,922 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:15:23,965 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:15:23,967 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:15:23,978 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:15:23,998 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:15:24,004 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 4 results.
2025-05-31 21:15:24,012 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 21:15:24,015 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Delanco
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:1020 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 21:15:24,023 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:15:26,142 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:15:26,143 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:15:26,144 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,144 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:15:26,159 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,159 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:15:26,216 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:15:26,218 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:15:26,219 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-05-31 21:15:26,222 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:15:26,223 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:15:26,223 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:15:26,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:15:28,833 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:15:28,835 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:17:40,086 - ERROR - ChargeCodeController - charge_code_controller:119 - Error creating charge code: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: charge_codes.charge_code_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 111, in create_charge_code
    session.commit()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: charge_codes.charge_code_id
[SQL: INSERT INTO charge_codes (code, alternate_code, description, category, standard_charge, is_active, taxable, created_date, modified_date, created_by, modified_by) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('9991', 'IVO', 'Ivermectin and Praziquantel', 'Veterinary, Anthelmintics, Administered', 25.0, 1, 0, '2025-06-01 01:17:40.086229', '2025-06-01 01:17:40.086229', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-31 21:36:48,863 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 21:36:48,863 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 21:36:48,864 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 21:36:48,865 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 21:36:48,865 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 21:36:48,871 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 21:36:48,874 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 21:36:48,875 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 21:36:49,051 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 21:36:49,053 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 21:36:49,053 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 21:36:49,054 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 21:36:49,054 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 21:36:49,058 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 21:36:49,079 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 21:36:55,187 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 21:37:03,041 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 21:37:03,203 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 21:37:03,203 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,204 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 21:37:03,213 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 21:37:03,213 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 21:37:03,214 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 21:37:03,215 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 21:37:03,219 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 21:37:03,220 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 21:37:03,383 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 21:37:03,386 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 21:37:03,387 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 21:37:03,391 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 21:37:03,406 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 21:37:03,407 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 21:37:03,448 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 21:37:03,449 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 21:37:03,496 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,500 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 21:37:03,510 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 21:37:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 21:37:03,531 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:03,534 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-05-31 21:37:03,536 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:03,538 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 21:37:11,571 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 21:37:11,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 21:37:11,579 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 21:37:33,058 - INFO - HorseUnifiedManagement - horse_unified_management:1118 - save_changes: START
2025-05-31 21:37:33,059 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,060 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 21:37:33,070 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-05-31 21:37:33,070 - INFO - HorseUnifiedManagement - horse_unified_management:1187 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:33,071 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-05-31 21:37:34,951 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 21:37:34,951 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 21:37:34,953 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 21:37:34,956 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:34,957 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:34,958 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 21:37:40,336 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 21:37:40,339 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 21:37:40,341 - INFO - HorseUnifiedManagement - horse_unified_management:1240 - save_changes: FINISHED
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 21:37:43,393 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 21:37:43,394 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 21:37:43,395 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,395 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 21:37:43,410 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,410 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 21:37:43,456 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 21:37:43,457 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 21:37:43,458 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 21:37:43,462 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 21:37:43,462 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 21:37:43,471 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 21:37:46,727 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:37:46,729 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-05-31 21:40:22,925 - INFO - ChargeCodeController - charge_code_controller:113 - Charge Code '991' created successfully (ID: 4).
2025-05-31 21:40:24,797 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 21:40:24,798 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-05-31 21:48:53,412 - INFO - UserManagementScreen - user_management_screen:865 - Charge Code selected: 3
2025-05-31 21:49:17,394 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 21:49:17,413 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 21:49:20,376 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 21:49:20,377 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 21:49:20,378 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 21:49:20,395 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 21:49:20,396 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:02:06,980 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:02:06,980 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:02:06,981 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:02:06,981 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:02:06,989 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:02:06,992 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:02:06,993 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:02:07,169 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:02:07,170 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:02:07,171 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:02:07,171 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:02:07,177 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:02:07,198 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:02:09,138 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:02:18,149 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:02:18,314 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:02:18,314 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,315 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:02:18,325 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:02:18,325 - INFO - HorseUnifiedManagement - horse_unified_management:100 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:02:18,327 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:02:18,328 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:02:18,329 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:747 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:02:18,333 - INFO - HorseUnifiedManagement - horse_unified_management:754 - QTabWidget created and styled.
2025-05-31 22:02:18,484 - INFO - HorseUnifiedManagement - horse_unified_management:760 - BasicInfoTab created.
2025-05-31 22:02:18,487 - INFO - HorseUnifiedManagement - horse_unified_management:771 - OwnersTab created.
2025-05-31 22:02:18,488 - INFO - HorseUnifiedManagement - horse_unified_management:782 - LocationTab created.
2025-05-31 22:02:18,492 - INFO - HorseUnifiedManagement - horse_unified_management:789 - Tabs added.
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1635 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:02:18,507 - INFO - HorseUnifiedManagement - horse_unified_management:1687 - Connecting BasicInfoTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1713 - Connecting OwnersTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting LocationTab signals.
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:1732 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:02:18,508 - INFO - HorseUnifiedManagement - horse_unified_management:168 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:02:18,548 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:02:18,549 - INFO - HorseUnifiedManagement - horse_unified_management:148 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:02:18,593 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement showEvent: START
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:328 - display_empty_state: FINISHED
2025-05-31 22:02:18,596 - INFO - HorseUnifiedManagement - horse_unified_management:208 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:02:18,605 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:02:18,628 - INFO - HorseUnifiedManagement - horse_unified_management:464 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:02:18,629 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:18,635 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-05-31 22:02:18,639 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-05-31 22:02:18,640 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:02:18,643 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:02:18,644 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:18,645 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:24,401 - INFO - HorseUnifiedManagement - horse_unified_management:467 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:02:32,756 - INFO - HorseUnifiedManagement - horse_unified_management:995 - add_new_horse: START
2025-05-31 22:02:32,757 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:02:32,762 - INFO - HorseUnifiedManagement - horse_unified_management:1028 - add_new_horse: FINISHED
2025-05-31 22:02:51,191 - INFO - HorseUnifiedManagement - horse_unified_management:1100 - save_changes: START
2025-05-31 22:02:51,191 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,192 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-05-31 22:02:51,200 - INFO - HorseController - horse_controller:179 - Horse 'lorena' (ID: 2) created successfully by ADMIN.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - horse_unified_management:1174 - save_changes: Save successful. Message: Horse 'lorena' created successfully.
2025-05-31 22:02:51,200 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'lorena' created successfully.
2025-05-31 22:02:53,046 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,046 - INFO - HorseUnifiedManagement - horse_unified_management:1311 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:02:53,048 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:02:53,052 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 2
2025-05-31 22:02:53,053 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:02:53,053 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - horse_unified_management:1237 - save_changes: Exception: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1229, in save_changes
    self.load_horse_details(
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:02:53,054 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Save Error - Unexpected error: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:03:04,203 - INFO - HorseUnifiedManagement - horse_unified_management:1239 - save_changes: FINISHED
2025-05-31 22:03:48,121 - INFO - HorseUnifiedManagement - horse_unified_management:939 - load_horse_details: START for horse ID: 1
2025-05-31 22:03:48,123 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:03:48,123 - ERROR - HorseUnifiedManagement - horse_unified_management:893 - Error constructing owner display name: cannot access local variable 'owner_model' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 839, in _get_display_owner_name
    if owner_model and hasattr(owner_model, "owner") and owner_model.owner:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_model' where it is not associated with a value
2025-05-31 22:03:48,124 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1492, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 978, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 934, in _update_horse_info_line
    location_name = self._get_display_location_name(horse)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 914, in _get_display_location_name
    return location_name
           ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'location_name' where it is not associated with a value
2025-05-31 22:08:20,216 - INFO - HorseUnifiedManagement - horse_unified_management:1590 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:08:20,216 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:08:20,217 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:481 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:08:20,218 - WARNING - HorseUnifiedManagement - horse_unified_management:484 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:08:20,244 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:08:20,244 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:08:27,166 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:08:27,166 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:08:27,168 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:08:27,168 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:08:27,175 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:08:27,176 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:08:27,178 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:08:27,179 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:08:27,352 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:08:27,354 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:08:27,355 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:08:27,355 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:08:27,360 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:08:27,381 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:08:29,714 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:08:38,533 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:08:38,700 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:08:38,701 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,701 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:08:38,711 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:08:38,712 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:08:38,713 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:08:38,714 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:08:38,716 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:08:38,721 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:08:38,872 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:08:38,875 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:08:38,876 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:08:38,880 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:08:38,895 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:08:38,896 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:08:38,936 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:08:38,937 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:08:38,981 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:08:38,983 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:08:38,984 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:08:38,993 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:08:39,012 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:08:39,018 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:08:39,024 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:08:39,027 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:08:39,028 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:08:43,852 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:08:45,453 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:08:45,455 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:08:45,455 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:35,506 - INFO - HorseUnifiedManagement - horse_unified_management:1410 - on_filter_changed: To All Horses
2025-05-31 22:10:35,507 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'all', Search: ''
2025-05-31 22:10:35,511 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,513 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:35,516 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:35,517 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:10:35,518 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:10:35,518 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:10:41,129 - ERROR - HorseUnifiedManagement - horse_unified_management:1385 - load_horses: ERROR: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1359, in load_horses
    i, QListWidgetItem.SelectionOption.NoUpdate
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:41,130 - ERROR - HorseUnifiedManagement - base_view:337 - Displaying Error: Load Horses Error - type object 'PySide6.QtWidgets.QListWidgetItem' has no attribute 'SelectionOption'
2025-05-31 22:10:43,097 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:43,098 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:10:43,100 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:10:49,385 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:10:49,385 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:10:49,391 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:11:27,104 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-05-31 22:11:27,105 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-05-31 22:11:27,106 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-05-31 22:11:27,107 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,107 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-05-31 22:11:27,122 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,122 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-05-31 22:11:27,175 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-05-31 22:11:27,176 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-05-31 22:11:27,177 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-05-31 22:11:27,179 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-05-31 22:11:27,180 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-05-31 22:11:27,180 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-05-31 22:11:27,191 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-05-31 22:11:31,683 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-05-31 22:11:31,684 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-05-31 22:11:31,686 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-05-31 22:11:33,577 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-05-31 22:11:33,579 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 4 charge codes.
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-05-31 22:11:34,829 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-05-31 22:11:34,831 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-05-31 22:11:37,718 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-05-31 22:11:37,726 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-05-31 22:11:40,002 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:11:40,002 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:11:40,003 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:11:40,014 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:11:40,015 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:11:46,932 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:11:46,933 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:11:46,934 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:11:46,934 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:11:46,940 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:11:46,943 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:11:46,944 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:11:47,119 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:11:47,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:11:47,121 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:11:47,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:11:47,122 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:11:47,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:11:47,148 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:11:48,917 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:11:58,236 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:11:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:11:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:11:58,407 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:11:58,407 - INFO - HorseUnifiedManagement - horse_unified_management:98 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:11:58,408 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:11:58,409 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:11:58,410 - INFO - HorseUnifiedManagement - horse_unified_management:159 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:11:58,415 - INFO - HorseUnifiedManagement - horse_unified_management:791 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:11:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:798 - QTabWidget created and styled.
2025-05-31 22:11:58,581 - INFO - HorseUnifiedManagement - horse_unified_management:804 - BasicInfoTab created.
2025-05-31 22:11:58,584 - INFO - HorseUnifiedManagement - horse_unified_management:815 - OwnersTab created.
2025-05-31 22:11:58,585 - INFO - HorseUnifiedManagement - horse_unified_management:826 - LocationTab created.
2025-05-31 22:11:58,589 - INFO - HorseUnifiedManagement - horse_unified_management:841 - Tabs added.
2025-05-31 22:11:58,605 - INFO - HorseUnifiedManagement - horse_unified_management:1700 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1723 - Connecting BasicInfoTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1740 - Connecting OwnersTab signals.
2025-05-31 22:11:58,606 - INFO - HorseUnifiedManagement - horse_unified_management:1749 - Connecting LocationTab signals.
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:11:58,607 - INFO - HorseUnifiedManagement - horse_unified_management:174 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:11:58,648 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:11:58,649 - INFO - HorseUnifiedManagement - horse_unified_management:150 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:11:58,702 - INFO - HorseUnifiedManagement - horse_unified_management:178 - HorseUnifiedManagement showEvent: START
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:354 - display_empty_state: FINISHED
2025-05-31 22:11:58,704 - INFO - HorseUnifiedManagement - horse_unified_management:223 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:11:58,716 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:504 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:11:58,737 - INFO - HorseUnifiedManagement - horse_unified_management:1307 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:11:58,743 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:11:58,749 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:11:58,752 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:11:58,752 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:05,024 - INFO - HorseUnifiedManagement - horse_unified_management:507 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:12:07,565 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:07,567 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:07,567 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:14,157 - INFO - HorseUnifiedManagement - horse_unified_management:1023 - add_new_horse: START
2025-05-31 22:12:14,157 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-05-31 22:12:14,164 - INFO - HorseUnifiedManagement - horse_unified_management:1060 - add_new_horse: FINISHED
2025-05-31 22:12:16,973 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:22,120 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved new horse record?
2025-05-31 22:12:24,085 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 1
2025-05-31 22:12:24,087 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:12:24,087 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:12:31,167 - INFO - HorseUnifiedManagement - horse_unified_management:974 - load_horse_details: START for horse ID: 2
2025-05-31 22:12:31,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:12:31,169 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1487, in on_selection_changed
    self.load_horse_details(newly_selected_horse_id)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 1007, in load_horse_details
    self._update_horse_info_line(horse)
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 967, in _update_horse_info_line
    owner_name = self._get_display_owner_name(horse)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\horse\horse_unified_management.py", line 935, in _get_display_owner_name
    return owner_name_display
           ^^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'owner_name_display' where it is not associated with a value
2025-05-31 22:16:06,170 - INFO - HorseUnifiedManagement - horse_unified_management:1641 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-05-31 22:16:06,170 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-05-31 22:16:06,171 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:522 - HorseUnifiedManagement closeEvent. Type: 19
2025-05-31 22:16:06,172 - WARNING - HorseUnifiedManagement - horse_unified_management:525 - HorseUnifiedManagement finished processing closeEvent.
2025-05-31 22:16:06,192 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-05-31 22:16:06,196 - INFO - root - main:372 - Application exiting with code 0
2025-05-31 22:16:12,698 - INFO - root - main:126 - Logging configured (Console and File)
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-05-31 22:16:12,698 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-05-31 22:16:12,699 - INFO - EDSIApplication - main:132 - Initializing database...
2025-05-31 22:16:12,699 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-05-31 22:16:12,706 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-05-31 22:16:12,709 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-05-31 22:16:12,710 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-05-31 22:16:12,883 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-05-31 22:16:12,885 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-05-31 22:16:12,886 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-05-31 22:16:12,886 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-05-31 22:16:12,886 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-05-31 22:16:12,891 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-05-31 22:16:12,912 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-05-31 22:16:14,530 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-05-31 22:16:24,165 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-05-31 22:16:24,328 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-05-31 22:16:24,328 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,329 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-05-31 22:16:24,337 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-05-31 22:16:24,338 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-05-31 22:16:24,339 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-05-31 22:16:24,341 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-05-31 22:16:24,342 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-05-31 22:16:24,346 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-05-31 22:16:24,347 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-05-31 22:16:24,502 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-05-31 22:16:24,504 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-05-31 22:16:24,506 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-05-31 22:16:24,510 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-05-31 22:16:24,524 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-05-31 22:16:24,525 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-05-31 22:16:24,526 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-05-31 22:16:24,569 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-05-31 22:16:24,570 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-05-31 22:16:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-05-31 22:16:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-05-31 22:16:24,625 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-05-31 22:16:24,642 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-05-31 22:16:24,643 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-05-31 22:16:24,649 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-05-31 22:16:24,654 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-05-31 22:16:24,655 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:24,657 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:24,664 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-05-31 22:16:29,178 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:29,183 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:29,187 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-05-31 22:16:34,175 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: lorena
2025-05-31 22:16:36,935 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-05-31 22:16:40,181 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: lorena
2025-05-31 22:16:40,186 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-05-31 22:16:42,030 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-05-31 22:16:44,124 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-05-31 22:16:44,126 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-05-31 22:16:44,129 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-05-31 22:16:55,038 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-05-31 22:16:55,041 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-05-31 22:16:55,044 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-01 19:27:42,771 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-01 19:27:42,772 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-01 19:27:42,773 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-01 19:27:42,774 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-01 19:27:42,782 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-01 19:27:42,784 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-01 19:27:42,785 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:03:01,733 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:03:01,733 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:03:01,735 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:03:01,735 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:03:01,750 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:03:01,754 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:03:01,937 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:03:01,940 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:03:01,940 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:03:01,941 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:03:01,942 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:03:01,956 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:03:01,986 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:03:07,199 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:03:18,804 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:03:18,966 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:03:18,968 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,968 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:03:18,978 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:03:18,978 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:03:18,980 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:03:18,982 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:03:18,986 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:03:18,990 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:03:18,992 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:03:19,456 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:03:19,459 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:03:19,462 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:03:19,465 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:03:19,480 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:03:19,482 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:03:19,526 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:03:19,528 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:03:19,571 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:03:19,574 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:03:19,584 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:03:19,609 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:03:19,611 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:03:19,617 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:03:19,623 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:19,628 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:19,634 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:19,635 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:03:29,224 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:30,929 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 12:03:32,134 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 12:03:32,144 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 12:03:32,144 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:03:34,033 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:03:34,036 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:03:34,037 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:03:37,849 - INFO - OwnersTab - owners_tab:215 - Owner ID 2 selected.
2025-06-02 12:03:42,700 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:03:45,180 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:03:48,026 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 100.0% to horse ID 1
2025-06-02 12:04:06,043 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 2 on horse ID 1 to 90.0%
2025-06-02 12:04:06,049 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 2 by ADMIN.
2025-06-02 12:04:06,050 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:07,807 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:07,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:07,810 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:07,813 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:09,374 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 12:04:10,969 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-02 12:04:30,297 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 10.0% to horse ID 1
2025-06-02 12:04:30,303 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 1 by ADMIN.
2025-06-02 12:04:30,303 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:04:32,242 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:04:32,243 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:32,245 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:32,248 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:35,837 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:52,726 - INFO - OwnersTab - owners_tab:414 - Updating % for owner ID 3 on horse ID 1 to 10.0%
2025-06-02 12:04:52,729 - INFO - HorseController - horse_controller:523 - Ownership percentage updated for horse ID 1, owner ID 3 by ADMIN.
2025-06-02 12:04:52,729 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Percentage Updated - Ownership percentage updated.
2025-06-02 12:04:54,320 - INFO - OwnersTab - owners_tab:215 - Owner ID 3 selected.
2025-06-02 12:04:54,322 - INFO - OwnersTab - owners_tab:240 - Owner selection cleared.
2025-06-02 12:04:54,323 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Ownership percentage updated.
2025-06-02 12:04:54,325 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:54,326 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:54,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:56,761 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-02 12:04:56,766 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:04:57,753 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quail Pond Farm (Equineville, PA)
2025-06-02 12:04:58,911 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quail Pond Farm') to Horse ID 1
2025-06-02 12:04:58,917 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-02 12:04:58,917 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 2, 'name': 'Quail Pond Farm'}
2025-06-02 12:04:58,917 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 12:04:58,918 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:04:58,920 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:04:58,922 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:20,743 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To All Horses
2025-06-02 12:05:20,744 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'all', Search: ''
2025-06-02 12:05:20,746 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,747 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:20,749 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:20,752 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:20,755 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:20,758 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:20,760 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:20,761 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:20,764 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:24,680 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Deactivated
2025-06-02 12:05:24,682 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'inactive', Search: ''
2025-06-02 12:05:24,683 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: inactive) found 0 results.
2025-06-02 12:05:24,685 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:24,686 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:24,689 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:24,693 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:24,694 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:24,697 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1481 - on_filter_changed: To Active Only
2025-06-02 12:05:26,403 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:05:26,405 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-02 12:05:26,409 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 12:05:26,412 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 12:05:26,414 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 12:05:29,200 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:29,202 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:29,205 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:32,801 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: lorena
2025-06-02 12:05:34,177 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-02 12:05:35,889 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 2
2025-06-02 12:05:35,894 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 2 by ADMIN.
2025-06-02 12:05:35,894 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 12:05:37,712 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 12:05:37,713 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:37,714 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:37,717 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:42,103 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: lorena
2025-06-02 12:05:42,106 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-02 12:05:44,119 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Rusty Stable Farm (Equineville, PA)
2025-06-02 12:05:46,222 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Rusty Stable Farm') to Horse ID 2
2025-06-02 12:05:46,228 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-02 12:05:46,228 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 1, 'name': 'Rusty Stable Farm'}
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-02 12:05:46,229 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-02 12:05:46,232 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: lorena
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-02 12:05:46,234 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:05:55,465 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:05:55,467 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:05:55,468 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,468 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:05:55,483 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,485 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:05:55,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:05:55,543 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:05:55,544 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:05:55,546 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:05:55,549 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:05:55,549 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:05:55,550 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:05:55,562 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:05:58,914 - INFO - AddEditUserDialog - add_edit_user_dialog:96 - AddEditUserDialog initialized. Edit mode: False
2025-06-02 12:06:45,026 - INFO - AddEditUserDialog - add_edit_user_dialog:380 - Attempting to create new user: tm
2025-06-02 12:06:45,186 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-02 12:06:45,186 - INFO - AddEditUserDialog - add_edit_user_dialog:388 - User operation successful: User created successfully.
2025-06-02 12:06:45,190 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 2 users into custom list.
2025-06-02 12:06:45,194 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:06:48,950 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:06:48,952 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:06:52,572 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:08:15,632 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:08:29,900 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'email' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'email' is an invalid keyword argument for Location
2025-06-02 12:09:25,278 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 1
2025-06-02 12:09:55,012 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 3
2025-06-02 12:09:55,020 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:10:05,529 - INFO - LocationController - location_controller:284 - Location 'West Wing Stalls' (ID: 3) updated by ADMIN.
2025-06-02 12:10:05,529 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:10:07,354 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: None
2025-06-02 12:10:07,356 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:10:07,357 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'West Wing Stalls' updated.
2025-06-02 12:11:47,827 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 2
2025-06-02 12:11:53,961 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:16:10,020 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:16:10,032 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:16:13,394 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:16:13,394 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:16:13,395 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:16:13,398 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:16:13,398 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:16:13,408 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:16:13,410 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:21:10,523 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:21:10,524 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:21:10,526 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:21:10,532 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:21:10,533 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:21:10,719 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:21:10,720 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:21:10,737 - WARNING - DatabaseManager - database_config:197 - Role 'ADMIN' not found. Creating it now. It's recommended to run add_initial_data.py for full role setup.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:209 - Created 'ADMIN' role.
2025-06-02 12:21:10,740 - INFO - DatabaseManager - database_config:280 - ADMIN user not found. Creating new ADMIN user...
2025-06-02 12:21:10,897 - INFO - DatabaseManager - database_config:292 - Created new ADMIN user with bcrypt password.
2025-06-02 12:21:10,899 - INFO - DatabaseManager - database_config:296 - Linked ADMIN user to ADMIN role.
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:21:10,904 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:21:10,904 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:21:10,906 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:21:10,910 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:21:10,937 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:21:13,090 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:21:24,023 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:21:24,187 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:21:24,187 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,187 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:21:24,205 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:21:24,205 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:21:24,207 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:21:24,208 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:21:24,211 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:21:24,212 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:21:24,369 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:21:24,373 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:21:24,374 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:21:24,377 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:21:24,392 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:21:24,393 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:21:24,395 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:21:24,437 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:21:24,439 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:21:24,486 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:21:24,487 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,489 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:21:24,499 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:21:24,522 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:21:24,523 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:21:24,526 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:21:24,529 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:21:24,533 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:21:28,644 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:21:28,646 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:21:28,647 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:21:28,647 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,649 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:21:28,663 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,663 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:21:28,710 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:21:28,712 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:21:28,714 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:21:28,717 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:21:28,718 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:21:28,718 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:21:28,730 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:21:33,663 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:21:33,674 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:21:41,384 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 12:21:41,384 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 12:21:41,390 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 12:21:54,047 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:21:54,047 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:21:54,048 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:21:54,050 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:21:54,050 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:21:54,060 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:21:54,062 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:25:45,271 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:25:45,271 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:25:45,272 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:25:45,273 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:25:45,273 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:25:45,282 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:25:45,283 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:25:45,286 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:25:45,287 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:25:45,464 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:25:45,467 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:25:45,467 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:25:45,469 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:25:45,469 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:25:45,473 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:25:45,500 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:25:48,179 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:25:58,234 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:25:58,398 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:25:58,398 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,399 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:25:58,410 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:25:58,412 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:25:58,413 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:25:58,414 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:25:58,416 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:25:58,420 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:25:58,574 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:25:58,577 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:25:58,578 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:25:58,583 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:25:58,597 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:25:58,599 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:25:58,641 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:25:58,642 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:25:58,686 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,689 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:25:58,699 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:25:58,723 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:25:58,724 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:25:58,727 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:25:58,730 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:25:58,733 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:26:09,597 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:26:09,599 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:26:09,600 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:26:09,600 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,602 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:26:09,617 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,617 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:26:09,663 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:26:09,665 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:09,666 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:09,669 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:26:09,669 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:26:09,671 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:26:09,682 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:26:14,227 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:26:14,232 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:17,185 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:17,187 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:20,160 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:26:20,162 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:26:20,163 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 2
2025-06-02 12:26:21,505 - INFO - UserManagementScreen - user_management_screen:815 - Loading charge codes data for tab...
2025-06-02 12:26:21,507 - INFO - UserManagementScreen - user_management_screen:848 - Loaded 3 charge codes.
2025-06-02 12:26:26,469 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 3
2025-06-02 12:26:26,470 - INFO - UserManagementScreen - user_management_screen:913 - Loading master owners data for tab...
2025-06-02 12:26:26,472 - INFO - UserManagementScreen - user_management_screen:950 - Loaded 3 master owners.
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:27:02,742 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:27:02,743 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:27:04,382 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:28:05,254 - ERROR - AddEditLocationDialog - add_edit_location_dialog:400 - Error during location save/update: 'description' is an invalid keyword argument for Location
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 380, in validate_and_accept
    success, message, _ = self.controller.create_location(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\location_controller.py", line 170, in create_location
    new_location = LocationModel(
                   ^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2142, in _declarative_constructor
    raise TypeError(
TypeError: 'description' is an invalid keyword argument for Location
2025-06-02 12:31:36,863 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:31:36,882 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:31:38,684 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:31:38,684 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:31:38,686 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:31:38,687 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:31:38,687 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:31:38,700 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:31:38,703 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:38:52,286 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:38:52,288 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:38:52,289 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:38:52,289 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:38:52,295 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:38:52,297 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:38:52,298 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:38:52,300 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:38:52,301 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:38:52,477 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:38:52,478 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:38:52,480 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:38:52,480 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:38:52,480 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:38:52,485 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:38:52,511 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:38:55,045 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:39:18,339 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:39:18,500 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:39:18,500 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,502 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:39:18,513 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:39:18,513 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:39:18,514 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:39:18,516 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:39:18,519 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:39:18,523 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:39:18,684 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:39:18,687 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:39:18,688 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:39:18,692 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:39:18,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:39:18,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:39:18,710 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:39:18,753 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:39:18,754 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:39:18,798 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:39:18,801 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,802 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:39:18,813 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:39:18,840 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:39:18,841 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:39:18,846 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:39:18,847 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:39:18,850 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:39:18,852 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:39:23,159 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:39:23,161 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:39:23,162 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,162 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:39:23,179 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,180 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:39:23,229 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:39:23,230 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:39:23,232 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:39:23,234 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:39:23,234 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:39:23,236 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:39:23,246 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:39:26,933 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:39:26,934 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:39:26,937 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 3 locations with detailed address.
2025-06-02 12:39:28,914 - INFO - AddEditLocationDialog - add_edit_location_dialog:309 - Loaded 60 states into combobox.
2025-06-02 12:40:56,707 - INFO - LocationController - location_controller:186 - Location 'Medford Lakes Farms' (ID: 4) created by ADMIN.
2025-06-02 12:40:56,708 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:40:58,730 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:40:58,732 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:42:03,579 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 12:42:03,589 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 12:42:05,760 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 12:42:05,762 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 12:42:05,763 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 12:42:05,773 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 12:42:05,776 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 12:47:25,837 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 12:47:25,838 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 12:47:25,840 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 12:47:25,840 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 12:47:25,847 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 12:47:25,850 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 12:47:25,852 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 12:47:25,853 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 12:47:26,025 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 12:47:26,028 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 12:47:26,028 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 12:47:26,029 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 12:47:26,029 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 12:47:26,035 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 12:47:26,061 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 12:47:27,882 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 12:47:37,332 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 12:47:37,497 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 12:47:37,497 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,499 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 12:47:37,507 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 12:47:37,509 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 12:47:37,510 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 12:47:37,513 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 12:47:37,518 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 12:47:37,519 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 12:47:37,683 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 12:47:37,686 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 12:47:37,687 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 12:47:37,690 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 12:47:37,707 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 12:47:37,709 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 12:47:37,749 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 12:47:37,750 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 12:47:37,796 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,799 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 12:47:37,812 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 12:47:37,834 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 12:47:37,836 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 12:47:37,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 12:47:37,842 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 12:47:37,844 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 12:47:37,845 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 12:47:40,504 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 12:47:40,505 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 12:47:40,507 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,507 - INFO - UserManagementScreen - user_management_screen:260 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 12:47:40,522 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,523 - INFO - UserManagementScreen - user_management_screen:296 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 12:47:40,571 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 12:47:40,572 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 12:47:40,574 - INFO - UserManagementScreen - user_management_screen:581 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 0
2025-06-02 12:47:40,575 - INFO - UserManagementScreen - user_management_screen:588 - Loading users data for User Management tab (custom list)...
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - user_management_screen:604 - Loaded 1 users into custom list.
2025-06-02 12:47:40,578 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 12:47:40,580 - WARNING - UserManagementScreen - user_management_screen:222 - Docstring not found for UserManagementScreen class.
2025-06-02 12:47:40,580 - INFO - UserManagementScreen - user_management_screen:208 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 12:47:40,593 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:301 - Tab changed to index: 1
2025-06-02 12:47:42,985 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:47:42,988 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 4 locations with detailed address.
2025-06-02 12:47:46,629 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 12:49:22,997 - INFO - LocationController - location_controller:186 - Location 'Mount Laurel Farms' (ID: 5) created by ADMIN.
2025-06-02 12:49:22,998 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-02 12:49:24,983 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - user_management_screen:745 - Loaded 5 locations with detailed address.
2025-06-02 12:49:24,984 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-02 12:50:18,764 - INFO - UserManagementScreen - user_management_screen:764 - Location selected: 4
2025-06-02 13:06:21,002 - INFO - UserManagementScreen - user_management_screen:1060 - User Management screen closing.
2025-06-02 13:06:21,016 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:06:22,654 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:06:22,654 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 13:06:22,656 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:06:22,664 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:06:22,667 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:06:22,669 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:17:55,786 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:17:55,787 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:17:55,787 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:17:55,794 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:17:55,797 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:17:55,970 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:17:55,973 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:17:55,973 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:17:55,974 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:17:55,979 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:17:56,004 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:17:59,063 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:18:09,430 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:18:09,594 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:18:09,596 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,596 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:18:09,606 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:18:09,608 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:18:09,609 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:18:09,612 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:18:09,616 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:18:09,617 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:18:09,780 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:18:09,783 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:18:09,785 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:18:09,789 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:18:09,806 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:18:09,807 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:18:09,849 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:18:09,850 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:18:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:18:09,897 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,900 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:18:09,909 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:18:09,934 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:18:09,939 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 13:18:09,940 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 13:18:09,943 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:18:09,944 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:18:12,923 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:18:12,925 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:18:12,926 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:18:12,926 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,928 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:18:12,942 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,942 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:18:12,990 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:18:12,991 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:18:12,992 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:18:12,996 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:18:12,996 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:18:13,006 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:18:14,894 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:18:14,896 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:14,899 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:16,682 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:18:28,463 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:35,519 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:18:37,067 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:18:45,598 - INFO - LocationController - location_controller:262 - Location 'Mount Laurel Farms' (ID: 5) updated by ADMIN.
2025-06-02 13:18:45,598 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:18:47,079 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:18:47,081 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:18:47,082 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:18:47,084 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Mount Laurel Farms' updated.
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:19:46,294 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:19:46,296 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:19:57,735 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:19:57,738 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:20:03,265 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:20:03,267 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:03,268 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:14,140 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:15,290 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:16,277 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:18,067 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:20,456 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:22,157 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 1
2025-06-02 13:20:24,124 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 3
2025-06-02 13:20:27,789 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 4
2025-06-02 13:20:30,382 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 5
2025-06-02 13:20:31,451 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: 2
2025-06-02 13:20:33,552 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-02 13:20:50,839 - INFO - LocationController - location_controller:262 - Location 'Quail Pond Farm' (ID: 2) updated by ADMIN.
2025-06-02 13:20:50,840 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location updated successfully.
2025-06-02 13:20:52,627 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:20:52,628 - INFO - UserManagementScreen - user_management_screen:785 - Location selected: None
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:20:52,630 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Quail Pond Farm' updated.
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:20:59,748 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:20:59,751 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 1
2025-06-02 13:21:03,866 - INFO - UserManagementScreen - user_management_screen:724 - Loading locations data for tab...
2025-06-02 13:21:03,868 - INFO - UserManagementScreen - user_management_screen:767 - Loaded 5 locations with detailed address.
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:21:04,992 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:21:12,680 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:21:12,682 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:21:14,637 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 2
2025-06-02 13:21:20,079 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:28:57,523 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 2
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: None
2025-06-02 13:28:57,524 - INFO - UserManagementScreen - user_management_screen:836 - Loading charge codes data for tab...
2025-06-02 13:28:57,527 - INFO - UserManagementScreen - user_management_screen:869 - Loaded 3 charge codes.
2025-06-02 13:29:13,096 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: 2
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:29:59,752 - INFO - UserManagementScreen - user_management_screen:888 - Charge Code selected: None
2025-06-02 13:29:59,753 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:29:59,755 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:38:43,295 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:38:43,307 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:38:45,573 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 13:38:45,573 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 13:38:45,580 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 13:39:18,609 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 13:39:18,609 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,612 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,614 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 13:39:18,623 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:18,624 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-02 13:39:20,375 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,375 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:39:20,379 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:39:20,382 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:39:20,383 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:39:20,384 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:39:20,389 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 13:39:25,637 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Soul Rebel
2025-06-02 13:51:49,712 - INFO - OwnersTab - owners_tab:341 - Create & link owner dialog cancelled.
2025-06-02 13:51:52,985 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:51:52,985 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:51:52,986 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:51:52,986 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:51:52,988 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:51:53,019 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:51:53,019 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:52:32,845 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:52:32,845 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:52:32,846 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:52:32,852 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:52:32,855 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:52:32,857 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:52:33,033 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:52:33,036 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:52:33,036 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:52:33,037 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:52:33,040 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:52:33,069 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:52:35,293 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:52:45,127 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:52:45,289 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:52:45,289 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,289 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:52:45,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:52:45,301 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:52:45,302 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:52:45,304 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:52:45,309 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:52:45,310 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:52:45,467 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:52:45,472 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:52:45,473 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:52:45,477 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:52:45,492 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:52:45,493 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:52:45,494 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:52:45,537 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:52:45,539 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:52:45,584 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:52:45,587 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:52:45,600 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:52:45,624 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:52:45,625 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:52:45,633 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:52:45,637 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:52:45,639 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:52:45,642 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:52:45,649 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:52:47,934 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:52:47,937 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:52:47,937 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:52:47,938 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:52:47,938 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,940 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:52:47,955 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:47,956 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:52:48,010 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:52:48,012 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:52:48,013 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:52:48,018 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:52:48,018 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:52:48,019 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:52:48,032 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:52:51,980 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:52:51,982 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:53:28,793 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:53:28,794 - INFO - EDSIApplication - main:239 - User Management Screen is already visible. Activating and raising.
2025-06-02 13:53:31,900 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:53:31,909 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:53:36,516 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:53:36,518 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:53:36,518 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:53:36,519 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:53:36,559 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:53:36,564 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:54:39,831 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:54:39,832 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:54:39,832 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:54:39,840 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:54:39,844 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:54:39,845 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:54:40,018 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:54:40,021 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:54:40,022 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:54:40,022 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:54:40,027 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:54:40,052 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:54:42,082 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:54:51,067 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:54:51,229 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:54:51,230 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,230 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:54:51,240 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:54:51,241 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:54:51,242 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:54:51,244 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:54:51,247 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:54:51,250 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:54:51,252 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:54:51,413 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:54:51,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:54:51,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:54:51,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:54:51,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:54:51,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:54:51,484 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:54:51,486 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:54:51,531 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:54:51,534 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:54:51,546 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:54:51,567 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:54:51,568 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:54:51,576 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:54:51,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:54:51,583 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:54:51,592 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:54:53,366 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:54:53,367 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:54:53,369 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:54:53,369 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,370 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:54:53,387 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,387 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:54:53,440 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:54:53,442 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:54:53,443 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:54:53,444 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:54:53,447 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:54:53,447 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:54:53,459 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:54:56,192 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:54:56,194 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:55:00,933 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 13:55:06,604 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 1
2025-06-02 13:55:34,270 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 13:55:34,283 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 13:55:37,056 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 13:55:37,056 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 13:55:37,059 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 13:55:37,059 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 13:55:37,070 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 13:55:37,072 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 13:58:48,292 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 13:58:48,292 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 13:58:48,293 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 13:58:48,293 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 13:58:48,300 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 13:58:48,303 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 13:58:48,305 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 13:58:48,478 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 13:58:48,481 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 13:58:48,482 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 13:58:48,482 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 13:58:48,486 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 13:58:48,512 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 13:58:55,263 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 13:59:11,072 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 13:59:11,234 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 13:59:11,234 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 13:59:11,245 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 13:59:11,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 13:59:11,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 13:59:11,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 13:59:11,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 13:59:11,414 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 13:59:11,417 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 13:59:11,419 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 13:59:11,422 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 13:59:11,437 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 13:59:11,438 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 13:59:11,440 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 13:59:11,482 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 13:59:11,483 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 13:59:11,528 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 13:59:11,532 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 13:59:11,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 13:59:11,565 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 13:59:11,566 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 13:59:11,574 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 13:59:11,578 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 13:59:11,580 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 13:59:11,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 13:59:11,590 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 13:59:13,543 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 13:59:13,546 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 13:59:13,548 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 13:59:13,550 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,550 - INFO - UserManagementScreen - user_management_screen:254 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 13:59:13,565 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,565 - INFO - UserManagementScreen - user_management_screen:288 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 13:59:13,620 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 13:59:13,621 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 13:59:13,622 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:582 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 0
2025-06-02 13:59:13,623 - INFO - UserManagementScreen - user_management_screen:589 - Loading users data for User Management tab (custom list)...
2025-06-02 13:59:13,626 - INFO - UserManagementScreen - user_management_screen:605 - Loaded 1 users into custom list.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 13:59:13,627 - WARNING - UserManagementScreen - user_management_screen:216 - Docstring not found for UserManagementScreen class.
2025-06-02 13:59:13,627 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 13:59:13,640 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:293 - Tab changed to index: 3
2025-06-02 13:59:14,783 - INFO - UserManagementScreen - user_management_screen:936 - Loading master owners data for tab...
2025-06-02 13:59:14,785 - INFO - UserManagementScreen - user_management_screen:973 - Loaded 3 master owners.
2025-06-02 13:59:17,507 - INFO - UserManagementScreen - user_management_screen:989 - Master Owner selected: 3
2025-06-02 14:01:08,092 - INFO - UserManagementScreen - user_management_screen:1082 - User Management screen closing.
2025-06-02 14:01:08,128 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:01:09,483 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:01:09,485 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 14:01:09,486 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 14:01:09,488 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:01:09,509 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:01:09,516 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:01:09,521 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:04:29,314 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:04:29,316 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:04:29,317 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:04:29,323 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:04:29,325 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:04:29,326 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:04:29,328 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:04:29,502 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:04:29,505 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:04:29,507 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:04:29,507 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:04:29,512 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:04:29,543 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:04:32,966 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:04:42,421 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:04:42,585 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:04:42,585 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,586 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:04:42,595 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:04:42,595 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:04:42,597 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:04:42,599 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:04:42,600 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:04:42,606 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:04:42,768 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:04:42,772 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:04:42,773 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:04:42,777 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:04:42,792 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:04:42,793 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:04:42,795 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:04:42,837 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:04:42,839 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:04:42,840 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:04:42,884 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:04:42,887 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:04:42,899 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:04:42,920 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:04:42,922 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:04:42,929 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:04:42,933 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:04:42,934 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:04:42,936 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:04:42,943 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:04:45,720 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:04:45,723 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:04:45,725 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,725 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:04:45,742 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,742 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:04:45,797 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:04:45,798 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:04:45,800 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:04:45,803 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:04:45,804 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:04:45,804 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:04:45,815 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:04:48,243 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:04:48,246 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:04:50,710 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 2
2025-06-02 14:04:51,517 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 3
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:04:53,466 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:05:40,423 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:47,062 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 158, in validate_owner_data
    if len(owner_data.get("address_line2", "")) > 100:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-06-02 14:07:54,138 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:07:54,140 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:08:08,400 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 14:08:08,430 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 14:08:11,482 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-02 14:08:11,482 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-02 14:08:11,484 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 14:08:11,484 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 14:08:11,485 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 14:08:11,496 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 14:08:11,499 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 14:47:59,417 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 14:47:59,417 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 14:47:59,419 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 14:47:59,419 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 14:47:59,426 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 14:47:59,429 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 14:47:59,430 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 14:47:59,605 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 14:47:59,606 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 14:47:59,608 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 14:47:59,609 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 14:47:59,614 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 14:47:59,644 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 14:48:02,704 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 14:48:14,309 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 14:48:14,474 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 14:48:14,474 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,475 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 14:48:14,486 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 14:48:14,487 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 14:48:14,489 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 14:48:14,490 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 14:48:14,496 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 14:48:14,642 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 14:48:14,645 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 14:48:14,647 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 14:48:14,651 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 14:48:14,666 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 14:48:14,668 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 14:48:14,710 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 14:48:14,712 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 14:48:14,755 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 14:48:14,759 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 14:48:14,770 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 14:48:14,795 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 14:48:14,797 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 14:48:14,804 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 14:48:14,809 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 14:48:14,812 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 14:48:14,819 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 14:48:17,167 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 14:48:17,168 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 14:48:17,170 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 14:48:17,171 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 14:48:17,172 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,172 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 14:48:17,189 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,189 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 14:48:17,243 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 14:48:17,245 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 14:48:17,246 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 14:48:17,249 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 14:48:17,251 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 14:48:17,251 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 14:48:17,264 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 14:48:18,486 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 14:48:18,489 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 14:48:22,169 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 14:50:10,068 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
    if email_val and not re.match(
                         ^^
NameError: name 're' is not defined
2025-06-02 15:05:27,003 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_owner_dialog.py", line 538, in validate_and_accept
    is_valid, errors = self.owner_controller.validate_owner_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 206, in validate_owner_data
NameError: name 're' is not defined
2025-06-02 15:05:52,060 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:05:52,090 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:05:52,800 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:05:52,800 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:05:52,802 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:05:52,819 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:05:52,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:05:52,830 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:06:02,115 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:06:02,115 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:06:02,116 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:06:02,116 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:06:02,128 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:06:02,155 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:06:02,156 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:06:02,343 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:06:02,345 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:06:02,346 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:06:02,346 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:06:02,358 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:06:02,390 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:06:06,067 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:06:15,073 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:06:15,235 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:06:15,235 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,235 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:06:15,246 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:06:15,246 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:06:15,247 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:06:15,249 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:06:15,250 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:06:15,256 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:06:16,420 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:06:16,423 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:06:16,425 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:06:16,428 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:06:16,443 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:06:16,445 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:06:16,446 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:06:16,489 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:06:16,490 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:06:16,542 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:06:16,545 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:06:16,547 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:06:16,559 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:06:16,582 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:06:16,584 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:06:16,590 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:06:16,596 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:06:16,599 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:06:16,606 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:06:16,609 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:06:18,734 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:06:18,737 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:06:18,737 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,738 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:06:18,754 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,756 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:06:18,808 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:06:18,809 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:06:18,811 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:06:18,812 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:06:18,814 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:06:18,816 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:06:18,816 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:06:18,828 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:06:20,223 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 15:06:20,224 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:06:20,226 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 15:06:22,013 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:06:22,014 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:07:44,507 - INFO - OwnerController - owner_controller:292 - Master Owner 'optional (bradley coulter)' (ID: 4) created by ADMIN.
2025-06-02 15:07:44,507 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner created successfully.
2025-06-02 15:07:46,346 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:07:46,349 - INFO - UserManagementScreen - base_view:322 - Status update: Owner added successfully.
2025-06-02 15:07:50,082 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: 4
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-02 15:07:51,462 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-02 15:08:05,784 - INFO - OwnerController - owner_controller:383 - Master Owner 'optional (bradley coulter)' (ID: 4) updated by ADMIN.
2025-06-02 15:08:05,786 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner updated successfully.
2025-06-02 15:08:07,759 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 15:08:07,760 - INFO - UserManagementScreen - user_management_screen:1013 - Master Owner selected: None
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 4 master owners.
2025-06-02 15:08:07,762 - INFO - UserManagementScreen - base_view:322 - Status update: Owner 'optional' updated successfully.
2025-06-02 15:08:30,988 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:08:31,003 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:08:35,215 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-02 15:08:38,440 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 4, Display: optional (bradley coulter) [bsc001]
2025-06-02 15:08:41,524 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 4 with 100.0% to horse ID 1
2025-06-02 15:08:41,533 - INFO - HorseController - horse_controller:493 - Owner ID 4 added to horse ID 1 by ADMIN.
2025-06-02 15:08:41,533 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 15:08:43,574 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 15:08:43,575 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:08:43,577 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:08:43,580 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:14:21,897 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:14:21,899 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:14:21,899 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:14:21,900 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:14:21,902 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:14:21,902 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,903 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:14:21,918 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,919 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:14:21,974 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:14:21,976 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:14:21,977 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:14:21,979 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:14:21,980 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:14:21,980 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:14:21,992 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:14:24,332 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:14:24,333 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:14:26,907 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 907, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-02 15:15:45,554 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:15:45,568 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:15:46,886 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:15:46,886 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:15:46,887 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:15:46,897 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:15:46,899 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:15:46,899 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:15:51,467 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:15:51,467 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:15:51,468 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:15:51,468 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:15:51,475 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:15:51,478 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:15:51,480 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:15:51,658 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:15:51,661 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:15:51,662 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:15:51,662 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:15:51,667 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:15:51,701 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:15:53,437 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:16:02,718 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:16:02,882 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:16:02,882 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,883 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:16:02,893 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:16:02,893 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:16:02,895 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:16:02,897 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:16:02,898 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:16:02,904 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:16:03,060 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:16:03,064 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:16:03,069 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:16:03,084 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:16:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:16:03,129 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:16:03,130 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:16:03,176 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:16:03,179 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:16:03,192 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:16:03,210 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:16:03,212 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:16:03,218 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:16:03,224 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:16:03,225 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:16:03,228 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:16:03,234 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:16:03,235 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:16:06,452 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:16:06,454 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:16:06,455 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,455 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:16:06,473 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,473 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:16:06,529 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:16:06,531 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:16:06,532 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:16:06,533 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:16:06,537 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:16:06,539 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:16:06,539 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:16:06,550 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:16:10,202 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:16:10,204 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:16:29,372 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:19:55,037 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:19:55,956 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 3
2025-06-02 15:19:56,669 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:20:01,653 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:20:03,505 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:20:09,473 - ERROR - AddEditChargeCodeDialog - add_edit_charge_code_dialog:403 - Error during charge code save/update: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 380, in validate_and_accept
    success, message = self.controller.update_charge_code(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ChargeCodeController.update_charge_code() takes 3 positional arguments but 4 were given
2025-06-02 15:23:55,720 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:23:55,753 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:23:56,633 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:23:56,634 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:23:56,636 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:23:56,668 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:23:56,672 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:23:56,673 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:28:12,582 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:28:12,582 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:28:12,582 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:28:12,590 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:28:12,593 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:28:12,770 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:28:12,773 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:28:12,773 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:28:12,775 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:28:12,779 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:28:12,815 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:06,881 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:29:06,898 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:29:06,903 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:29:24,935 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:29:24,935 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:29:24,936 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:29:24,936 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:29:24,944 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:29:24,945 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:29:24,947 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:29:25,126 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:29:25,129 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:29:25,129 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:29:25,129 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:29:25,135 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:29:25,170 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:29:26,654 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:29:36,021 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:29:36,183 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:29:36,184 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,184 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:29:36,196 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:29:36,196 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:29:36,197 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:29:36,199 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:29:36,200 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:29:36,206 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:29:36,362 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:29:36,365 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:29:36,367 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:29:36,370 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:29:36,385 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:29:36,387 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:29:36,432 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:29:36,478 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:29:36,480 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:29:36,481 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:29:36,492 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:29:36,512 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:29:36,520 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:29:36,524 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:29:36,526 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:29:36,529 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:29:36,536 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:29:36,538 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:29:38,799 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:29:38,799 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:29:38,800 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:29:38,802 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,802 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:29:38,819 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,819 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:29:38,875 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:29:38,876 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:29:38,878 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:29:38,881 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:29:38,882 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:29:38,882 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:29:38,896 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:29:41,089 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:29:41,090 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:29:41,093 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:29:43,612 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:29:49,282 - ERROR - ChargeCodeController - charge_code_controller:309 - Error updating charge code ID 1: name 'datetime' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 292, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^
NameError: name 'datetime' is not defined
2025-06-02 15:30:47,872 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:30:47,904 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:30:48,583 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:30:48,583 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:30:48,584 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:30:48,602 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:30:48,608 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:30:48,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:30:58,872 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:30:58,872 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:30:58,872 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:30:58,880 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:30:58,883 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:30:58,884 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:30:59,056 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:30:59,057 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:30:59,059 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:30:59,059 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:30:59,059 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:30:59,063 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:30:59,093 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:31:00,407 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:31:09,509 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:31:09,672 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:31:09,672 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,673 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:31:09,687 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:31:09,689 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:31:09,690 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:31:09,693 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:31:09,697 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:31:09,852 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:31:09,854 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:31:09,856 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:31:09,860 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:31:09,876 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:31:09,877 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:31:09,879 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:31:09,920 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:31:09,922 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:31:09,923 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:31:09,967 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:31:09,970 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:31:09,980 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:31:10,005 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:31:10,007 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:31:10,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:31:10,019 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:31:10,020 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:31:10,023 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:31:10,029 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:31:12,188 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:31:12,189 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:31:12,191 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:31:12,191 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,192 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:31:12,209 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,209 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:31:12,264 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:31:12,266 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:31:12,267 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:31:12,270 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:31:12,270 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:31:12,272 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:31:12,285 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:31:15,487 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:31:15,490 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:31:16,890 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:31:22,765 - ERROR - ChargeCodeController - charge_code_controller:311 - Error updating charge code ID 1: module 'datetime' has no attribute 'utcnow'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 294, in update_charge_code
    charge_code_to_update.modified_date = datetime.utcnow()  # ADDED audit field
                                          ^^^^^^^^^^^^^^^
AttributeError: module 'datetime' has no attribute 'utcnow'
2025-06-02 15:31:49,210 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:31:49,222 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:31:49,813 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:31:49,813 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:31:49,814 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:31:49,823 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:31:49,826 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:31:49,826 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:34:56,903 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:34:56,903 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:34:56,905 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:34:56,905 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:34:56,912 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:34:56,914 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:34:56,915 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:34:57,092 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:34:57,094 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:34:57,094 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:34:57,095 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:34:57,095 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:34:57,100 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:34:57,138 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:34:59,593 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:35:12,820 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:35:12,982 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:35:12,984 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,984 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:35:12,995 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:35:12,995 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:35:12,997 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:35:12,998 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:35:13,002 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:35:13,008 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:35:13,155 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:35:13,158 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:35:13,160 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:35:13,164 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:35:13,179 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:35:13,181 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:35:13,182 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:35:13,224 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:35:13,226 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:35:13,272 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:35:13,274 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:35:13,275 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:35:13,285 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:35:13,306 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:35:13,313 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:35:13,318 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:35:13,319 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:35:13,322 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:35:13,330 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:35:13,332 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:35:14,547 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:35:14,548 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:35:14,550 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:35:14,552 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,552 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:35:14,569 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,570 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:35:14,624 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:35:14,625 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 15:35:14,627 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 15:35:14,630 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:35:14,630 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:35:14,631 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:35:14,647 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 15:35:17,088 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:17,091 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:19,223 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:24,863 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '9991' (ID: 1) updated by ADMIN.
2025-06-02 15:35:24,863 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:26,752 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:26,753 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:26,755 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:26,756 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '9991' updated.
2025-06-02 15:35:40,470 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 1
2025-06-02 15:35:46,988 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:35:52,208 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:35:52,208 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:35:53,984 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 15:35:53,986 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: None
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 3 charge codes.
2025-06-02 15:35:53,987 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:35:55,869 - INFO - UserManagementScreen - user_management_screen:900 - Charge Code selected: 2
2025-06-02 15:36:21,535 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 15:36:21,544 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:36:22,456 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:36:22,456 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:36:22,458 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:36:22,468 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:36:22,470 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:36:22,472 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 15:48:17,220 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 15:48:17,220 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 15:48:17,220 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 15:48:17,228 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 15:48:17,231 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 15:48:17,232 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 15:48:17,408 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 15:48:17,409 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 15:48:17,409 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 15:48:17,411 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 15:48:17,415 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 15:48:17,445 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 15:48:19,416 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 15:48:28,117 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 15:48:28,280 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 15:48:28,280 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,282 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 15:48:28,291 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 15:48:28,292 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 15:48:28,294 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 15:48:28,298 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 15:48:28,300 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 15:48:28,438 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 15:48:28,442 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 15:48:28,447 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 15:48:28,462 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 15:48:28,463 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 15:48:28,504 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 15:48:28,505 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 15:48:28,550 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 15:48:28,553 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 15:48:28,564 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 15:48:28,589 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 15:48:28,596 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 15:48:28,601 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 15:48:28,602 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 15:48:28,604 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 15:48:28,613 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 15:48:30,913 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 15:48:30,914 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 15:48:30,914 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 15:48:30,916 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 15:48:30,916 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,917 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 15:48:30,935 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,937 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 15:48:30,991 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 15:48:30,992 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 15:48:30,994 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 15:48:30,997 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 15:48:30,997 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 15:48:31,010 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 15:48:33,457 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:33,460 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:35,194 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: 2
2025-06-02 15:48:39,694 - INFO - ChargeCodeController - charge_code_controller:268 - Charge Code '8920' (ID: 2) updated by ADMIN.
2025-06-02 15:48:39,694 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 15:48:41,421 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 15:48:41,422 - INFO - UserManagementScreen - user_management_screen:907 - Charge Code selected: None
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 3 charge codes.
2025-06-02 15:48:41,424 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '8920' updated.
2025-06-02 15:49:05,320 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 15:49:05,349 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 15:49:06,594 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 15:49:06,596 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 15:49:06,597 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 15:49:06,606 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 15:49:06,609 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 15:49:06,612 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:50:06,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:50:06,215 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:50:06,215 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:50:06,222 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:50:06,225 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:50:06,401 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:50:06,402 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:50:06,402 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:50:06,402 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:50:06,409 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:50:06,440 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:50:15,634 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:50:25,267 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:50:25,427 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:50:25,427 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,428 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:50:25,438 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:50:25,438 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:50:25,440 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:50:25,442 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:50:25,444 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:50:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:50:25,597 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:50:25,600 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:50:25,602 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:50:25,605 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:50:25,620 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:50:25,622 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:50:25,663 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:50:25,664 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:50:25,666 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:50:25,710 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:50:25,724 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:50:25,747 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:50:25,749 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:50:25,753 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:50:25,756 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:50:25,760 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:50:30,599 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:50:30,601 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:50:30,602 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:50:30,602 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,604 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:50:30,621 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,622 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:50:30,669 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:50:30,671 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:50:30,672 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:50:30,674 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:50:30,675 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:50:30,675 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:50:30,689 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:51:07,667 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:51:07,669 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:51:07,703 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:52:07,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:52:07,081 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:52:07,904 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:52:07,905 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:52:07,916 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:52:07,919 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:52:07,919 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 17:53:52,823 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 17:53:52,823 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 17:53:52,823 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 17:53:52,831 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 17:53:52,834 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 17:53:52,835 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 17:53:53,015 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 17:53:53,017 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 17:53:53,018 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 17:53:53,018 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 17:53:53,024 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 17:53:53,056 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 17:53:54,659 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 17:54:05,298 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 17:54:05,462 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 17:54:05,462 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,462 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 17:54:05,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 17:54:05,474 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 17:54:05,476 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 17:54:05,479 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 17:54:05,484 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 17:54:05,649 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 17:54:05,652 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 17:54:05,653 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 17:54:05,658 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 17:54:05,674 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 17:54:05,676 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 17:54:05,677 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 17:54:05,679 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 17:54:05,723 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 17:54:05,724 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 17:54:05,769 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,772 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 17:54:05,784 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 17:54:05,806 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:05,811 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-02 17:54:05,812 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 17:54:05,817 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 17:54:10,133 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-02 17:54:10,133 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-02 17:54:10,140 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-02 17:54:31,030 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-02 17:54:31,030 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,032 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-02 17:54:31,041 - INFO - HorseController - horse_controller:179 - Horse 'Loren 60' (ID: 1) created successfully by ADMIN.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Loren 60' created successfully.
2025-06-02 17:54:31,042 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Loren 60' created successfully.
2025-06-02 17:54:32,690 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,690 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 17:54:32,692 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 17:54:32,695 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 17:54:32,696 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:32,696 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:32,702 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:32,703 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-02 17:54:35,784 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Loren 60
2025-06-02 17:54:38,420 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-02 17:54:40,820 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-02 17:54:40,827 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-02 17:54:40,829 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-02 17:54:42,609 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:42,612 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:42,614 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:45,539 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Loren 60
2025-06-02 17:54:45,544 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-02 17:54:46,680 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 5, Display: Quail Pond Farm (Ocala, FL)
2025-06-02 17:54:47,784 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 5 ('Quail Pond Farm') to Horse ID 1
2025-06-02 17:54:47,792 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 5 by ADMIN.
2025-06-02 17:54:47,792 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 5 to Horse ID 1. Emitting signal.
2025-06-02 17:54:47,792 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 5, 'name': 'Quail Pond Farm'}
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-02 17:54:47,793 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 17:54:47,795 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 17:54:47,798 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 17:54:47,799 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 17:55:09,463 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 17:55:09,464 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 17:55:09,466 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,466 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 17:55:09,485 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,485 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 17:55:09,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 17:55:09,544 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 17:55:09,545 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 17:55:09,548 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 17:55:09,550 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 17:55:09,550 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 17:55:09,564 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 17:55:13,427 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 1
2025-06-02 17:55:13,428 - INFO - UserManagementScreen - user_management_screen:738 - Loading locations data for tab...
2025-06-02 17:55:13,432 - INFO - UserManagementScreen - user_management_screen:777 - Loaded 5 locations with detailed address.
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:14,577 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:14,580 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:14,590 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:55:15,950 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:55:15,953 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:55:18,402 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:55:18,403 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:55:18,412 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:56:27,859 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 3
2025-06-02 17:56:27,861 - INFO - UserManagementScreen - user_management_screen:960 - Loading master owners data for tab...
2025-06-02 17:56:27,865 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 master owners.
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 17:56:29,867 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 17:56:29,869 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 17:56:29,876 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 17:57:10,702 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 17:57:10,732 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 17:57:11,871 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 17:57:11,872 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 17:57:11,874 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 17:57:11,882 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 17:57:11,902 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 17:57:11,902 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:02:37,929 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:02:37,929 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:02:37,930 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:02:37,930 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:02:37,936 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:02:37,937 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:02:37,939 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:02:37,941 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:02:38,117 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:02:38,120 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:02:38,121 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:02:38,121 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:02:38,126 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:02:38,157 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:02:54,422 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:03:05,250 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:03:05,414 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:03:05,414 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,415 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:03:05,424 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:03:05,425 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:03:05,427 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:03:05,429 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:03:05,430 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:03:05,436 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:03:05,588 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:03:05,592 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:03:05,596 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:03:05,614 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:03:05,616 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:03:05,659 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:03:05,660 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:03:05,707 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:03:05,710 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:03:05,719 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:03:05,739 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:03:05,740 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:03:05,748 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:03:05,752 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:03:05,755 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:03:05,766 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:03:11,880 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:03:11,882 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:03:11,883 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:03:11,884 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,884 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:03:11,903 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,903 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:03:11,958 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:03:11,959 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:03:11,961 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:03:11,962 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:03:11,965 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:03:11,965 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:03:11,967 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:03:11,979 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:03:16,672 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:03:16,675 - ERROR - ChargeCodeController - charge_code_controller:203 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.category_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 201, in get_all_charge_codes
    return query.order_by(ChargeCode.category, ChargeCode.code).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.category_id
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by 
FROM charge_codes ORDER BY charge_code_categories.category_id = charge_codes.category_id, charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-02 18:03:16,685 - INFO - UserManagementScreen - user_management_screen:888 - Loaded 0 charge codes.
2025-06-02 18:06:41,293 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:06:41,308 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:06:42,014 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:06:42,014 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:06:42,016 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:06:42,026 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:06:42,029 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:06:42,032 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 18:39:24,532 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 18:39:24,533 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 18:39:24,533 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 18:39:24,540 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 18:39:24,542 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 18:39:24,544 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 18:39:24,722 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 18:39:24,723 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 18:39:24,724 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 18:39:24,724 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 18:39:24,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 18:39:24,729 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 18:39:24,759 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 18:39:27,274 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 18:39:37,057 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 18:39:37,222 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 18:39:37,222 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,222 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 18:39:37,234 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 18:39:37,234 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 18:39:37,235 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 18:39:37,237 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 18:39:37,240 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 18:39:37,245 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 18:39:37,410 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 18:39:37,413 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 18:39:37,415 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 18:39:37,419 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 18:39:37,434 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 18:39:37,436 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 18:39:37,437 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 18:39:37,479 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 18:39:37,480 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 18:39:37,527 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 18:39:37,530 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 18:39:37,542 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 18:39:37,564 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 18:39:37,565 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 18:39:37,572 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 18:39:37,577 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 18:39:37,579 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 18:39:37,582 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 18:39:37,589 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 18:39:40,070 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 18:39:40,072 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 18:39:40,073 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 18:39:40,073 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,075 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 18:39:40,094 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,094 - INFO - UserManagementScreen - user_management_screen:283 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 18:39:40,148 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 18:39:40,149 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 18:39:40,151 - INFO - UserManagementScreen - user_management_screen:599 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 0
2025-06-02 18:39:40,152 - INFO - UserManagementScreen - user_management_screen:606 - Loading users data for User Management tab (custom list)...
2025-06-02 18:39:40,154 - INFO - UserManagementScreen - user_management_screen:622 - Loaded 1 users into custom list.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 18:39:40,155 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 18:39:40,155 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 18:39:40,172 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:288 - Tab changed to index: 2
2025-06-02 18:39:41,959 - INFO - UserManagementScreen - user_management_screen:846 - Loading charge codes data for tab...
2025-06-02 18:39:41,989 - ERROR - UserManagementScreen - user_management_screen:890 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 864, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:39:41,991 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 18:46:20,069 - INFO - UserManagementScreen - user_management_screen:1146 - User Management screen closing.
2025-06-02 18:46:20,080 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 18:46:21,963 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 18:46:21,963 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 18:46:21,965 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 18:46:21,972 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 18:46:21,975 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 18:46:21,977 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 19:19:24,390 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 19:19:24,390 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 19:19:24,391 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 19:19:24,391 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 19:19:24,397 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 19:19:24,400 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 19:19:24,402 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 19:19:24,578 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 19:19:24,581 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 19:19:24,582 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 19:19:24,583 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 19:19:24,587 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 19:19:24,617 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 19:19:26,506 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 19:19:35,840 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 19:19:35,999 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 19:19:36,001 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,002 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 19:19:36,012 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 19:19:36,013 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 19:19:36,014 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 19:19:36,017 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 19:19:36,020 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 19:19:36,022 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 19:19:36,167 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 19:19:36,170 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 19:19:36,172 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 19:19:36,176 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 19:19:36,191 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 19:19:36,192 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 19:19:36,235 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 19:19:36,238 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 19:19:36,284 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 19:19:36,286 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 19:19:36,287 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 19:19:36,298 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 19:19:36,326 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 19:19:36,333 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 19:19:36,339 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 19:19:36,342 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 19:19:36,350 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 19:19:38,375 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 19:19:38,376 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 19:19:38,378 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 19:19:38,380 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,380 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 19:19:38,396 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,398 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 19:19:38,453 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 19:19:38,454 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 19:19:38,456 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 19:19:38,459 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 19:19:38,460 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 19:19:38,460 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 19:19:38,475 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 19:19:40,622 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 19:19:40,640 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:40,642 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 19:19:48,594 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 19:19:48,603 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 19:19:49,350 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 19:19:49,350 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 19:19:49,352 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 19:19:49,362 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 19:19:49,365 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 19:19:49,365 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:30:46,308 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:30:46,308 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:30:46,310 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:30:46,310 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:30:46,322 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:30:46,325 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:30:46,327 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:30:46,507 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:30:46,509 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:30:46,510 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:30:46,510 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:30:46,523 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:30:46,556 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:30:48,950 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:31:00,493 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:31:00,655 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:31:00,656 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,656 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:31:00,668 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:31:00,670 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:31:00,672 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:31:00,673 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:31:00,674 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:31:00,679 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:31:01,872 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:31:01,877 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:31:01,879 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:31:01,883 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:31:01,898 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:31:01,899 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:31:01,901 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:31:01,943 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:31:01,945 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:31:01,946 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:31:01,992 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:31:01,995 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:31:01,996 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:31:02,008 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:31:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:31:02,046 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:31:02,052 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:31:02,054 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:31:02,057 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:31:02,064 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:31:06,900 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:31:06,901 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:31:06,903 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:31:06,904 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,904 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:31:06,921 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,922 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:31:06,978 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:31:06,979 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:31:06,981 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:31:06,982 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:31:06,985 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:31:06,985 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:31:07,000 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 1
2025-06-02 20:31:11,285 - INFO - UserManagementScreen - user_management_screen:740 - Loading locations data for tab...
2025-06-02 20:31:11,288 - INFO - UserManagementScreen - user_management_screen:779 - Loaded 5 locations with detailed address.
2025-06-02 20:31:12,575 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 3
2025-06-02 20:31:12,577 - INFO - UserManagementScreen - user_management_screen:953 - Loading master owners data for tab...
2025-06-02 20:31:12,578 - INFO - UserManagementScreen - user_management_screen:997 - Loaded 3 master owners.
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:31:13,587 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:31:13,614 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:31:13,623 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:41:29,052 - INFO - UserManagementScreen - user_management_screen:1149 - User Management screen closing.
2025-06-02 20:41:29,062 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 20:41:30,603 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 20:41:30,603 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 20:41:30,604 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 20:41:30,612 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 20:41:30,615 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 20:41:30,616 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 20:41:38,587 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:41:38,588 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:41:38,590 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:41:38,597 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:41:38,600 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:41:38,602 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:41:38,779 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:41:38,782 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:41:38,783 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:41:38,783 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:41:38,784 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:41:38,789 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:41:38,820 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:41:40,783 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:41:51,299 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:41:51,463 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:41:51,463 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,464 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:41:51,474 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:41:51,474 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:41:51,476 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:41:51,477 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:41:51,480 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:41:51,485 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:41:51,635 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:41:51,638 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:41:51,639 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:41:51,642 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:41:51,659 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:41:51,660 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:41:51,703 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:41:51,705 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:41:51,752 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:41:51,754 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:41:51,767 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:41:51,790 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:41:51,791 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:41:51,799 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:41:51,803 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:41:51,804 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:41:51,806 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:41:51,815 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:41:51,816 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:42:49,361 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 20:42:49,361 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 20:42:49,362 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 20:42:49,362 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 20:42:49,369 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 20:42:49,370 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 20:42:49,373 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 20:42:49,554 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 20:42:49,556 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 20:42:49,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 20:42:49,557 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 20:42:49,562 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 20:42:49,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 20:42:51,762 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 20:43:00,438 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 20:43:00,599 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 20:43:00,599 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,600 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 20:43:00,611 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 20:43:00,611 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 20:43:00,612 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 20:43:00,614 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 20:43:00,617 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 20:43:00,622 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 20:43:00,623 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 20:43:00,776 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 20:43:00,779 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 20:43:00,780 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 20:43:00,785 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 20:43:00,802 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 20:43:00,803 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 20:43:00,845 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 20:43:00,846 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 20:43:00,893 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 20:43:00,894 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 20:43:00,896 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 20:43:00,906 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 20:43:00,929 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 20:43:00,937 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 20:43:00,942 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 20:43:00,945 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 20:43:00,954 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 20:43:02,854 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 20:43:02,856 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 20:43:02,857 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 20:43:02,859 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,859 - INFO - UserManagementScreen - user_management_screen:256 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 20:43:02,875 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,877 - INFO - UserManagementScreen - user_management_screen:286 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 20:43:02,932 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:601 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 0
2025-06-02 20:43:02,933 - INFO - UserManagementScreen - user_management_screen:608 - Loading users data for User Management tab (custom list)...
2025-06-02 20:43:02,936 - INFO - UserManagementScreen - user_management_screen:624 - Loaded 1 users into custom list.
2025-06-02 20:43:02,938 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 20:43:02,938 - WARNING - UserManagementScreen - user_management_screen:218 - Docstring not found for UserManagementScreen class.
2025-06-02 20:43:02,939 - INFO - UserManagementScreen - user_management_screen:204 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 20:43:02,955 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 20:43:05,663 - INFO - UserManagementScreen - user_management_screen:291 - Tab changed to index: 2
2025-06-02 20:43:05,665 - INFO - UserManagementScreen - user_management_screen:848 - Loading charge codes data for tab...
2025-06-02 20:43:05,683 - ERROR - UserManagementScreen - user_management_screen:883 - Error loading charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 863, in load_charge_codes_data
    r, 2, QTableWidgetItem(c_obj.category or "")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 20:43:05,684 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'PySide6.QtWidgets.QTableWidgetItem.__init__' called with wrong argument types:
  PySide6.QtWidgets.QTableWidgetItem.__init__(ChargeCodeCategory)
Supported signatures:
  PySide6.QtWidgets.QTableWidgetItem.__init__(other: PySide6.QtWidgets.QTableWidgetItem, /)
  PySide6.QtWidgets.QTableWidgetItem.__init__(text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(icon: PySide6.QtGui.QIcon | PySide6.QtGui.QPixmap, text: str, /, type: int = <ItemType.Type: 0>)
  PySide6.QtWidgets.QTableWidgetItem.__init__(type: int = <ItemType.Type: 0>)
2025-06-02 21:31:12,442 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:31:12,442 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:31:12,442 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:31:12,443 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:31:12,443 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:31:12,443 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:31:12,449 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:31:12,449 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:31:12,452 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:31:12,454 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:31:12,454 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:31:12,632 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:31:12,633 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:31:12,633 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:31:12,635 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:31:12,635 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:31:12,635 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:31:12,639 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:31:12,673 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:32:26,482 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:32:36,273 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:32:36,434 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:32:36,435 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:32:36,435 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:32:36,446 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:32:36,447 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:32:36,447 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:32:36,449 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:32:36,450 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:32:36,452 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:32:36,456 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:32:36,456 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:32:36,612 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:32:36,615 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:32:36,616 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:32:36,619 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:32:36,634 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:32:36,636 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:32:36,637 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:32:36,639 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:32:36,680 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:32:36,682 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:32:36,682 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:32:36,729 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:32:36,732 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:32:36,732 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:32:36,742 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:32:36,763 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:32:36,765 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:32:36,773 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:32:36,778 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:32:36,780 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:32:36,782 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:32:36,789 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:32:36,789 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:32:40,614 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:32:40,615 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:32:40,615 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:32:40,617 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:32:40,617 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:32:40,617 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,618 - INFO - UserManagementScreen - user_management_screen:263 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:32:40,634 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,634 - INFO - UserManagementScreen - user_management_screen:293 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:32:40,687 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:32:40,688 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:32:40,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:32:40,690 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:32:40,692 - INFO - UserManagementScreen - user_management_screen:608 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:32:40,692 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:32:40,693 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:32:40,696 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:32:40,696 - INFO - UserManagementScreen - user_management_screen:211 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:32:40,711 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:32:42,824 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:32:42,824 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:32:42,830 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 2 charge codes.
2025-06-02 21:32:49,917 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 1
2025-06-02 21:32:52,570 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QTimer' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 956, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 113, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 442, in _populate_fields
    QTimer.singleShot(
    ^^^^^^
NameError: name 'QTimer' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 956, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 113, in __init__
    self._populate_fields()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 442, in _populate_fields
    QTimer.singleShot(
    ^^^^^^
NameError: name 'QTimer' is not defined
2025-06-02 21:35:40,482 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '424' created successfully (ID: 3) by ADMIN.
2025-06-02 21:35:40,482 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-02 21:35:42,325 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:35:42,325 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: None
2025-06-02 21:35:42,327 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:35:42,328 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-02 21:36:16,668 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 3
2025-06-02 21:36:48,797 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 3
2025-06-02 21:36:48,797 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: None
2025-06-02 21:36:48,800 - INFO - UserManagementScreen - user_management_screen:982 - Loading master owners data for tab...
2025-06-02 21:36:48,806 - INFO - UserManagementScreen - user_management_screen:1026 - Loaded 3 master owners.
2025-06-02 21:36:50,153 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 1
2025-06-02 21:36:50,153 - INFO - UserManagementScreen - user_management_screen:747 - Loading locations data for tab...
2025-06-02 21:36:50,156 - INFO - UserManagementScreen - user_management_screen:786 - Loaded 5 locations with detailed address.
2025-06-02 21:36:51,162 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:36:51,162 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:36:51,165 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:36:52,196 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:36:52,196 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:36:52,202 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:38:25,896 - INFO - UserManagementScreen - user_management_screen:1187 - User Management screen closing.
2025-06-02 21:38:25,932 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 21:38:26,982 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 21:38:26,984 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 21:38:26,984 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 21:38:26,986 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 21:38:27,005 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 21:38:27,009 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 21:38:27,014 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 21:38:30,215 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:38:30,215 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:38:30,217 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:38:30,223 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:38:30,224 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:38:30,226 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:38:30,227 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:38:30,227 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:38:30,404 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:38:30,406 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:38:30,406 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:38:30,407 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:38:30,407 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:38:30,407 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:38:30,412 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:38:30,446 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:38:32,142 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:38:44,743 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:38:44,907 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:38:44,907 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:38:44,908 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:38:44,917 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:38:44,918 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:38:44,918 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:38:44,920 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:38:44,922 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:38:44,924 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:38:44,929 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:38:44,930 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:38:45,091 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:38:45,094 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:38:45,096 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:38:45,099 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:38:45,114 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:38:45,114 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:38:45,115 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:38:45,159 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:38:45,160 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:38:45,160 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:38:45,208 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:38:45,212 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:38:45,212 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:38:45,225 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:38:45,245 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:38:45,246 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:38:45,252 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:38:45,257 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:38:45,258 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:38:45,261 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:38:45,268 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:38:45,270 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:38:47,297 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:38:47,297 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:38:47,298 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:38:47,298 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:38:47,300 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:38:47,300 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,300 - INFO - UserManagementScreen - user_management_screen:263 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:38:47,317 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,319 - INFO - UserManagementScreen - user_management_screen:293 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:38:47,373 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:38:47,375 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:608 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 0
2025-06-02 21:38:47,377 - INFO - UserManagementScreen - user_management_screen:615 - Loading users data for User Management tab (custom list)...
2025-06-02 21:38:47,380 - INFO - UserManagementScreen - user_management_screen:631 - Loaded 1 users into custom list.
2025-06-02 21:38:47,381 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:38:47,381 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-02 21:38:47,382 - INFO - UserManagementScreen - user_management_screen:211 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:38:47,396 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:38:49,183 - INFO - UserManagementScreen - user_management_screen:298 - Tab changed to index: 2
2025-06-02 21:38:49,185 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:38:49,189 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 3 charge codes.
2025-06-02 21:40:25,893 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '39' created successfully (ID: 4) by ADMIN.
2025-06-02 21:40:25,893 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-02 21:40:27,755 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-02 21:40:27,758 - INFO - UserManagementScreen - user_management_screen:910 - Loaded 4 charge codes.
2025-06-02 21:40:27,758 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-02 21:40:32,843 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 1
2025-06-02 21:42:52,578 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 3
2025-06-02 21:42:55,050 - INFO - UserManagementScreen - user_management_screen:928 - Charge Code selected: 4
2025-06-02 21:50:29,629 - INFO - UserManagementScreen - user_management_screen:1187 - User Management screen closing.
2025-06-02 21:50:29,662 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-02 21:50:30,384 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-02 21:50:30,384 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-02 21:50:30,385 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-02 21:50:30,385 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-02 21:50:30,394 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-02 21:50:30,399 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-02 21:50:30,403 - INFO - root - main:372 - Application exiting with code 0
2025-06-02 21:50:32,615 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-02 21:50:32,615 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-02 21:50:32,616 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-02 21:50:32,616 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-02 21:50:32,624 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-02 21:50:32,624 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-02 21:50:32,626 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-02 21:50:32,627 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-02 21:50:32,627 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-02 21:50:32,805 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-02 21:50:32,806 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-02 21:50:32,806 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-02 21:50:32,806 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-02 21:50:32,806 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-02 21:50:32,806 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-02 21:50:32,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-02 21:50:32,849 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-02 21:50:34,392 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-02 21:50:46,422 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-02 21:50:46,583 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-02 21:50:46,583 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-02 21:50:46,585 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-02 21:50:46,594 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-02 21:50:46,595 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-02 21:50:46,595 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-02 21:50:46,597 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-02 21:50:46,598 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-02 21:50:46,600 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-02 21:50:46,607 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-02 21:50:46,609 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-02 21:50:46,767 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-02 21:50:46,770 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-02 21:50:46,772 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-02 21:50:46,776 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-02 21:50:46,792 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-02 21:50:46,794 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-02 21:50:46,835 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-02 21:50:46,836 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-02 21:50:46,838 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-02 21:50:46,887 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-02 21:50:46,890 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-02 21:50:46,890 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-02 21:50:46,901 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-02 21:50:46,926 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-02 21:50:46,926 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-02 21:50:46,934 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-02 21:50:46,940 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-02 21:50:46,940 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-02 21:50:46,943 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-02 21:50:46,950 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-02 21:50:46,950 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-02 21:50:48,944 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-02 21:50:48,944 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-02 21:50:48,947 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-02 21:50:48,947 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:48,949 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-02 21:50:48,966 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:48,967 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-02 21:50:49,020 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-02 21:50:49,022 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-02 21:50:49,023 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-02 21:50:49,024 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-02 21:50:49,024 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-02 21:50:49,027 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-02 21:50:49,027 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-02 21:50:49,027 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-02 21:50:49,029 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-02 21:50:49,044 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-02 21:50:51,522 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-02 21:50:51,522 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:50:51,529 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:51:19,810 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-02 21:52:52,338 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-02 21:52:52,338 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 21:52:53,869 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:52:53,870 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-02 21:52:53,874 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:52:53,874 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-02 21:53:01,857 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3
2025-06-02 21:53:01,857 - INFO - UserManagementScreen - user_management_screen:1028 - Loading master owners data for tab...
2025-06-02 21:53:01,862 - INFO - UserManagementScreen - user_management_screen:1069 - Loaded 3 master owners.
2025-06-02 21:53:02,725 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-02 21:53:02,725 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:53:02,729 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:53:05,399 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-02 21:53:13,427 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-02 21:53:13,428 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-02 21:53:15,767 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-02 21:53:15,767 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-02 21:53:15,773 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-02 21:53:15,773 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 09:04:29,577 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 3
2025-06-03 09:04:31,668 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 1
2025-06-03 09:04:43,515 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:00:52,202 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 11:00:52,202 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:00:52,204 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 11:00:52,204 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:00:52,219 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:00:52,219 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:00:52,252 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:00:52,442 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:00:52,444 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:00:52,444 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:00:52,445 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 11:00:52,445 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 11:00:52,445 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:00:52,456 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:00:52,492 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:00:54,580 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 11:01:17,560 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:01:17,722 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:01:17,722 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:01:17,723 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 11:01:17,733 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:01:17,733 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:01:17,733 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:01:17,735 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:01:17,737 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:01:17,740 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:01:17,744 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:01:17,744 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:01:18,935 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:01:18,938 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:01:18,941 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:01:18,944 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:01:18,960 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:01:18,961 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:01:18,962 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:01:18,963 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:01:19,007 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:01:19,009 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:01:19,009 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:01:19,056 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:01:19,060 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:01:19,060 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:01:19,072 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 11:01:19,103 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:01:19,104 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:01:19,112 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 11:01:19,116 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 11:01:19,116 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 11:01:19,119 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-03 11:01:19,128 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 11:01:19,128 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:01:36,172 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 11:01:36,173 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 11:01:36,179 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 11:02:09,419 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 11:02:09,419 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,422 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,422 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 11:02:09,430 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 2) created successfully by ADMIN.
2025-06-03 11:02:09,432 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-03 11:02:09,432 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-03 11:02:11,247 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:11,247 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:02:11,250 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 11:02:11,254 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 11:02:11,254 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:11,255 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:11,259 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:11,259 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 11:02:16,422 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-03 11:02:18,372 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 3, Display: Blue Ribbon Equine (Michael Chen) [BR001]
2025-06-03 11:02:20,414 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 3 with 100.0% to horse ID 2
2025-06-03 11:02:20,423 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 2 by ADMIN.
2025-06-03 11:02:20,423 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 11:02:22,024 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 11:02:22,024 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:22,027 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:22,030 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:25,467 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-03 11:02:25,472 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-03 11:02:26,955 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 5, Display: Quail Pond Farm (Ocala, FL)
2025-06-03 11:02:29,846 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 5 ('Quail Pond Farm') to Horse ID 2
2025-06-03 11:02:29,853 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 5 by ADMIN.
2025-06-03 11:02:29,853 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 5 to Horse ID 2. Emitting signal.
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 5, 'name': 'Quail Pond Farm'}
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 11:02:29,855 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:29,856 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:29,860 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:29,861 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 11:02:40,994 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 11:02:40,996 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Loren 60
2025-06-03 11:02:40,999 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 11:02:42,900 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 11:02:42,901 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Soul Rebel
2025-06-03 11:02:42,904 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 11:02:45,455 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:02:45,456 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:02:45,458 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:02:45,459 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,459 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:02:45,479 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,479 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:02:45,537 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:02:45,537 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:02:45,538 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:02:45,538 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:02:45,540 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:02:45,543 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:02:45,544 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:02:45,544 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:02:45,544 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:02:45,559 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 11:02:50,414 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 674, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 674, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 11:02:59,427 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:02:59,429 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:02:59,436 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:45:06,971 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 11:45:07,009 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 11:45:07,946 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 11:45:07,947 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 11:45:07,947 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 11:45:07,949 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 11:45:07,970 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 11:45:07,985 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 11:45:07,986 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 11:46:46,927 - INFO - root - MAIN:126 - Logging configured (Console and File)
2025-06-03 11:46:46,927 - INFO - EDSIApplication - MAIN:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:46:46,928 - INFO - EDSIApplication - MAIN:132 - Initializing database...
2025-06-03 11:46:46,928 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:46:46,936 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:46:46,936 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:46:46,945 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:46:46,946 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:46:46,946 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:46:47,135 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:46:47,136 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:46:47,136 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:46:47,138 - INFO - EDSIApplication - MAIN:137 - Database initialized successfully
2025-06-03 11:46:47,138 - INFO - EDSIApplication - MAIN:148 - Showing splash screen
2025-06-03 11:46:47,138 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:46:47,150 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:46:47,184 - INFO - EDSIApplication - MAIN:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:46:52,296 - INFO - EDSIApplication - MAIN:156 - Showing login dialog
2025-06-03 11:47:04,749 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'ADMIN', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:47:04,908 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:47:04,908 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:47:04,909 - INFO - EDSIApplication - MAIN:174 - User 'ADMIN' logged in successfully
2025-06-03 11:47:04,921 - INFO - EDSIApplication - MAIN:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:47:04,922 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:47:04,924 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:47:04,925 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:47:04,930 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:47:04,930 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:47:05,042 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:47:05,046 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:47:05,047 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:47:05,050 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:47:05,065 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:47:05,067 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:47:05,068 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:47:05,110 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:47:05,112 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:47:05,112 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:47:05,158 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:47:05,162 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:47:05,163 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:47:05,176 - INFO - EDSIApplication - MAIN:223 - Horse Management Screen shown.
2025-06-03 11:47:05,204 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:47:05,204 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:47:05,209 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 11:47:05,212 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 11:47:05,214 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:47:05,214 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:47:08,344 - INFO - EDSIApplication - MAIN:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:47:08,344 - INFO - EDSIApplication - MAIN:252 - Creating new User Management Screen instance.
2025-06-03 11:47:08,346 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:47:08,346 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:47:08,347 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:47:08,347 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,347 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:47:08,366 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,366 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:47:08,415 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:47:08,415 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:47:08,416 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:47:08,421 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:47:08,421 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:47:08,422 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:47:08,422 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:47:08,436 - INFO - EDSIApplication - MAIN:262 - User Management Screen shown.
2025-06-03 11:47:11,096 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:47:11,096 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:47:11,100 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 2 charge codes.
2025-06-03 11:47:13,732 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 1
2025-06-03 11:48:06,876 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 11:48:06,885 - INFO - EDSIApplication - MAIN:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 11:48:07,677 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 11:48:07,677 - INFO - EDSIApplication - MAIN:280 - Main application screen (Horse Management) is closing.
2025-06-03 11:48:07,677 - INFO - EDSIApplication - MAIN:282 - Main screen closed by user; initiating application quit.
2025-06-03 11:48:07,678 - INFO - EDSIApplication - MAIN:286 - Application quit requested.
2025-06-03 11:48:07,689 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 11:48:07,690 - INFO - EDSIApplication - MAIN:348 - Application finished with exit code: 0
2025-06-03 11:48:07,690 - INFO - root - MAIN:372 - Application exiting with code 0
2025-06-03 11:51:40,098 - INFO - root - MAIN:126 - Logging configured (Console and File)
2025-06-03 11:51:40,098 - INFO - EDSIApplication - MAIN:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:81 - PySide6 version: 3.11.4150.1013
2025-06-03 11:51:40,100 - INFO - EDSIApplication - MAIN:132 - Initializing database...
2025-06-03 11:51:40,102 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 11:51:40,109 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 11:51:40,109 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 11:51:40,112 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 11:51:40,113 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 11:51:40,113 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 11:51:40,290 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 11:51:40,292 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 11:51:40,293 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 11:51:40,295 - INFO - EDSIApplication - MAIN:137 - Database initialized successfully
2025-06-03 11:51:40,295 - INFO - EDSIApplication - MAIN:148 - Showing splash screen
2025-06-03 11:51:40,296 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 11:51:40,301 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 11:51:40,335 - INFO - EDSIApplication - MAIN:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 11:51:42,610 - INFO - EDSIApplication - MAIN:156 - Showing login dialog
2025-06-03 11:51:52,347 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 11:51:52,511 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 11:51:52,512 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 11:51:52,513 - INFO - EDSIApplication - MAIN:174 - User 'ADMIN' logged in successfully
2025-06-03 11:51:52,525 - INFO - EDSIApplication - MAIN:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 11:51:52,526 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 11:51:52,526 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 11:51:52,528 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 11:51:52,529 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 11:51:52,532 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 11:51:52,537 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 11:51:52,537 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 11:51:52,694 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 11:51:52,697 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 11:51:52,698 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 11:51:52,703 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 11:51:52,718 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 11:51:52,719 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 11:51:52,762 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 11:51:52,763 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 11:51:52,763 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 11:51:52,813 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 11:51:52,815 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:51:52,816 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 11:51:52,827 - INFO - EDSIApplication - MAIN:223 - Horse Management Screen shown.
2025-06-03 11:51:52,852 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 11:51:52,852 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 11:51:52,857 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 11:51:52,858 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 11:51:52,862 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 11:51:52,862 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 11:51:54,908 - INFO - EDSIApplication - MAIN:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 11:51:54,908 - INFO - EDSIApplication - MAIN:252 - Creating new User Management Screen instance.
2025-06-03 11:51:54,910 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 11:51:54,911 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 11:51:54,912 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 11:51:54,912 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,912 - INFO - UserManagementScreen - user_management_screen:275 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 11:51:54,930 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,930 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 11:51:54,977 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 11:51:54,979 - INFO - UserManagementScreen - user_management_screen:630 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 11:51:54,980 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0
2025-06-03 11:51:54,980 - INFO - UserManagementScreen - user_management_screen:637 - Loading users data for User Management tab (custom list)...
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - user_management_screen:653 - Loaded 1 users into custom list.
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 11:51:54,983 - WARNING - UserManagementScreen - user_management_screen:237 - Docstring not found for UserManagementScreen class.
2025-06-03 11:51:54,983 - INFO - UserManagementScreen - user_management_screen:223 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 11:51:55,000 - INFO - EDSIApplication - MAIN:262 - User Management Screen shown.
2025-06-03 11:51:58,862 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2
2025-06-03 11:51:58,862 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:51:58,868 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 2 charge codes.
2025-06-03 11:54:12,368 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '414' created successfully (ID: 3) by ADMIN.
2025-06-03 11:54:12,369 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 11:54:14,236 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:54:14,237 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 3 charge codes.
2025-06-03 11:54:14,239 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 11:55:59,523 - INFO - ChargeCodeController - charge_code_controller:169 - Charge Code '20' created successfully (ID: 4) by ADMIN.
2025-06-03 11:55:59,523 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 11:56:01,290 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:56:01,292 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:56:01,294 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 11:56:21,946 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:56:26,643 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code '20' (ID: 4) updated by ADMIN.
2025-06-03 11:56:26,643 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 11:56:32,749 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:56:32,751 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:56:32,754 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:56:32,755 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '20' updated.
2025-06-03 11:57:03,720 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 4
2025-06-03 11:58:51,915 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:59:03,984 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 11:59:05,434 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 11:59:06,800 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 11:59:06,800 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 11:59:06,802 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 11:59:06,803 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 11:59:06,806 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 11:59:11,492 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:00,195 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:05,665 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to active by None.
2025-06-03 12:06:05,665 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:06:05,667 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:05,668 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:05,672 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:06:10,972 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:13,966 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:16,958 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 12:06:16,960 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:06:16,960 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:16,961 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:16,964 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:06:20,253 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: 2
2025-06-03 12:06:21,746 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:06:25,827 - INFO - ChargeCodeController - charge_code_controller:383 - Charge Code 'EXAM001' (ID: 2) status changed to active by None.
2025-06-03 12:06:25,827 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:06:25,828 - INFO - UserManagementScreen - user_management_screen:876 - Loading charge codes data for tab...
2025-06-03 12:06:25,828 - INFO - UserManagementScreen - user_management_screen:975 - Charge Code selected: None
2025-06-03 12:06:25,832 - INFO - UserManagementScreen - user_management_screen:956 - Loaded 4 charge codes.
2025-06-03 12:07:11,376 - INFO - UserManagementScreen - user_management_screen:1225 - User Management screen closing.
2025-06-03 12:07:11,416 - INFO - EDSIApplication - MAIN:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 12:07:12,181 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:07:12,181 - INFO - EDSIApplication - MAIN:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:07:12,183 - INFO - EDSIApplication - MAIN:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:07:12,183 - INFO - EDSIApplication - MAIN:286 - Application quit requested.
2025-06-03 12:07:12,202 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:07:12,207 - INFO - EDSIApplication - MAIN:348 - Application finished with exit code: 0
2025-06-03 12:07:12,210 - INFO - root - MAIN:372 - Application exiting with code 0
2025-06-03 12:10:24,897 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:10:24,897 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:10:24,897 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:10:24,905 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:10:24,905 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:10:24,908 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:10:25,083 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:10:25,085 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:10:25,086 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:10:25,086 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:10:25,086 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:10:25,086 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:10:25,091 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:10:25,124 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:10:27,136 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:10:36,438 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:10:36,603 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:10:36,603 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:10:36,604 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:10:36,613 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:10:36,615 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:10:36,615 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:10:36,616 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:10:36,616 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:10:36,619 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:10:36,625 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:10:36,625 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:10:36,785 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:10:36,790 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:10:36,791 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:10:36,796 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:10:36,810 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:10:36,812 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:10:36,857 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:10:36,859 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:10:36,859 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:10:36,912 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:10:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:10:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:10:36,929 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:10:36,951 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:10:36,952 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:10:36,955 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 12:10:36,957 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 12:10:36,960 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:10:36,960 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:10:41,555 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 12:10:41,555 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 12:10:41,562 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 12:11:10,340 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 12:11:10,340 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,342 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,344 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 12:11:10,353 - INFO - HorseController - horse_controller:179 - Horse 'Doroni' (ID: 1) created successfully by ADMIN.
2025-06-03 12:11:10,354 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Doroni' created successfully.
2025-06-03 12:11:10,354 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Doroni' created successfully.
2025-06-03 12:11:12,546 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:12,546 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:11:12,549 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:11:12,552 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:11:12,553 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:12,554 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:12,559 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:12,559 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 12:11:17,284 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Doroni
2025-06-03 12:11:19,838 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 2, Display: Sarah Davis [SD001]
2025-06-03 12:11:21,123 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 2 with 100.0% to horse ID 1
2025-06-03 12:11:21,130 - INFO - HorseController - horse_controller:493 - Owner ID 2 added to horse ID 1 by ADMIN.
2025-06-03 12:11:21,132 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 12:11:23,110 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 12:11:23,110 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:23,113 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:23,115 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:25,908 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Doroni
2025-06-03 12:11:25,912 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 12:11:27,207 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-03 12:11:28,229 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 1
2025-06-03 12:11:28,234 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-03 12:11:28,236 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-03 12:11:28,236 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-03 12:11:28,237 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-03 12:11:28,237 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:11:28,239 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:11:28,242 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:11:28,242 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 12:11:40,120 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:11:40,120 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:11:40,121 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:11:40,122 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:11:40,122 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:11:40,124 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,124 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:11:40,143 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,143 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:11:40,199 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:11:40,199 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:11:40,201 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:11:40,202 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:11:40,204 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:11:40,204 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:11:40,206 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:11:40,206 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:11:40,223 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:11:42,173 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:11:42,174 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:11:42,176 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:11:42,182 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:11:50,793 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:11:56,487 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:11:56,488 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:11:58,723 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:11:58,724 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:11:58,727 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:11:58,730 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:11:58,730 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:12:03,435 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:03,436 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:12:03,439 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:12:07,474 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:07,475 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:07,478 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:12:16,380 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:12:26,931 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:12:26,931 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:12:29,826 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:29,828 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:29,829 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:12:29,832 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:12:29,832 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:12:33,534 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:12:35,443 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:35,444 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:12:35,446 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:12:35,446 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:12:36,988 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:12:36,988 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:12:36,993 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:13:11,178 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:13:21,067 - INFO - ChargeCodeController - charge_code_controller:344 - Charge Code 'EXAM001' (ID: 2) updated by ADMIN.
2025-06-03 12:13:21,067 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:13:23,665 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:13:23,666 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:13:23,666 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:13:23,669 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:13:23,669 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:26:49,134 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:26:49,136 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:26:49,137 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:26:49,139 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 12:26:49,139 - INFO - UserManagementScreen - user_management_screen:1275 - User Management screen closing.
2025-06-03 12:26:49,152 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:26:49,155 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 12:26:49,155 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 12:27:33,629 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:27:33,629 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:27:33,629 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:27:33,638 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:27:33,638 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:27:33,641 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:27:33,641 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:27:33,642 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:27:33,817 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:27:33,819 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:27:33,820 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:27:33,820 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:27:33,820 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:27:33,820 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:27:33,825 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:27:33,857 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:27:39,148 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:27:49,358 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:27:49,520 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:27:49,522 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:27:49,523 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:27:49,536 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:27:49,536 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:27:49,536 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:27:49,537 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:27:49,539 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:27:49,542 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:27:49,548 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:27:49,548 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:27:49,699 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:27:49,703 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:27:49,705 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:27:49,710 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:27:49,727 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:27:49,729 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:27:49,729 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:27:49,772 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:27:49,774 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:27:49,774 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:27:49,820 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:27:49,823 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:27:49,823 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:27:49,837 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:27:49,862 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:27:49,862 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:27:49,869 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:27:49,875 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:27:49,875 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:27:49,878 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:27:49,888 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:27:49,888 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:28:19,092 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:28:19,092 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:28:19,094 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:28:19,095 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,095 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:28:19,114 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,114 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:28:19,172 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:28:19,173 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:28:19,174 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:28:19,174 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:28:19,177 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:28:19,177 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:28:19,177 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:28:19,179 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:28:19,195 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:28:21,832 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:28:21,833 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:21,833 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:28:21,836 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:21,908 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:28:29,102 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:29,103 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:28:29,104 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 0 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 0 ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:29,114 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:28:30,633 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:28:30,633 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: all
2025-06-03 12:28:30,636 - ERROR - ChargeCodeController - charge_code_controller:259 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_code_categories.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 257, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_code_categories.name
[SQL: SELECT charge_codes.charge_code_id AS charge_codes_charge_code_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id ORDER BY charge_code_categories.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-03 12:28:30,645 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 0 charge codes.
2025-06-03 12:33:26,958 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:33:26,960 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:33:26,960 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:33:26,967 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:33:26,967 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:33:26,970 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:33:27,147 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:33:27,150 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:33:27,150 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:33:27,150 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:33:27,150 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:33:27,150 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:33:27,156 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:33:27,193 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:33:53,913 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:34:04,617 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:34:04,780 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:34:04,782 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:34:04,783 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:34:04,793 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:34:04,793 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:34:04,793 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:34:04,795 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:34:04,796 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:34:04,798 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:34:04,804 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:34:04,804 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:34:04,950 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:34:04,953 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:34:04,955 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:34:04,959 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:34:04,974 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:34:04,974 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:34:04,976 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:34:05,019 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:34:05,019 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:34:05,020 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:34:05,068 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:34:05,071 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:34:05,071 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:34:05,083 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:34:05,108 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:34:05,108 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:34:05,116 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:34:05,120 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:34:05,123 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:34:05,126 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:34:05,134 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:34:05,134 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:34:07,440 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:34:07,440 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:34:07,443 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:34:07,443 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:34:07,445 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:34:07,445 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,445 - INFO - UserManagementScreen - user_management_screen:286 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:34:07,464 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,464 - INFO - UserManagementScreen - user_management_screen:316 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:34:07,521 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:34:07,522 - INFO - UserManagementScreen - user_management_screen:661 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:34:07,524 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0
2025-06-03 12:34:07,524 - INFO - UserManagementScreen - user_management_screen:669 - Loading users data for User Management tab (custom list)...
2025-06-03 12:34:07,527 - INFO - UserManagementScreen - user_management_screen:685 - Loaded 1 users into custom list.
2025-06-03 12:34:07,527 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:34:07,527 - WARNING - UserManagementScreen - user_management_screen:247 - Docstring not found for UserManagementScreen class.
2025-06-03 12:34:07,528 - INFO - UserManagementScreen - user_management_screen:233 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:34:07,544 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:34:09,779 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2
2025-06-03 12:34:09,780 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:09,780 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:09,786 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:15,752 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:34:23,776 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:34:23,776 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': False, 'is_active': False}
2025-06-03 12:34:23,778 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'True' to 'False'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'False'
2025-06-03 12:34:23,779 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='False', Taxable='False'
2025-06-03 12:34:23,781 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:34:23,781 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:34:26,092 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:26,092 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:26,094 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:34:26,097 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:26,097 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:34:30,423 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:34:32,492 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:34:34,840 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by None.
2025-06-03 12:34:34,842 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:34:34,843 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:34,843 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:34,844 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:34:34,846 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:34:43,909 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:43,911 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:43,914 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:34:45,859 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:45,860 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:34:45,864 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:34:49,069 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:49,069 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:49,074 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:34:52,963 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:52,964 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: all
2025-06-03 12:34:52,969 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 4 charge codes.
2025-06-03 12:34:54,616 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:34:54,616 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:34:54,619 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:01,243 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:35:08,846 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:35:08,847 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': False, 'is_active': False}
2025-06-03 12:35:08,849 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'False'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'False'
2025-06-03 12:35:08,850 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='False', Taxable='False'
2025-06-03 12:35:08,852 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:35:08,852 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:35:10,821 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:10,822 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:35:10,824 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:35:10,825 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:10,825 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:35:12,560 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 12:35:17,428 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:35:17,428 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:35:17,430 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:35:17,430 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:35:17,431 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:35:17,432 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:35:17,433 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:35:17,433 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:35:19,286 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:19,287 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: inactive
2025-06-03 12:35:19,289 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 12:35:19,290 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 1 charge codes.
2025-06-03 12:35:19,292 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:35:22,326 - INFO - UserManagementScreen - user_management_screen:918 - Loading charge codes data for tab...
2025-06-03 12:35:22,326 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 12:35:22,330 - INFO - UserManagementScreen - user_management_screen:1000 - Loaded 3 charge codes.
2025-06-03 12:54:01,922 - INFO - UserManagementScreen - user_management_screen:1275 - User Management screen closing.
2025-06-03 12:54:01,955 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 12:54:02,814 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 12:54:02,816 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 12:54:02,817 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 12:54:02,817 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 12:54:02,835 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 12:54:02,842 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 12:54:02,847 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 12:54:11,995 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 12:54:11,995 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 12:54:11,996 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 12:54:11,996 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 12:54:12,003 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 12:54:12,003 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 12:54:12,006 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 12:54:12,183 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 12:54:12,186 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 12:54:12,186 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 12:54:12,186 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 12:54:12,186 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 12:54:12,186 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 12:54:12,191 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 12:54:12,232 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 12:54:18,157 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 12:54:28,600 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 12:54:28,766 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 12:54:28,767 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 12:54:28,767 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 12:54:28,779 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 12:54:28,780 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 12:54:28,780 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 12:54:28,782 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 12:54:28,783 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 12:54:28,786 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 12:54:28,791 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 12:54:28,792 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 12:54:28,954 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 12:54:28,957 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 12:54:28,958 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 12:54:28,962 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 12:54:28,976 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 12:54:28,976 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 12:54:28,978 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 12:54:29,023 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 12:54:29,024 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 12:54:29,024 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 12:54:29,074 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 12:54:29,077 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 12:54:29,077 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 12:54:29,089 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 12:54:29,113 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 12:54:29,114 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 12:54:29,120 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 12:54:29,125 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 12:54:29,126 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 12:54:29,128 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 12:54:29,137 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 12:54:29,137 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 12:54:41,700 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 12:54:41,700 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 12:54:41,702 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 12:54:41,703 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,703 - INFO - UserManagementScreen - user_management_screen:265 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 12:54:41,722 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,722 - INFO - UserManagementScreen - user_management_screen:289 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 12:54:41,779 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 12:54:41,780 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 12:54:41,782 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 12:54:41,782 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 12:54:41,783 - INFO - UserManagementScreen - user_management_screen:616 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 12:54:41,783 - INFO - UserManagementScreen - user_management_screen:295 - Tab changed to index: 0
2025-06-03 12:54:41,784 - INFO - UserManagementScreen - user_management_screen:624 - Loading users data for User Management tab (custom list)...
2025-06-03 12:54:41,787 - INFO - UserManagementScreen - user_management_screen:640 - Loaded 1 users into custom list.
2025-06-03 12:54:41,787 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 12:54:41,787 - WARNING - UserManagementScreen - user_management_screen:225 - Docstring not found for UserManagementScreen class.
2025-06-03 12:54:41,789 - INFO - UserManagementScreen - user_management_screen:210 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 12:54:41,807 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 12:54:44,817 - INFO - UserManagementScreen - user_management_screen:295 - Tab changed to index: 2
2025-06-03 12:54:44,818 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:44,818 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:54:44,824 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:54:48,683 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:48,684 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:54:48,687 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:54:49,747 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:54:54,827 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:54:54,827 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:54:54,829 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:54:54,830 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:54:54,832 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:54:54,832 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:54:57,027 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:54:57,027 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:54:57,030 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:54:57,032 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:54:57,033 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:55:01,723 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:01,725 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:55:01,728 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:55:07,703 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:07,703 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:55:07,706 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:55:09,192 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:55:11,287 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:55:13,370 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 12:55:13,370 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:55:13,373 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:13,373 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:55:13,374 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:55:13,376 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 0 charge codes.
2025-06-03 12:55:16,260 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:55:16,260 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:55:16,264 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 12:55:30,639 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:56:17,436 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:56:19,413 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 12:56:19,413 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 12:56:19,414 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:19,416 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:56:19,417 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:56:19,419 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:56:43,122 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:43,122 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:56:43,125 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:56:45,069 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:45,069 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: all
2025-06-03 12:56:45,076 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 12:56:47,082 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:47,082 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:56:47,085 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 3 charge codes.
2025-06-03 12:56:49,212 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:56:49,212 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:56:49,215 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:56:50,136 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:56:59,325 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 2 ---
2025-06-03 12:56:59,325 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': 'EXAM001', 'alternate_code': 'EX01', 'description': 'Routine Examination', 'category_id': 13, 'standard_charge': Decimal('75.0'), 'taxable': True, 'is_active': True}
2025-06-03 12:56:59,326 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='EXAM001', IsActive='False', Taxable='True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:329 - Updating is_active from 'False' to 'True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:340 - Updating taxable from 'True' to 'True'
2025-06-03 12:56:59,328 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='EXAM001', IsActive='True', Taxable='True'
2025-06-03 12:56:59,329 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code 'EXAM001' (ID: 2) updated successfully by ADMIN.
2025-06-03 12:56:59,329 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 12:57:01,267 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:01,267 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:57:01,268 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:57:01,270 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 1 charge codes.
2025-06-03 12:57:01,270 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' updated.
2025-06-03 12:57:11,808 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: 2
2025-06-03 12:57:13,514 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to permanently delete Charge Code 'EXAM001' (ID: 2)?
2025-06-03 12:57:15,354 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 12:57:15,354 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 12:57:15,356 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:15,356 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: inactive
2025-06-03 12:57:15,357 - INFO - UserManagementScreen - user_management_screen:967 - Charge Code selected: None
2025-06-03 12:57:15,357 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 0 charge codes.
2025-06-03 12:57:23,407 - INFO - UserManagementScreen - user_management_screen:874 - Loading charge codes data for tab...
2025-06-03 12:57:23,408 - INFO - UserManagementScreen - user_management_screen:883 - Charge code status filter: active
2025-06-03 12:57:23,412 - INFO - UserManagementScreen - user_management_screen:947 - Loaded 4 charge codes.
2025-06-03 13:06:28,715 - INFO - UserManagementScreen - user_management_screen:1227 - User Management screen closing.
2025-06-03 13:06:28,748 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 13:06:29,466 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:06:29,466 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:06:29,470 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:06:29,471 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:06:29,487 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:06:29,499 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:06:29,500 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:20:45,804 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:20:45,804 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:20:45,804 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:20:45,812 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:20:45,812 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:20:45,814 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:20:45,816 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:20:45,816 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:20:45,990 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:20:45,993 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:20:45,993 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:20:45,993 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:20:45,993 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:20:45,993 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:20:45,998 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:20:46,034 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:20:51,903 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:21:01,577 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:21:01,737 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:21:01,739 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:21:01,739 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:21:01,749 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:21:01,751 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:21:01,751 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:21:01,752 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:21:01,752 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:21:01,755 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:21:01,761 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:21:01,761 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:21:01,913 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:21:01,916 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:21:01,918 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:21:01,923 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:21:01,939 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:21:01,940 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:21:01,983 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:21:01,984 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:21:01,986 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:21:02,034 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:21:02,037 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:21:02,039 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:21:02,050 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:21:02,080 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:21:02,080 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:21:02,089 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:21:02,093 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:21:02,094 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:21:02,096 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:21:02,105 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:21:02,105 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:21:16,335 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:21:16,338 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:21:16,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:21:16,340 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:21:16,341 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:21:16,341 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,342 - INFO - UserManagementScreen - user_management_screen:283 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:21:16,362 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,362 - INFO - UserManagementScreen - user_management_screen:315 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:21:16,417 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:21:16,419 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:21:16,419 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - user_management_screen:675 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:21:16,420 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 0
2025-06-03 13:21:16,422 - INFO - UserManagementScreen - user_management_screen:682 - Loading users data for User Management tab (custom list)...
2025-06-03 13:21:16,424 - INFO - UserManagementScreen - user_management_screen:698 - Loaded 1 users into custom list.
2025-06-03 13:21:16,424 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:21:16,424 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:21:16,426 - INFO - UserManagementScreen - user_management_screen:229 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:21:16,442 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:21:19,670 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 1
2025-06-03 13:21:19,670 - INFO - UserManagementScreen - user_management_screen:817 - Loading locations data for tab...
2025-06-03 13:21:19,673 - INFO - UserManagementScreen - user_management_screen:856 - Loaded 3 locations with detailed address.
2025-06-03 13:21:21,114 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 2
2025-06-03 13:21:21,114 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:21,116 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:21,120 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 4 charge codes.
2025-06-03 13:21:23,225 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:21:26,724 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:21:29,205 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 13:21:29,207 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 13:21:29,208 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:29,208 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:29,210 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:21:29,212 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:21:33,477 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:33,477 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:21:33,483 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 1 charge codes.
2025-06-03 13:21:35,564 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:21:35,564 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:21:35,569 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:21:37,944 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 3
2025-06-03 13:21:40,364 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:22:15,315 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 4
2025-06-03 13:22:16,669 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1048, in _edit_selected_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:22:20,988 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1027, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1027, in _add_new_charge_code
    dialog = AddEditChargeCodeDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 99, in __init__
    self._setup_ui()
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_charge_code_dialog.py", line 278, in _setup_ui
    status_layout = QHBoxLayout()
                    ^^^^^^^^^^^
NameError: name 'QHBoxLayout' is not defined
2025-06-03 13:26:01,472 - INFO - UserManagementScreen - user_management_screen:1285 - User Management screen closing.
2025-06-03 13:26:01,504 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 13:26:02,580 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:26:02,582 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:26:02,583 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:26:02,583 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:26:02,603 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:26:02,609 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:26:02,614 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:28:18,848 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:28:18,848 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:28:18,849 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:28:18,849 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:28:18,857 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:28:18,857 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:28:18,859 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:28:18,860 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:28:18,860 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:28:19,037 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:28:19,039 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:28:19,039 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:28:19,040 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:28:19,040 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:28:19,040 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:28:19,045 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:28:19,092 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:28:21,442 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:28:33,515 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:28:33,676 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:28:33,676 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:28:33,678 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:28:33,685 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:28:33,687 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:28:33,688 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:28:33,688 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:28:33,690 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:28:33,691 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:28:33,696 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:28:33,697 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:28:33,845 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:28:33,848 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:28:33,850 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:28:33,854 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:28:33,869 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:28:33,871 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:28:33,912 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:28:33,914 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:28:33,914 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:28:33,962 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:28:33,965 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:28:33,965 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:28:33,975 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:28:34,002 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:28:34,002 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:28:34,009 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:28:34,014 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:28:34,015 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:28:34,018 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:28:34,027 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:28:34,028 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:28:36,307 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:28:36,307 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:28:36,308 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:28:36,308 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,310 - INFO - UserManagementScreen - user_management_screen:283 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:28:36,328 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,328 - INFO - UserManagementScreen - user_management_screen:315 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:28:36,384 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:28:36,384 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:28:36,386 - INFO - UserManagementScreen - user_management_screen:675 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:28:36,387 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 0
2025-06-03 13:28:36,387 - INFO - UserManagementScreen - user_management_screen:682 - Loading users data for User Management tab (custom list)...
2025-06-03 13:28:36,390 - INFO - UserManagementScreen - user_management_screen:698 - Loaded 1 users into custom list.
2025-06-03 13:28:36,390 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:28:36,392 - WARNING - UserManagementScreen - user_management_screen:243 - Docstring not found for UserManagementScreen class.
2025-06-03 13:28:36,392 - INFO - UserManagementScreen - user_management_screen:229 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:28:36,408 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:28:38,624 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 2
2025-06-03 13:28:38,624 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:38,625 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:28:38,630 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:28:47,844 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:47,844 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:28:47,848 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 1 charge codes.
2025-06-03 13:28:49,040 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:28:50,268 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:28:53,190 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to active by ADMIN.
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to active.
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:53,192 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: inactive
2025-06-03 13:28:53,193 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:28:53,195 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 0 charge codes.
2025-06-03 13:28:56,492 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:28:56,494 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:28:56,497 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 4 charge codes.
2025-06-03 13:28:58,480 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 2
2025-06-03 13:29:20,793 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 13:29:22,432 - INFO - ChargeCodeController - charge_code_controller:397 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 13:29:22,433 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 13:29:22,433 - INFO - UserManagementScreen - user_management_screen:928 - Loading charge codes data for tab...
2025-06-03 13:29:22,435 - INFO - UserManagementScreen - user_management_screen:937 - Charge code status filter: active
2025-06-03 13:29:22,435 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:29:22,438 - INFO - UserManagementScreen - user_management_screen:1001 - Loaded 3 charge codes.
2025-06-03 13:29:23,622 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 4
2025-06-03 13:29:29,416 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: 1
2025-06-03 13:29:58,882 - INFO - UserManagementScreen - user_management_screen:320 - Tab changed to index: 3
2025-06-03 13:29:58,882 - INFO - UserManagementScreen - user_management_screen:1020 - Charge Code selected: None
2025-06-03 13:29:58,885 - INFO - UserManagementScreen - user_management_screen:1075 - Loading master owners data for tab...
2025-06-03 13:29:58,888 - INFO - UserManagementScreen - user_management_screen:1115 - Loaded 2 master owners.
2025-06-03 13:30:01,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 13:30:01,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 13:30:14,397 - INFO - UserManagementScreen - user_management_screen:1132 - Master Owner selected: 2
2025-06-03 13:30:15,832 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 13:30:15,833 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 13:30:25,075 - INFO - OwnerController - owner_controller:383 - Master Owner 'Sarah Davis' (ID: 2) updated by ADMIN.
2025-06-03 13:30:25,075 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Owner updated successfully.
2025-06-03 13:30:27,092 - INFO - UserManagementScreen - user_management_screen:1075 - Loading master owners data for tab...
2025-06-03 13:30:27,093 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1128, in _on_master_owner_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1128, in _on_master_owner_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
2025-06-03 13:30:31,623 - INFO - UserManagementScreen - user_management_screen:1115 - Loaded 2 master owners.
2025-06-03 13:30:31,626 - INFO - UserManagementScreen - base_view:322 - Status update: Owner 'Sarah Davis' updated successfully.
2025-06-03 13:35:32,871 - INFO - UserManagementScreen - user_management_screen:1132 - Master Owner selected: 2
2025-06-03 13:42:55,847 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:42:55,847 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:42:55,848 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:42:55,856 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:42:55,856 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:42:55,857 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:42:55,859 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:42:55,859 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:42:56,035 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:42:56,038 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:42:56,038 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:42:56,038 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:42:56,038 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:42:56,040 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:42:56,044 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:42:56,078 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:42:57,614 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:43:11,888 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:43:12,051 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:43:12,052 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:43:12,052 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:43:12,062 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:43:12,064 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:43:12,064 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:43:12,065 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:43:12,065 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:43:12,068 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:43:12,074 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:43:12,076 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:43:12,244 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:43:12,247 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:43:12,250 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:43:12,254 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:43:12,272 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:43:12,273 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:43:12,274 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:43:12,319 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:43:12,320 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:43:12,322 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:43:12,370 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:43:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:43:12,374 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:43:12,384 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:43:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:43:12,408 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:43:12,416 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:43:12,420 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:43:12,422 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:43:12,425 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:43:12,432 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:43:12,432 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:43:14,434 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:43:14,435 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:43:14,436 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:43:14,437 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:43:14,437 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:43:14,437 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,439 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:43:14,456 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,458 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:43:14,512 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:43:14,513 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:43:14,515 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:43:14,516 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:43:14,519 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:43:14,519 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:43:14,519 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:43:14,521 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:43:14,537 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:43:17,694 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 13:48:28,629 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:48:28,629 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:48:28,631 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:48:28,631 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:48:28,637 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:48:28,637 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:48:28,640 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:48:28,640 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:48:28,642 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:48:28,818 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:48:28,820 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:48:28,820 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:48:28,821 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:48:28,821 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:48:28,822 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:48:28,826 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:48:28,866 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:48:30,620 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:48:40,333 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:48:40,494 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:48:40,494 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:48:40,495 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:48:40,509 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:48:40,509 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:48:40,510 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:48:40,510 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:48:40,512 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:48:40,514 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:48:40,520 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:48:40,522 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:48:40,672 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:48:40,674 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:48:40,676 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:48:40,680 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:48:40,695 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:48:40,697 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:48:40,739 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:48:40,741 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:48:40,741 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:48:40,790 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:48:40,792 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:48:40,792 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:48:40,800 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:48:40,830 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:48:40,831 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:48:40,838 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:48:40,844 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:48:40,844 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:48:40,847 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:48:40,854 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:48:40,856 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:48:43,052 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:48:43,053 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:48:43,053 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:48:43,054 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,054 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:48:43,075 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,075 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:48:43,130 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:48:43,130 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:48:43,132 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:48:43,134 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:48:43,134 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:48:43,137 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:48:43,137 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:48:43,138 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:48:43,138 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:48:43,154 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:48:48,838 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 13:48:48,838 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:48:48,839 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:48:48,845 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 3 charge codes.
2025-06-03 13:53:25,430 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 13:53:25,430 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 13:53:25,432 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 13:53:25,433 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 13:53:25,433 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 13:53:25,463 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 13:53:25,466 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 13:53:25,467 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 13:53:30,365 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:53:30,365 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:53:30,365 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:53:30,372 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:53:30,372 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:53:30,375 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:53:30,377 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:53:30,377 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:53:30,556 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:53:30,557 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:53:30,557 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:53:30,557 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:53:30,557 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:53:30,559 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:53:30,562 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:53:30,602 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:53:32,399 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 13:53:45,859 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 13:53:46,024 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 13:53:46,024 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 13:53:46,025 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 13:53:46,037 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 13:53:46,037 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 13:53:46,038 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 13:53:46,038 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 13:53:46,040 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 13:53:46,043 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 13:53:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 13:53:46,049 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 13:53:46,209 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 13:53:46,212 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 13:53:46,214 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 13:53:46,217 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 13:53:46,233 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 13:53:46,235 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 13:53:46,276 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 13:53:46,277 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 13:53:46,279 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 13:53:46,327 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 13:53:46,330 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 13:53:46,331 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 13:53:46,343 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 13:53:46,367 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 13:53:46,367 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 13:53:46,376 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 13:53:46,380 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 13:53:46,382 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 13:53:46,385 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 13:53:46,394 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 13:53:46,394 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 13:53:48,426 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 13:53:48,427 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 13:53:48,429 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 13:53:48,430 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,430 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 13:53:48,449 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,449 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 13:53:48,506 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 13:53:48,507 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 13:53:48,509 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:53:48,509 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:53:48,512 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:53:48,513 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 13:53:48,513 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 13:53:48,513 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 13:53:48,531 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 13:53:50,202 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 13:53:50,202 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:53:50,203 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:53:50,209 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 3 charge codes.
2025-06-03 13:55:23,848 - INFO - ChargeCodeController - charge_code_controller:155 - Charge Code '9' created successfully (ID: 5) by ADMIN.
2025-06-03 13:55:23,848 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 13:55:25,512 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:55:25,512 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:55:25,517 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 13:55:25,517 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 13:55:36,724 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 4
2025-06-03 13:55:42,594 - INFO - ChargeCodeController - charge_code_controller:281 - --- Updating Charge Code ID: 4 ---
2025-06-03 13:55:42,594 - INFO - ChargeCodeController - charge_code_controller:282 - Received charge_data: {'code': '20', 'alternate_code': 'X', 'description': 'Radiographs - Multiple Views', 'category_id': 10, 'standard_charge': Decimal('15.0')}
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:283 - Charge code BEFORE update: Code='20', IsActive='True', Taxable='False'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:334 - 'is_active' not in charge_data. Current: 'True'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:345 - 'taxable' not in charge_data. Current: 'False'
2025-06-03 13:55:42,596 - INFO - ChargeCodeController - charge_code_controller:352 - Charge code AFTER modifications, BEFORE commit: Code='20', IsActive='True', Taxable='False'
2025-06-03 13:55:42,597 - INFO - ChargeCodeController - charge_code_controller:358 - Charge Code '20' (ID: 4) updated successfully by ADMIN.
2025-06-03 13:55:42,597 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code updated successfully.
2025-06-03 13:55:44,508 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 13:55:44,508 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 13:55:44,511 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: None
2025-06-03 13:55:44,514 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 13:55:44,514 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code '20' updated.
2025-06-03 13:55:57,700 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 13:55:57,700 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 13:55:57,703 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 13:56:15,002 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 666, in _add_new_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'current_user_id'
2025-06-03 13:58:56,925 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 13:58:56,925 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 13:58:56,926 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 13:58:56,926 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 13:58:56,934 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 13:58:56,934 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 13:58:56,937 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 13:58:56,938 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 13:58:56,938 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 13:58:57,115 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 13:58:57,117 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 13:58:57,117 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 13:58:57,118 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 13:58:57,118 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 13:58:57,118 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 13:58:57,123 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 13:58:57,157 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 13:59:04,830 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:27:37,855 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admim', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:27:37,857 - WARNING - UserController - user_controller:69 - Login ID 'admim' not found during authentication.
2025-06-03 14:27:39,528 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admim. Reason: Invalid Login ID or Password.
2025-06-03 14:27:45,558 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admim', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:27:45,561 - WARNING - UserController - user_controller:69 - Login ID 'admim' not found during authentication.
2025-06-03 14:27:47,143 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admim. Reason: Invalid Login ID or Password.
2025-06-03 14:28:02,973 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:28:03,137 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 14:28:03,137 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 14:28:03,138 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 14:28:03,148 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 14:28:03,150 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 14:28:03,152 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:28:03,155 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:28:03,158 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:28:03,169 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:28:03,176 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:28:03,177 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:28:03,339 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:28:03,344 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:28:03,345 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:28:03,350 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:28:03,365 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:28:03,366 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:28:03,368 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:28:03,410 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:28:03,412 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:28:03,413 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:28:03,462 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:28:03,465 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:28:03,465 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:28:03,477 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:28:03,505 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:28:03,505 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:28:03,512 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:28:03,518 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:28:03,520 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:28:03,523 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:28:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:28:03,530 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:28:06,830 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:28:06,830 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:28:06,833 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:28:06,834 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:28:06,834 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:28:06,834 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,836 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:28:06,854 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,854 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:28:06,910 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:28:06,911 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:28:06,912 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 14:28:06,914 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:28:06,917 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 1 users into custom list.
2025-06-03 14:28:06,918 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:28:06,918 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:28:06,918 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 14:28:06,936 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:28:24,535 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 14:28:51,212 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-03 14:28:51,374 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-03 14:28:51,374 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-03 14:28:51,380 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:28:51,384 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 2 users into custom list.
2025-06-03 14:28:51,384 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-03 14:28:56,493 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 14:28:56,504 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 14:28:59,997 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-03 14:28:59,997 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-03 14:28:59,999 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 14:29:00,000 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 14:29:00,000 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 14:29:00,002 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 14:29:00,012 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 14:29:00,014 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 14:29:06,587 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:29:06,587 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:29:06,588 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:29:06,594 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:29:06,594 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:29:06,597 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:29:06,599 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:29:06,599 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:29:06,776 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:29:06,778 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:29:06,778 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:29:06,778 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:29:06,778 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:29:06,779 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:29:06,784 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:29:06,824 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:29:08,665 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:29:17,917 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 14:29:18,081 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 14:29:18,082 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 14:29:18,082 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 14:29:18,092 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 14:29:18,093 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 14:29:18,094 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:29:18,094 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:29:18,096 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:29:18,097 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:29:18,105 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:29:18,105 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:29:18,259 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:29:18,263 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:29:18,264 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:29:18,269 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:29:18,284 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:29:18,285 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:29:18,285 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:29:18,330 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:29:18,332 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:29:18,332 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:29:18,383 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:29:18,386 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:29:18,388 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:29:18,398 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:29:18,423 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:29:18,423 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:29:18,431 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:29:18,435 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:29:18,439 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:29:18,442 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:29:18,449 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:29:18,449 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:29:22,514 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:29:22,514 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:29:22,516 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:29:22,517 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:29:22,517 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:29:22,517 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,519 - INFO - UserManagementScreen - user_management_screen:252 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:29:22,538 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,538 - INFO - UserManagementScreen - user_management_screen:278 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:29:22,592 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:29:22,594 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:29:22,595 - INFO - UserManagementScreen - user_management_screen:622 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:29:22,597 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 0
2025-06-03 14:29:22,597 - INFO - UserManagementScreen - user_management_screen:629 - Loading users data for User Management tab (custom list)...
2025-06-03 14:29:22,600 - INFO - UserManagementScreen - user_management_screen:645 - Loaded 2 users into custom list.
2025-06-03 14:29:22,602 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:29:22,602 - WARNING - UserManagementScreen - user_management_screen:217 - Docstring not found for UserManagementScreen class.
2025-06-03 14:29:22,603 - INFO - UserManagementScreen - user_management_screen:202 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-06-03 14:29:22,619 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:29:25,538 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 1
2025-06-03 14:29:25,538 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:29:25,542 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 3 locations with detailed address.
2025-06-03 14:29:27,327 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 14:34:46,974 - INFO - LocationController - location_controller:186 - Location 'Quail Pond Farms' (ID: 4) created by tm.
2025-06-03 14:34:46,974 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-03 14:34:48,793 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:34:48,795 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 4 locations with detailed address.
2025-06-03 14:34:48,795 - INFO - UserManagementScreen - base_view:322 - Status update: Location added.
2025-06-03 14:34:52,206 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: 4
2025-06-03 14:34:56,092 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to permanently delete Location 'Quail Pond Farms' (ID: 4)?
2025-06-03 14:34:58,327 - WARNING - LocationController - location_controller:382 - Attempting hard delete of location ID 4 ('Quail Pond Farms') by user tm.
2025-06-03 14:34:58,333 - INFO - LocationController - location_controller:388 - Location ID 4 ('Quail Pond Farms') permanently deleted by tm.
2025-06-03 14:34:58,333 - INFO - UserManagementScreen - base_view:322 - Status update: Location 'Quail Pond Farms' permanently deleted.
2025-06-03 14:34:58,334 - INFO - UserManagementScreen - user_management_screen:764 - Loading locations data for tab...
2025-06-03 14:34:58,334 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: None
2025-06-03 14:34:58,336 - INFO - UserManagementScreen - user_management_screen:803 - Loaded 3 locations with detailed address.
2025-06-03 14:35:08,303 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: 1
2025-06-03 14:35:09,704 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 14:35:27,069 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 14:35:27,069 - INFO - UserManagementScreen - user_management_screen:822 - Location selected: None
2025-06-03 14:35:27,070 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 14:35:27,070 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 14:35:27,076 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 14:35:30,732 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 3
2025-06-03 14:35:30,733 - INFO - UserManagementScreen - user_management_screen:1018 - Loading master owners data for tab...
2025-06-03 14:35:30,734 - INFO - UserManagementScreen - user_management_screen:1058 - Loaded 2 master owners.
2025-06-03 14:35:32,793 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:35:32,794 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:38:10,167 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 2
2025-06-03 14:38:10,168 - INFO - UserManagementScreen - user_management_screen:873 - Loading charge codes data for tab...
2025-06-03 14:38:10,170 - INFO - UserManagementScreen - user_management_screen:882 - Charge code status filter: active
2025-06-03 14:38:10,174 - INFO - UserManagementScreen - user_management_screen:946 - Loaded 4 charge codes.
2025-06-03 14:38:11,753 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 3
2025-06-03 14:38:49,984 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 5
2025-06-03 14:40:37,159 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: 3
2025-06-03 14:41:56,319 - INFO - UserManagementScreen - user_management_screen:284 - Tab changed to index: 3
2025-06-03 14:41:56,322 - INFO - UserManagementScreen - user_management_screen:965 - Charge Code selected: None
2025-06-03 14:41:56,324 - INFO - UserManagementScreen - user_management_screen:1018 - Loading master owners data for tab...
2025-06-03 14:41:56,328 - INFO - UserManagementScreen - user_management_screen:1058 - Loaded 2 master owners.
2025-06-03 14:41:58,040 - INFO - UserManagementScreen - user_management_screen:1079 - Master Owner selected (row: 1): 1
2025-06-03 14:42:10,412 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:42:10,413 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:42:21,844 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 14:42:21,848 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 14:43:04,134 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 14:43:04,134 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 14:43:04,135 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 14:43:04,135 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 14:43:04,137 - INFO - UserManagementScreen - user_management_screen:1229 - User Management screen closing.
2025-06-03 14:43:04,149 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 14:43:04,153 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 14:43:04,154 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 14:54:38,959 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:54:38,959 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:54:38,961 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:54:38,961 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:54:38,968 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:54:38,968 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:54:38,971 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:54:38,973 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:54:38,973 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:54:39,149 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:54:39,152 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:54:39,152 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:54:39,152 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:54:39,152 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:54:39,152 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:54:39,157 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:54:39,195 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:54:44,022 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:54:54,358 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 14:54:54,523 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 14:54:54,523 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 14:54:54,524 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 14:54:54,534 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 14:54:54,535 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 14:54:54,535 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:54:54,537 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:54:54,538 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:54:54,540 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:54:54,545 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:54:54,545 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:54:54,703 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:54:54,706 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:54:54,707 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:54:54,712 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:54:54,727 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:54:54,727 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:54:54,728 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:54:54,770 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:54:54,773 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:54:54,773 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:54:54,824 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:54:54,827 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:54:54,827 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:54:54,841 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:54:54,869 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:54:54,870 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:54:54,877 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:54:54,882 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:54:54,884 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:54:54,887 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:54:54,896 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:54:54,896 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:54:57,430 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:54:57,430 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:54:57,433 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:54:57,434 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:54:57,434 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:54:57,434 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,436 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:54:57,460 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,461 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:54:57,520 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:54:57,521 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:54:57,522 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:54:57,523 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 14:54:57,524 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:54:57,529 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:54:57,529 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 14:54:57,547 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:55:04,349 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 14:55:04,351 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 14:55:04,356 - ERROR - ChargeCodeController - charge_code_controller:658 - Error fetching hierarchical charge code categories: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 649, in get_all_charge_code_categories_hierarchical
    .all()
     ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 296, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 589, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 132, in instances
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 113, in instances
    *[
     ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 114, in <listcomp>
    query_entity.row_processor(context, cursor)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 2695, in row_processor
    _instance = loading._instance_processor(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 954, in _instance_processor
    prop.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 1068, in create_row_processor
    strat.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 2958, in create_row_processor
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
2025-06-03 14:55:04,381 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 0 top-level categories into tree.
2025-06-03 14:58:40,028 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 14:58:40,028 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 14:58:40,028 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 14:58:40,030 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 14:58:40,030 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 14:58:40,030 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 14:58:40,035 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 14:58:40,035 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 14:58:40,039 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 14:58:40,215 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 14:58:40,217 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 14:58:40,217 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 14:58:40,217 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 14:58:40,217 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 14:58:40,217 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 14:58:40,223 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 14:58:40,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 14:58:41,902 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 14:58:50,411 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 14:58:50,572 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 14:58:50,572 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 14:58:50,573 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 14:58:50,583 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 14:58:50,583 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 14:58:50,585 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 14:58:50,585 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 14:58:50,586 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 14:58:50,588 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 14:58:50,592 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 14:58:50,592 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 14:58:50,749 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 14:58:50,752 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 14:58:50,753 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 14:58:50,758 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 14:58:50,773 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 14:58:50,774 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 14:58:50,774 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 14:58:50,776 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 14:58:50,818 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 14:58:50,819 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 14:58:50,821 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 14:58:50,870 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 14:58:50,873 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 14:58:50,873 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 14:58:50,885 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 14:58:50,908 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 14:58:50,910 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 14:58:50,917 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 14:58:50,922 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 14:58:50,925 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 14:58:50,928 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Doroni
2025-06-03 14:58:50,935 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 14:58:50,935 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 14:58:53,119 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 14:58:53,120 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 14:58:53,120 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 14:58:53,122 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 14:58:53,123 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 14:58:53,123 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,123 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 14:58:53,150 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,150 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 14:58:53,212 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 14:58:53,212 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 14:58:53,214 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 14:58:53,215 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 14:58:53,215 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 14:58:53,220 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 14:58:53,220 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 14:58:53,220 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 14:58:53,221 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: tm
2025-06-03 14:58:53,238 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 14:58:56,436 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 14:58:56,436 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 14:58:56,439 - ERROR - ChargeCodeController - charge_code_controller:658 - Error fetching hierarchical charge code categories: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 649, in get_all_charge_code_categories_hierarchical
    .all()
     ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 296, in orm_execute_statement
    return cls.orm_setup_cursor_result(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 589, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 132, in instances
    with util.safe_reraise():
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 113, in instances
    *[
     ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 114, in <listcomp>
    query_entity.row_processor(context, cursor)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 2695, in row_processor
    _instance = loading._instance_processor(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\loading.py", line 954, in _instance_processor
    prop.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 1068, in create_row_processor
    strat.create_row_processor(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 2958, in create_row_processor
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: 'ChargeCodeCategory.children' does not support object population - eager loading cannot be applied.
2025-06-03 14:58:56,447 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 0 top-level categories into tree.
2025-06-03 15:02:48,138 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 15:02:48,139 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 15:02:48,139 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 15:02:48,141 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 15:02:48,142 - INFO - UserManagementScreen - user_management_screen:1637 - User Management screen closing.
2025-06-03 15:02:48,154 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 15:02:48,159 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 15:02:48,159 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 15:09:05,223 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 15:09:05,223 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 15:09:05,224 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 15:09:05,230 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 15:09:05,230 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 15:09:05,234 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 15:09:05,412 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 15:09:05,414 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 15:09:05,414 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 15:09:05,414 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 15:09:05,414 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 15:09:05,414 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 15:09:05,419 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 15:09:05,466 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 15:09:07,395 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 15:09:17,010 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 15:09:17,171 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 15:09:17,172 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 15:09:17,172 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 15:09:17,182 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 15:09:17,182 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 15:09:17,184 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 15:09:17,184 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 15:09:17,185 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 15:09:17,187 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 15:09:17,193 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 15:09:17,193 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 15:09:17,330 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 15:09:17,334 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 15:09:17,335 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 15:09:17,338 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 15:09:17,355 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 15:09:17,356 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 15:09:17,356 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 15:09:17,396 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 15:09:17,398 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 15:09:17,398 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 15:09:17,447 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 15:09:17,450 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 15:09:17,450 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 15:09:17,460 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 15:09:17,487 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 15:09:17,488 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 15:09:17,492 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-03 15:09:17,495 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-03 15:09:17,498 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 15:09:17,498 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 15:09:20,726 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 15:09:20,726 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 15:09:20,735 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 15:09:41,649 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 15:09:41,649 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,652 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,652 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 15:09:41,663 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-03 15:09:41,663 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-03 15:09:41,664 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-03 15:09:43,396 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:43,398 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 15:09:43,399 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 15:09:43,402 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 15:09:43,403 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:43,403 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:43,408 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:43,408 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 15:09:46,038 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-03 15:09:47,226 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-03 15:09:48,317 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 1
2025-06-03 15:09:48,325 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-03 15:09:48,325 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 15:09:50,507 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 15:09:50,507 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:50,510 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:50,512 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:53,418 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-03 15:09:53,422 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 15:09:54,317 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 3, Display: West Wing Stalls (Raceburg, KY)
2025-06-03 15:09:55,243 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 3 ('West Wing Stalls') to Horse ID 1
2025-06-03 15:09:55,252 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 3 by ADMIN.
2025-06-03 15:09:55,252 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 3 to Horse ID 1. Emitting signal.
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 3, 'name': 'West Wing Stalls'}
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 1. Reloading details.
2025-06-03 15:09:55,252 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 15:09:55,254 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 15:09:55,257 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 15:09:55,258 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 15:10:03,828 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 15:10:03,828 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 15:10:03,830 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 15:10:03,832 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 15:10:03,832 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 15:10:03,833 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,833 - INFO - UserManagementScreen - user_management_screen:308 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 15:10:03,857 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,857 - INFO - UserManagementScreen - user_management_screen:346 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 15:10:03,914 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 15:10:03,915 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 15:10:03,917 - INFO - UserManagementScreen - user_management_screen:856 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 15:10:03,918 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 15:10:03,918 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 1 users into custom list.
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 15:10:03,922 - WARNING - UserManagementScreen - user_management_screen:274 - Docstring not found for UserManagementScreen class.
2025-06-03 15:10:03,922 - INFO - UserManagementScreen - user_management_screen:259 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 15:10:03,940 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 15:10:06,482 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 15:10:28,234 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-03 15:10:28,394 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-03 15:10:28,394 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-03 15:10:28,400 - INFO - UserManagementScreen - user_management_screen:868 - Loading users data for User Management tab (custom list)...
2025-06-03 15:10:28,403 - INFO - UserManagementScreen - user_management_screen:884 - Loaded 2 users into custom list.
2025-06-03 15:10:28,404 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-03 15:10:30,488 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 15:10:30,488 - INFO - UserManagementScreen - user_management_screen:894 - Loading locations data for tab...
2025-06-03 15:10:30,492 - INFO - UserManagementScreen - user_management_screen:933 - Loaded 3 locations with detailed address.
2025-06-03 15:10:32,889 - INFO - UserManagementScreen - user_management_screen:1139 - Location selected: 1
2025-06-03 15:10:33,956 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 15:10:38,232 - INFO - UserManagementScreen - user_management_screen:351 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 15:10:38,232 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1135, in _on_location_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1135, in _on_location_selected
    if current_row >= 0:
       ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_row' where it is not associated with a value
2025-06-03 15:10:45,572 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:10:45,577 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:06,224 - INFO - UserManagementScreen - user_management_screen:1403 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 15:11:26,398 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Category 'ANTHELMINTICS'?
2025-06-03 15:11:28,659 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 1 with data: {'is_active': False}
2025-06-03 15:11:28,662 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Category 'ANTHELMINTICS' (ID: 1) updated by ADMIN.
2025-06-03 15:11:28,662 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:11:28,662 - INFO - UserManagementScreen - user_management_screen:1407 - CCC selection cleared.
2025-06-03 15:11:28,667 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:28,667 - INFO - UserManagementScreen - base_view:322 - Status update: Category updated successfully.
2025-06-03 15:11:30,439 - INFO - UserManagementScreen - user_management_screen:1403 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 15:11:33,967 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Category 'ANTHELMINTICS'?
2025-06-03 15:11:36,077 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 1 with data: {'is_active': False}
2025-06-03 15:11:36,079 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Category 'ANTHELMINTICS' (ID: 1) updated by ADMIN.
2025-06-03 15:11:36,080 - INFO - UserManagementScreen - user_management_screen:1325 - Loading charge code categories/processes data...
2025-06-03 15:11:36,080 - INFO - UserManagementScreen - user_management_screen:1407 - CCC selection cleared.
2025-06-03 15:11:36,083 - INFO - UserManagementScreen - user_management_screen:1370 - Loaded 8 top-level categories into tree.
2025-06-03 15:11:36,085 - INFO - UserManagementScreen - base_view:322 - Status update: Category updated successfully.
2025-06-03 17:16:12,572 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:16:12,572 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:16:12,572 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:16:12,585 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:16:12,585 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:16:12,608 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:16:12,609 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:16:12,609 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:16:12,797 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:16:12,800 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:16:12,800 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:16:12,800 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:16:12,800 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:16:12,800 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:16:12,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:16:12,856 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:16:21,620 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:16:31,706 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:16:31,867 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:16:31,869 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:16:31,869 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:16:31,879 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:16:31,881 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:16:31,882 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:16:31,885 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:16:31,890 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:16:31,890 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:16:33,150 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:16:33,154 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:16:33,156 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:16:33,159 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:16:33,175 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:16:33,176 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:16:33,178 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:16:33,178 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:16:33,222 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:16:33,223 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:16:33,223 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:16:33,279 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:16:33,283 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:16:33,283 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:16:33,296 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:16:33,323 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:16:33,323 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:16:33,329 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:16:33,334 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:16:33,335 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:16:33,337 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:16:33,346 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:16:33,346 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:16:42,403 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:16:42,406 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:16:42,407 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:16:42,409 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,410 - INFO - UserManagementScreen - user_management_screen:274 - ****** UserManagementScreen.setup_ui() (vUnknown (No Docstring)) ENTERED ******
2025-06-03 17:16:42,433 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,433 - INFO - UserManagementScreen - user_management_screen:304 - UserManagementScreen.setup_ui (vUnknown (No Docstring)) FINISHED.
2025-06-03 17:16:42,492 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 17:16:42,493 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 17:16:42,494 - INFO - UserManagementScreen - user_management_screen:808 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 17:16:42,496 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:16:42,496 - INFO - UserManagementScreen - user_management_screen:820 - Loading users data for User Management tab (custom list)...
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - user_management_screen:836 - Loaded 2 users into custom list.
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 17:16:42,500 - WARNING - UserManagementScreen - user_management_screen:241 - Docstring not found for UserManagementScreen class.
2025-06-03 17:16:42,500 - INFO - UserManagementScreen - user_management_screen:227 - UserManagementScreen (vUnknown (No Docstring)) initialized for user: ADMIN
2025-06-03 17:16:42,519 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 17:16:44,682 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:16:44,682 - INFO - UserManagementScreen - user_management_screen:846 - Loading locations data for tab...
2025-06-03 17:16:44,686 - INFO - UserManagementScreen - user_management_screen:885 - Loaded 3 locations with detailed address.
2025-06-03 17:16:50,165 - INFO - UserManagementScreen - user_management_screen:1092 - Location selected (row: 0): 1
2025-06-03 17:16:54,095 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:16:54,095 - INFO - UserManagementScreen - user_management_screen:1092 - Location selected (row: -1): None
2025-06-03 17:16:54,106 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
2025-06-03 17:18:42,047 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:18:42,050 - INFO - UserManagementScreen - user_management_screen:895 - Loading charge codes data for tab...
2025-06-03 17:18:42,055 - INFO - UserManagementScreen - user_management_screen:904 - Charge code status filter: active
2025-06-03 17:18:42,059 - INFO - UserManagementScreen - user_management_screen:968 - Loaded 2 charge codes.
2025-06-03 17:18:44,210 - INFO - UserManagementScreen - user_management_screen:1156 - Charge Code selected: 2
2025-06-03 17:18:56,697 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:18:56,697 - INFO - UserManagementScreen - user_management_screen:1156 - Charge Code selected: None
2025-06-03 17:18:56,699 - INFO - UserManagementScreen - user_management_screen:976 - Loading master owners data for tab...
2025-06-03 17:18:56,702 - INFO - UserManagementScreen - user_management_screen:1016 - Loaded 2 master owners.
2025-06-03 17:18:58,797 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 17:18:58,799 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 17:19:03,102 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:19:03,103 - INFO - UserManagementScreen - user_management_screen:895 - Loading charge codes data for tab...
2025-06-03 17:19:03,103 - INFO - UserManagementScreen - user_management_screen:904 - Charge code status filter: active
2025-06-03 17:19:03,106 - INFO - UserManagementScreen - user_management_screen:968 - Loaded 2 charge codes.
2025-06-03 17:19:05,162 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:19:05,166 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 379, in _on_tab_changed
    self.load_charge_code_categories_data()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute 'load_charge_code_categories_data'
2025-06-03 17:19:09,074 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:19:09,075 - INFO - UserManagementScreen - user_management_screen:846 - Loading locations data for tab...
2025-06-03 17:19:09,078 - INFO - UserManagementScreen - user_management_screen:885 - Loaded 3 locations with detailed address.
2025-06-03 17:19:11,412 - INFO - UserManagementScreen - user_management_screen:311 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:19:11,412 - INFO - UserManagementScreen - user_management_screen:820 - Loading users data for User Management tab (custom list)...
2025-06-03 17:19:11,417 - INFO - UserManagementScreen - user_management_screen:836 - Loaded 2 users into custom list.
2025-06-03 17:19:20,654 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 17:19:20,657 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 17:19:20,663 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 17:19:20,666 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 17:19:20,667 - INFO - UserManagementScreen - user_management_screen:1515 - User Management screen closing.
2025-06-03 17:19:20,737 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 17:19:20,742 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 17:19:20,745 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 17:31:21,353 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:31:21,353 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:31:21,355 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:31:21,355 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:31:21,362 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:31:21,362 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:31:21,365 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:31:21,542 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:31:21,545 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:31:21,545 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:31:21,545 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:31:21,545 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:31:21,545 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:31:21,550 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:31:21,593 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:31:24,048 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:31:33,764 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:31:33,926 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:31:33,927 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:31:33,927 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:31:33,939 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:31:33,939 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:31:33,941 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:31:33,942 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:31:33,942 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:31:33,945 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:31:33,951 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:31:33,951 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:31:34,106 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:31:34,109 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:31:34,110 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:31:34,114 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:31:34,129 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:31:34,131 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:31:34,131 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:31:34,132 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:31:34,132 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:31:34,133 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:31:34,174 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:31:34,175 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:31:34,177 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:31:34,226 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:31:34,230 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:31:34,230 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:31:34,244 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:31:34,268 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:31:34,268 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:31:34,276 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:31:34,280 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:31:34,282 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:31:34,284 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:31:34,293 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:31:34,293 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:31:38,574 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:31:38,574 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:31:38,576 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:31:38,577 - INFO - UserManagementScreen - user_management_screen:296 - ****** UserManagementScreen.setup_ui() (v1.12.23) ENTERED ******
2025-06-03 17:31:38,579 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
2025-06-03 17:31:58,826 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:31:58,827 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:31:58,829 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:31:58,830 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:31:58,830 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:31:58,832 - INFO - UserManagementScreen - user_management_screen:296 - ****** UserManagementScreen.setup_ui() (v1.12.23) ENTERED ******
2025-06-03 17:31:58,832 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 234, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 306, in setup_ui
    if widget:
       ^^^^^^
UnboundLocalError: cannot access local variable 'widget' where it is not associated with a value
2025-06-03 17:50:03,666 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 17:50:03,666 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 17:50:03,667 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 17:50:03,667 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 17:50:03,679 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 17:50:03,682 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 17:50:03,684 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 17:50:45,141 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 17:50:45,141 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 17:50:45,142 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 17:50:45,142 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 17:50:45,143 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 17:50:45,143 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 17:50:45,150 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 17:50:45,150 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 17:50:45,153 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 17:50:45,153 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 17:50:45,155 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 17:50:45,330 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 17:50:45,332 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 17:50:45,332 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 17:50:45,333 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 17:50:45,333 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 17:50:45,333 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 17:50:45,337 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 17:50:45,381 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 17:50:47,353 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 17:50:57,274 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 17:50:57,435 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 17:50:57,435 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 17:50:57,437 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 17:50:57,449 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 17:50:57,449 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 17:50:57,449 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 17:50:57,450 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 17:50:57,452 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 17:50:57,453 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 17:50:57,459 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 17:50:57,459 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 17:50:57,604 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 17:50:57,607 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 17:50:57,608 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 17:50:57,613 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 17:50:57,628 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 17:50:57,628 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 17:50:57,629 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 17:50:57,672 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 17:50:57,673 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 17:50:57,673 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 17:50:57,722 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 17:50:57,725 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 17:50:57,725 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 17:50:57,737 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 17:50:57,762 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 17:50:57,764 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 17:50:57,772 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 17:50:57,776 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 17:50:57,778 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 17:50:57,781 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 17:50:57,788 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 17:50:57,788 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 17:51:01,339 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 17:51:01,339 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 17:51:01,340 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 17:51:01,342 - INFO - UserManagementScreen - user_management_screen:282 - ****** UserManagementScreen.setup_ui() (v1.12.24) ENTERED ******
2025-06-03 17:51:01,364 - INFO - UserManagementScreen - user_management_screen:329 - UserManagementScreen.setup_ui (v1.12.24) FINISHED.
2025-06-03 17:51:01,423 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 17:51:01,424 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 17:51:01,424 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - user_management_screen:809 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 17:51:01,426 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:51:01,427 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 17:51:01,432 - INFO - UserManagementScreen - user_management_screen:236 - UserManagementScreen (v1.12.24) initialized for user: ADMIN
2025-06-03 17:51:01,449 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 17:51:08,464 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 17:51:12,397 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:51:12,397 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:51:12,400 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:51:14,028 - INFO - UserManagementScreen - user_management_screen:1093 - Location selected (row: 1): 2
2025-06-03 17:51:18,108 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 17:51:23,159 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 17:51:23,159 - INFO - UserManagementScreen - user_management_screen:1093 - Location selected (row: -1): None
2025-06-03 17:51:23,160 - INFO - UserManagementScreen - user_management_screen:1279 - Loading charge code categories/processes data...
2025-06-03 17:51:23,164 - INFO - UserManagementScreen - user_management_screen:1315 - Loaded 8 top-level categories into tree.
2025-06-03 17:51:28,490 - INFO - UserManagementScreen - user_management_screen:1344 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 17:51:41,859 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:51:41,859 - INFO - UserManagementScreen - user_management_screen:1348 - CCC selection cleared.
2025-06-03 17:51:41,860 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:51:41,860 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:51:41,865 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 17:51:44,251 - INFO - UserManagementScreen - user_management_screen:1157 - Charge Code selected: 2
2025-06-03 17:51:46,388 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:51:46,388 - INFO - UserManagementScreen - user_management_screen:1157 - Charge Code selected: None
2025-06-03 17:51:46,390 - INFO - UserManagementScreen - user_management_screen:977 - Loading master owners data for tab...
2025-06-03 17:51:46,392 - INFO - UserManagementScreen - user_management_screen:1017 - Loaded 2 master owners.
2025-06-03 17:51:51,723 - INFO - UserManagementScreen - user_management_screen:1220 - Master Owner selected (row: 1): 1
2025-06-03 17:51:53,013 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 17:51:53,014 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 17:51:57,323 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:51:57,323 - INFO - UserManagementScreen - user_management_screen:1220 - Master Owner selected (row: -1): None
2025-06-03 17:51:57,325 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:51:57,328 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:52:00,639 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:52:00,639 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:52:00,640 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:52:00,643 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 17:52:31,298 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:52:31,300 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:52:31,303 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:52:47,217 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 17:52:47,220 - INFO - UserManagementScreen - user_management_screen:821 - Loading users data for User Management tab (custom list)...
2025-06-03 17:52:47,227 - INFO - UserManagementScreen - user_management_screen:837 - Loaded 2 users into custom list.
2025-06-03 17:52:52,207 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 17:52:52,207 - INFO - UserManagementScreen - user_management_screen:847 - Loading locations data for tab...
2025-06-03 17:52:52,210 - INFO - UserManagementScreen - user_management_screen:886 - Loaded 3 locations with detailed address.
2025-06-03 17:52:55,380 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 17:52:55,380 - INFO - UserManagementScreen - user_management_screen:977 - Loading master owners data for tab...
2025-06-03 17:52:55,382 - INFO - UserManagementScreen - user_management_screen:1017 - Loaded 2 master owners.
2025-06-03 17:52:56,606 - INFO - UserManagementScreen - user_management_screen:336 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 17:52:56,606 - INFO - UserManagementScreen - user_management_screen:896 - Loading charge codes data for tab...
2025-06-03 17:52:56,609 - INFO - UserManagementScreen - user_management_screen:905 - Charge code status filter: active
2025-06-03 17:52:56,612 - INFO - UserManagementScreen - user_management_screen:969 - Loaded 2 charge codes.
2025-06-03 18:01:26,151 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:01:26,152 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 18:01:26,152 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 18:01:26,154 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:01:26,154 - INFO - UserManagementScreen - user_management_screen:1620 - User Management screen closing.
2025-06-03 18:01:26,167 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:01:26,173 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:01:26,178 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:02:00,875 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:02:00,875 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:02:00,877 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:02:00,877 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:02:00,884 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:02:00,884 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:02:00,885 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:02:00,887 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:02:00,887 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:02:01,062 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:02:01,064 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:02:01,064 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:02:01,064 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:02:01,066 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:02:01,066 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:02:01,070 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:02:01,112 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:02:03,357 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:02:14,061 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:02:14,223 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:02:14,223 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:02:14,225 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:02:14,235 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:02:14,235 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:02:14,237 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:02:14,237 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:02:14,238 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:02:14,242 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:02:14,249 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:02:14,250 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:02:14,399 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:02:14,402 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:02:14,404 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:02:14,407 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:02:14,423 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:02:14,425 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:02:14,466 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:02:14,469 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:02:14,470 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:02:14,519 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:02:14,523 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:02:14,523 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:02:14,534 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:02:14,560 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:02:14,560 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:02:14,567 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-03 18:02:14,572 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-03 18:02:14,572 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 18:02:14,575 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 18:02:14,586 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 18:02:14,586 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:02:17,576 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:02:17,577 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:02:17,579 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:02:17,580 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:02:17,603 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:02:17,662 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:02:17,664 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:02:17,665 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:02:17,665 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:770 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:02:17,666 - INFO - UserManagementScreen - user_management_screen:782 - Loading users data for User Management tab (custom list)...
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - user_management_screen:798 - Loaded 2 users into custom list.
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:02:17,671 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:02:17,690 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:02:20,465 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-03 18:02:24,769 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 18:02:24,769 - INFO - UserManagementScreen - user_management_screen:808 - Loading locations data for tab...
2025-06-03 18:02:24,773 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 3 locations with detailed address.
2025-06-03 18:02:26,085 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:02:30,069 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:02:30,069 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:02:30,073 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:02:37,549 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:02:44,160 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:02:44,160 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:02:44,161 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:02:44,162 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:02:44,166 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:02:52,157 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 18:02:52,157 - INFO - UserManagementScreen - user_management_screen:938 - Loading master owners data for tab...
2025-06-03 18:02:52,160 - INFO - UserManagementScreen - user_management_screen:978 - Loaded 2 master owners.
2025-06-03 18:02:54,539 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-03 18:02:54,540 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-03 18:03:00,142 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:03:00,142 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:03:00,147 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:03:32,604 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:03:32,614 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 18:04:02,275 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 18:04:02,277 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 18:04:02,283 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 18:04:30,723 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Confirm Discard - Discard unsaved changes?
2025-06-03 18:04:32,846 - INFO - HorseUnifiedManagement - horse_unified_management:451 - discard_changes: User confirmed discard.
2025-06-03 18:04:32,849 - INFO - HorseUnifiedManagement - base_view:341 - Asking Question: Unsaved Changes - Discard unsaved changes to current horse?
2025-06-03 18:04:35,332 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-03 18:04:35,334 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-03 18:04:35,337 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-03 18:04:38,655 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - add_new_horse: START
2025-06-03 18:04:38,655 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-03 18:04:38,659 - INFO - HorseUnifiedManagement - horse_unified_management:1081 - add_new_horse: FINISHED
2025-06-03 18:05:03,906 - INFO - HorseUnifiedManagement - horse_unified_management:1147 - save_changes: START
2025-06-03 18:05:03,906 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,909 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,909 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-03 18:05:03,919 - INFO - HorseController - horse_controller:179 - Horse 'Bay Breeze' (ID: 2) created successfully by ADMIN.
2025-06-03 18:05:03,919 - INFO - HorseUnifiedManagement - horse_unified_management:1219 - save_changes: Save successful. Message: Horse 'Bay Breeze' created successfully.
2025-06-03 18:05:03,919 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Bay Breeze' created successfully.
2025-06-03 18:05:05,900 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:05,900 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:05:05,903 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:05:05,907 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:05:05,907 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:05:05,909 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:05,910 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:05:05,912 - INFO - HorseUnifiedManagement - horse_unified_management:1294 - save_changes: FINISHED
2025-06-03 18:05:11,710 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:05:11,714 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-03 18:05:13,214 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 1, Display: Main Stable (Equineville, PA)
2025-06-03 18:05:14,423 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 1 ('Main Stable') to Horse ID 2
2025-06-03 18:05:14,432 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 1 by ADMIN.
2025-06-03 18:05:14,432 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 1 to Horse ID 2. Emitting signal.
2025-06-03 18:05:14,432 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 1, 'name': 'Main Stable'}
2025-06-03 18:05:14,433 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 18:05:14,435 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:05:14,436 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:05:14,439 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:05:14,441 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 18:06:21,388 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Bay Breeze
2025-06-03 18:06:21,394 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:06:56,110 - INFO - LocationController - location_controller:186 - Location 'Ev-Ry Farm' (ID: 4) created by ADMIN.
2025-06-03 18:06:56,110 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Location created successfully.
2025-06-03 18:06:57,866 - WARNING - LocationTab - location_tab:255 - AddEditLocationDialog did not return created location details. User may need to assign manually.
2025-06-03 18:06:57,866 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Created - New location created. If not automatically assigned, please use 'Assign Existing Location' to link it.
2025-06-03 18:07:06,020 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:07:06,023 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:07:11,349 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-03 18:07:14,344 - INFO - LocationTab - location_tab:227 - Initiating Create & Assign New Location for horse: Bay Breeze
2025-06-03 18:07:14,348 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-03 18:08:07,827 - INFO - LocationTab - location_tab:263 - Create & Assign New Location dialog cancelled.
2025-06-03 18:08:11,939 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:08:11,942 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:08:16,002 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-03 18:08:20,303 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Bay Breeze
2025-06-03 18:08:20,308 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 4 active locations initially.
2025-06-03 18:08:21,969 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 4, Display: Ev-Ry Farm
2025-06-03 18:08:25,076 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 4 ('Ev-Ry Farm') to Horse ID 2
2025-06-03 18:08:25,081 - INFO - HorseController - horse_controller:613 - Horse ID 2 assigned to location ID 4 by ADMIN.
2025-06-03 18:08:25,082 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 4 to Horse ID 2. Emitting signal.
2025-06-03 18:08:25,082 - INFO - HorseUnifiedManagement - horse_unified_management:834 - Received location_assignment_changed: {'id': 4, 'name': 'Ev-Ry Farm'}
2025-06-03 18:08:25,082 - INFO - HorseUnifiedManagement - horse_unified_management:837 - Location changed for horse ID 2. Reloading details.
2025-06-03 18:08:25,084 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:08:25,085 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:08:25,087 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:08:25,089 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-03 18:08:30,982 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Bay Breeze
2025-06-03 18:08:38,677 - INFO - OwnersTab - owners_tab:394 - Link existing owner dialog cancelled.
2025-06-03 18:08:41,135 - INFO - OwnersTab - owners_tab:285 - Initiating Create & Link Owner for: Bay Breeze
2025-06-03 18:12:04,555 - INFO - OwnersTab - owners_tab:306 - Dialog OK. Owner: {'farm_name': 'Ev-Ry Farm', 'account_number': '005493', 'first_name': 'John', 'last_name': 'Jones', 'address_line1': '234 8th St', 'address_line2': '', 'city': 'Mount Laurel', 'state_code': 'NJ', 'zip_code': '08054', 'country_name': 'USA', 'phone': '4564565666', 'email': '', 'is_active': True}, Percentage: 100.0
2025-06-03 18:12:04,562 - INFO - OwnerController - owner_controller:292 - Master Owner 'Ev-Ry Farm (John Jones)' (ID: 3) created by ADMIN.
2025-06-03 18:12:04,567 - INFO - HorseController - horse_controller:493 - Owner ID 3 added to horse ID 2 by ADMIN.
2025-06-03 18:12:04,567 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-03 18:12:06,586 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-03 18:12:06,586 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:12:06,590 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:12:06,594 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:15:16,977 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:15:16,977 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:15:16,978 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:15:16,978 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:15:16,980 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:15:16,980 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:15:17,002 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:15:17,062 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:15:17,064 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:770 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:15:17,066 - INFO - UserManagementScreen - user_management_screen:782 - Loading users data for User Management tab (custom list)...
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - user_management_screen:798 - Loaded 2 users into custom list.
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:15:17,069 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:15:17,087 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:15:25,539 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:15:25,539 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:15:25,542 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:15:25,544 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:15:28,036 - INFO - UserManagementScreen - user_management_screen:1118 - Charge Code selected: 2
2025-06-03 18:15:29,770 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Action - Are you sure you want to toggle the active/inactive status for Charge Code 'EXAM001' (ID: 2)?
2025-06-03 18:15:31,880 - INFO - ChargeCodeController - charge_code_controller:381 - Charge Code 'EXAM001' (ID: 2) status changed to inactive by ADMIN.
2025-06-03 18:15:31,880 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code 'EXAM001' status set to inactive.
2025-06-03 18:15:31,881 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:15:31,882 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:15:31,882 - INFO - UserManagementScreen - user_management_screen:1118 - Charge Code selected: None
2025-06-03 18:15:31,884 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 1 charge codes.
2025-06-03 18:17:09,335 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '9' created (ID: 3) by ADMIN.
2025-06-03 18:17:09,335 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:17:11,193 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:17:11,193 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:17:11,198 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 2 charge codes.
2025-06-03 18:17:11,198 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:19:12,322 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '13' created (ID: 4) by ADMIN.
2025-06-03 18:19:12,322 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:19:14,191 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:19:14,192 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:19:14,195 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 3 charge codes.
2025-06-03 18:19:14,195 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:22:00,265 - INFO - ChargeCodeController - charge_code_controller:166 - Charge Code '15' created (ID: 5) by ADMIN.
2025-06-03 18:22:00,265 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Charge code created successfully.
2025-06-03 18:22:02,159 - INFO - UserManagementScreen - user_management_screen:857 - Loading charge codes data for tab...
2025-06-03 18:22:02,160 - INFO - UserManagementScreen - user_management_screen:866 - Charge code status filter: active
2025-06-03 18:22:02,164 - INFO - UserManagementScreen - user_management_screen:930 - Loaded 4 charge codes.
2025-06-03 18:22:02,164 - INFO - UserManagementScreen - base_view:322 - Status update: Charge code added.
2025-06-03 18:22:15,107 - INFO - UserManagementScreen - user_management_screen:310 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:22:15,107 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:22:15,112 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:22:29,429 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:22:38,497 - INFO - ChargeCodeController - charge_code_controller:456 - Attempting to create charge code category with data: {'name': 'test', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:22:38,503 - INFO - ChargeCodeController - charge_code_controller:484 - Charge Code Process 'test' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:22:38,505 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:22:40,259 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:22:40,259 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:22:40,264 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:22:40,265 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'NoneType' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1378, in _add_new_process_to_selected
    f"New Process added under '{self.current_selected_ccc_object.name}'."
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1378, in _add_new_process_to_selected
    f"New Process added under '{self.current_selected_ccc_object.name}'."
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'name'
2025-06-03 18:23:07,190 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=13, Level=1, Name='EXAMINATIONS'
2025-06-03 18:23:08,612 - INFO - UserManagementScreen - user_management_screen:1307 - CCC selected: ID=43, Level=2, Name='test'
2025-06-03 18:23:12,577 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to delete the Process 'test'? This cannot be undone.
2025-06-03 18:23:15,016 - INFO - ChargeCodeController - charge_code_controller:610 - Charge Code Process 'test' (ID: 43) deleted by ADMIN.
2025-06-03 18:23:15,016 - INFO - UserManagementScreen - user_management_screen:1240 - Loading charge code categories/processes data...
2025-06-03 18:23:15,018 - INFO - UserManagementScreen - user_management_screen:1311 - CCC selection cleared.
2025-06-03 18:23:15,021 - INFO - UserManagementScreen - user_management_screen:1278 - Loaded 8 top-level categories into tree.
2025-06-03 18:23:15,022 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test' deleted successfully.
2025-06-03 18:24:32,468 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:24:32,492 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 18:24:35,918 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-03 18:24:35,922 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-03 18:24:35,925 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 18:24:35,927 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:24:35,930 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:24:35,934 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:24:35,979 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:24:35,988 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:31:42,222 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:31:42,222 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:31:42,223 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:31:42,229 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:31:42,229 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:31:42,232 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:31:42,232 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:31:42,234 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:31:42,409 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:31:42,411 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:31:42,411 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:31:42,412 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:31:42,412 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:31:42,412 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:31:42,417 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:31:42,458 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:31:44,400 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:31:54,124 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:31:54,287 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:31:54,287 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:31:54,289 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:31:54,299 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:31:54,299 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:31:54,299 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:31:54,300 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:31:54,302 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:31:54,303 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:31:54,307 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:31:54,309 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:31:54,465 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:31:54,468 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:31:54,470 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:31:54,474 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:31:54,489 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:31:54,490 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:31:54,492 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:31:54,533 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:31:54,534 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:31:54,534 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:31:54,585 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:31:54,588 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:31:54,588 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:31:54,600 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:31:54,622 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:31:54,622 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:31:54,629 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:31:54,635 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:31:54,637 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:31:54,638 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:31:54,647 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:31:54,649 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:31:56,698 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:31:56,700 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:31:56,700 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:31:56,702 - INFO - UserManagementScreen - user_management_screen:272 - ****** UserManagementScreen.setup_ui() (v1.12.25) ENTERED ******
2025-06-03 18:31:56,725 - INFO - UserManagementScreen - user_management_screen:305 - UserManagementScreen.setup_ui (v1.12.25) FINISHED.
2025-06-03 18:31:56,786 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:31:56,787 - INFO - UserManagementScreen - user_management_screen:765 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:31:56,789 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:31:56,789 - INFO - UserManagementScreen - user_management_screen:777 - Loading users data for User Management tab (custom list)...
2025-06-03 18:31:56,793 - INFO - UserManagementScreen - user_management_screen:793 - Loaded 2 users into custom list.
2025-06-03 18:31:56,793 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:31:56,794 - INFO - UserManagementScreen - user_management_screen:226 - UserManagementScreen (v1.12.25) initialized for user: ADMIN
2025-06-03 18:31:56,812 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:32:10,850 - INFO - UserManagementScreen - user_management_screen:312 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:32:10,850 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:10,857 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:13,077 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:32:22,144 - INFO - ChargeCodeController - charge_code_controller:456 - Attempting to create charge code category with data: {'name': 'test2', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:32:22,152 - INFO - ChargeCodeController - charge_code_controller:484 - Charge Code Process 'test2' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:32:22,152 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:32:23,864 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:23,864 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:23,870 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:23,870 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 18:32:26,264 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=43, Level=2, Name='test2'
2025-06-03 18:32:30,486 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Delete - Are you sure you want to delete the Process 'test2'? This cannot be undone.
2025-06-03 18:32:33,902 - INFO - ChargeCodeController - charge_code_controller:610 - Charge Code Process 'test2' (ID: 43) deleted by ADMIN.
2025-06-03 18:32:33,903 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:33,904 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:33,908 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:33,908 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test2' deleted successfully.
2025-06-03 18:32:39,664 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:32:41,612 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'DISPENSED'?
2025-06-03 18:32:47,106 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 3 with data: {'is_active': False, 'name': 'DISPENSED'}
2025-06-03 18:32:47,107 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Process 'DISPENSED' (ID: 3) updated by ADMIN.
2025-06-03 18:32:47,107 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:47,109 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:47,112 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:47,113 - INFO - UserManagementScreen - base_view:322 - Status update: Process updated successfully.
2025-06-03 18:32:50,642 - INFO - UserManagementScreen - user_management_screen:1302 - CCC selected: ID=3, Level=2, Name='DISPENSED'
2025-06-03 18:32:54,548 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'DISPENSED'?
2025-06-03 18:32:56,541 - INFO - ChargeCodeController - charge_code_controller:511 - Attempting to update category ID 3 with data: {'is_active': False, 'name': 'DISPENSED'}
2025-06-03 18:32:56,542 - INFO - ChargeCodeController - charge_code_controller:547 - Charge Code Process 'DISPENSED' (ID: 3) updated by ADMIN.
2025-06-03 18:32:56,542 - INFO - UserManagementScreen - user_management_screen:1235 - Loading charge code categories/processes data...
2025-06-03 18:32:56,544 - INFO - UserManagementScreen - user_management_screen:1306 - CCC selection cleared.
2025-06-03 18:32:56,547 - INFO - UserManagementScreen - user_management_screen:1273 - Loaded 8 top-level categories into tree.
2025-06-03 18:32:56,547 - INFO - UserManagementScreen - base_view:322 - Status update: Process updated successfully.
2025-06-03 18:40:20,734 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 18:40:20,786 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 18:40:20,821 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 18:40:20,864 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 18:40:20,897 - INFO - UserManagementScreen - user_management_screen:1583 - User Management screen closing.
2025-06-03 18:40:21,295 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 18:40:21,318 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 18:40:21,341 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 18:41:52,552 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 18:41:52,552 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 18:41:52,553 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 18:41:52,553 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 18:41:52,560 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 18:41:52,560 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 18:41:52,562 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 18:41:52,564 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 18:41:52,564 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 18:41:52,739 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 18:41:52,742 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 18:41:52,742 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 18:41:52,742 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 18:41:52,742 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 18:41:52,742 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 18:41:52,748 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 18:41:52,790 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 18:41:54,132 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 18:46:19,798 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 18:46:19,963 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 18:46:19,963 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 18:46:19,964 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 18:46:19,976 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 18:46:19,976 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 18:46:19,977 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 18:46:19,977 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 18:46:19,979 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 18:46:19,980 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 18:46:19,988 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 18:46:19,988 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 18:46:20,150 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 18:46:20,153 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 18:46:20,154 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 18:46:20,159 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 18:46:20,174 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 18:46:20,176 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 18:46:20,216 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 18:46:20,219 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 18:46:20,219 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 18:46:20,270 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 18:46:20,273 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 18:46:20,273 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 18:46:20,285 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 18:46:20,313 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 18:46:20,313 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 18:46:20,320 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 18:46:20,326 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 18:46:20,328 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 18:46:20,331 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 18:46:20,338 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 18:46:20,338 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 18:47:45,941 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 18:47:45,942 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 18:47:45,943 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 18:47:45,943 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 18:47:45,944 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 18:47:45,944 - INFO - UserManagementScreen - user_management_screen:290 - ****** UserManagementScreen.setup_ui() (v1.12.26) ENTERED ******
2025-06-03 18:47:45,966 - INFO - UserManagementScreen - user_management_screen:323 - UserManagementScreen.setup_ui (v1.12.26) FINISHED.
2025-06-03 18:47:46,028 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 18:47:46,030 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 18:47:46,031 - INFO - UserManagementScreen - user_management_screen:834 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 18:47:46,031 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 18:47:46,033 - INFO - UserManagementScreen - user_management_screen:846 - Loading users data for User Management tab (custom list)...
2025-06-03 18:47:46,036 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 2 users into custom list.
2025-06-03 18:47:46,037 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 18:47:46,037 - INFO - UserManagementScreen - user_management_screen:244 - UserManagementScreen (v1.12.26) initialized for user: ADMIN
2025-06-03 18:47:46,057 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 18:47:48,376 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 18:47:48,376 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:48,378 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:47:48,382 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:47:52,631 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:52,632 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: inactive
2025-06-03 18:47:52,633 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 0 top-level categories into tree based on filter 'inactive'.
2025-06-03 18:47:54,454 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:47:54,454 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:47:54,458 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:47:56,898 - INFO - UserManagementScreen - user_management_screen:1420 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 18:48:03,536 - INFO - ChargeCodeController - charge_code_controller:399 - Attempting to create charge code category with data: {'name': 'test', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 18:48:03,542 - INFO - ChargeCodeController - charge_code_controller:421 - Charge Code Process 'test' (ID: 43, Level: 2, ParentID: 1) created by ADMIN.
2025-06-03 18:48:03,542 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 18:48:05,203 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:05,203 - INFO - UserManagementScreen - user_management_screen:1424 - CCC selection cleared.
2025-06-03 18:48:05,206 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:05,209 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:48:05,209 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 18:48:06,540 - INFO - UserManagementScreen - user_management_screen:1420 - CCC selected: ID=43, Level=2, Name='test'
2025-06-03 18:48:09,659 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'test'?
2025-06-03 18:48:11,977 - INFO - ChargeCodeController - charge_code_controller:542 - Process 'test' (ID: 43) status changed to inactive by ADMIN.
2025-06-03 18:48:11,977 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:11,979 - INFO - UserManagementScreen - user_management_screen:1424 - CCC selection cleared.
2025-06-03 18:48:11,979 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:11,982 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:48:11,983 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test' status set to inactive.
2025-06-03 18:48:14,410 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:14,412 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: inactive
2025-06-03 18:48:14,413 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 0 top-level categories into tree based on filter 'inactive'.
2025-06-03 18:48:17,624 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 18:48:17,624 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 18:48:17,628 - INFO - UserManagementScreen - user_management_screen:1391 - Loaded 8 top-level categories into tree based on filter 'active'.
2025-06-03 18:52:26,029 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 18:52:26,030 - INFO - UserManagementScreen - user_management_screen:921 - Loading charge codes data for tab...
2025-06-03 18:52:26,036 - INFO - UserManagementScreen - user_management_screen:930 - Charge code status filter: active
2025-06-03 18:52:26,042 - INFO - UserManagementScreen - user_management_screen:994 - Loaded 4 charge codes.
2025-06-03 19:33:48,692 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:33:48,692 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:33:48,692 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:33:48,693 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:33:48,693 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:33:48,693 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:33:48,700 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:33:48,700 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:33:48,703 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:33:48,705 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:33:48,705 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:33:48,883 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:33:48,885 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:33:48,885 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:33:48,885 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:33:48,885 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:33:48,886 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:33:48,892 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:33:48,932 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:33:50,562 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:34:02,297 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 19:34:02,462 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 19:34:02,463 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 19:34:02,463 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 19:34:02,476 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:34:02,477 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:34:02,479 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:34:02,480 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:34:02,487 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:34:02,487 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:34:02,663 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:34:02,666 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:34:02,667 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:34:02,672 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:34:02,688 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:34:02,688 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:34:02,690 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:34:02,691 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:34:02,733 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:34:02,734 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:34:02,734 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:34:02,788 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:34:02,792 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:34:02,793 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:34:02,804 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:34:02,830 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:34:02,830 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:34:02,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:34:02,844 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:34:02,844 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:34:02,847 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:34:02,855 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:34:02,857 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:34:05,676 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:34:05,678 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:34:05,679 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:34:05,679 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:34:05,681 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:34:05,681 - INFO - UserManagementScreen - user_management_screen:290 - ****** UserManagementScreen.setup_ui() (v1.12.26) ENTERED ******
2025-06-03 19:34:05,703 - INFO - UserManagementScreen - user_management_screen:323 - UserManagementScreen.setup_ui (v1.12.26) FINISHED.
2025-06-03 19:34:05,763 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:34:05,765 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:34:05,765 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - user_management_screen:834 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:34:05,766 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:34:05,768 - INFO - UserManagementScreen - user_management_screen:846 - Loading users data for User Management tab (custom list)...
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - user_management_screen:862 - Loaded 2 users into custom list.
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:34:05,772 - INFO - UserManagementScreen - user_management_screen:244 - UserManagementScreen (v1.12.26) initialized for user: tm
2025-06-03 19:34:05,790 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:34:07,610 - INFO - UserManagementScreen - user_management_screen:328 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:34:07,610 - INFO - UserManagementScreen - user_management_screen:1304 - Loading charge code categories/processes data...
2025-06-03 19:34:07,612 - INFO - UserManagementScreen - user_management_screen:1317 - CCC active_filter: active
2025-06-03 19:34:07,612 - ERROR - UserManagementScreen - user_management_screen:1395 - Error loading charge code categories into tree: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1321, in load_charge_code_categories_data
    self.charge_code_controller.get_all_charge_code_categories_hierarchical(
TypeError: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
2025-06-03 19:34:07,613 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load categories/processes: ChargeCodeController.get_all_charge_code_categories_hierarchical() got an unexpected keyword argument 'active_filter'
2025-06-03 19:34:18,790 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 19:34:18,790 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 19:34:18,792 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 19:34:18,793 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 19:34:18,793 - INFO - UserManagementScreen - user_management_screen:1698 - User Management screen closing.
2025-06-03 19:34:18,806 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 19:34:18,808 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 19:34:18,809 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 19:41:00,382 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:41:00,382 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:41:00,382 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:41:00,390 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:41:00,390 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:41:00,393 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:41:00,394 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:41:00,394 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:41:00,570 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:41:00,572 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:41:00,572 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:41:00,574 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:41:00,574 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:41:00,574 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:41:00,579 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:41:00,623 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:41:02,241 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:41:10,251 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-03 19:41:10,416 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-03 19:41:10,418 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-03 19:41:10,418 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-03 19:41:10,433 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-03 19:41:10,433 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-03 19:41:10,434 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:41:10,434 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:41:10,436 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:41:10,439 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:41:10,444 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:41:10,444 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:41:10,600 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:41:10,603 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:41:10,605 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:41:10,608 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:41:10,624 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:41:10,626 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:41:10,626 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:41:10,666 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:41:10,668 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:41:10,668 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:41:10,718 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:41:10,722 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:41:10,722 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:41:10,733 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:41:10,760 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:41:10,760 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:41:10,767 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:41:10,774 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:41:10,774 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:41:10,777 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:41:10,784 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:41:10,786 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:41:14,498 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:41:14,500 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:41:14,500 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:41:14,501 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:41:14,502 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:41:14,502 - INFO - UserManagementScreen - user_management_screen:277 - ****** UserManagementScreen.setup_ui() (v1.12.27) ENTERED ******
2025-06-03 19:41:14,526 - INFO - UserManagementScreen - user_management_screen:310 - UserManagementScreen.setup_ui (v1.12.27) FINISHED.
2025-06-03 19:41:14,586 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:41:14,587 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:804 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:41:14,589 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:41:14,593 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:41:14,593 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:41:14,595 - INFO - UserManagementScreen - user_management_screen:231 - UserManagementScreen (v1.12.27) initialized for user: tm
2025-06-03 19:41:14,614 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:41:17,684 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:41:17,684 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:17,686 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:17,690 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:22,109 - INFO - UserManagementScreen - user_management_screen:1400 - CCC selected: ID=1, Level=1, Name='ANTHELMINTICS'
2025-06-03 19:41:32,937 - INFO - ChargeCodeController - charge_code_controller:392 - Attempting to create charge code category with data: {'name': 'test3', 'is_active': True, 'level': 2, 'parent_id': 1}
2025-06-03 19:41:32,945 - INFO - ChargeCodeController - charge_code_controller:414 - Charge Code Process 'test3' (ID: 44, Level: 2, ParentID: 1) created by tm.
2025-06-03 19:41:32,945 - INFO - UserManagementScreen - base_view:329 - Displaying Info: Success - Process created successfully.
2025-06-03 19:41:34,753 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:34,753 - INFO - UserManagementScreen - user_management_screen:1404 - CCC selection cleared.
2025-06-03 19:41:34,756 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:34,759 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:34,759 - INFO - UserManagementScreen - base_view:322 - Status update: New Process added under 'ANTHELMINTICS'.
2025-06-03 19:41:37,823 - INFO - UserManagementScreen - user_management_screen:1400 - CCC selected: ID=44, Level=2, Name='test3'
2025-06-03 19:41:43,668 - INFO - UserManagementScreen - base_view:341 - Asking Question: Confirm Status Change - Are you sure you want to deactivate the Process 'test3'?
2025-06-03 19:41:46,712 - INFO - ChargeCodeController - charge_code_controller:518 - Process 'test3' (ID: 44) status changed to inactive by tm.
2025-06-03 19:41:46,713 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:46,714 - INFO - UserManagementScreen - user_management_screen:1404 - CCC selection cleared.
2025-06-03 19:41:46,714 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:41:46,717 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:41:46,719 - INFO - UserManagementScreen - base_view:322 - Status update: Process 'test3' status set to inactive.
2025-06-03 19:41:49,952 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:41:49,953 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: inactive
2025-06-03 19:41:49,955 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 1 top-level categories in tree based on filter 'inactive'.
2025-06-03 19:42:00,684 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:42:00,684 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:42:00,688 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:42:22,349 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:42:22,350 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:42:22,352 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:42:22,356 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:42:24,667 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-03 19:42:24,667 - INFO - UserManagementScreen - user_management_screen:972 - Loading master owners data for tab...
2025-06-03 19:42:24,670 - INFO - UserManagementScreen - user_management_screen:1012 - Loaded 3 master owners.
2025-06-03 19:42:30,774 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: ADMIN
2025-06-03 19:42:30,775 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:42:30,777 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:42:30,779 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: tm
2025-06-03 19:42:30,779 - INFO - UserManagementScreen - user_management_screen:1027 - User selected from list: None
2025-06-03 19:42:30,782 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:42:32,510 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-03 19:42:32,511 - INFO - UserManagementScreen - user_management_screen:842 - Loading locations data for tab...
2025-06-03 19:42:32,515 - INFO - UserManagementScreen - user_management_screen:881 - Loaded 4 locations with detailed address.
2025-06-03 19:42:37,860 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:42:37,862 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:42:37,863 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:42:37,866 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:43:17,919 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:43:17,921 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: inactive
2025-06-03 19:43:17,925 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 1 charge codes.
2025-06-03 19:43:20,606 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:43:20,606 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:43:20,611 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:43:21,807 - INFO - UserManagementScreen - user_management_screen:1152 - Charge Code selected: 1
2025-06-03 19:44:29,950 - INFO - UserManagementScreen - user_management_screen:1678 - User Management screen closing.
2025-06-03 19:44:29,960 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 19:44:38,595 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:44:38,595 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:44:38,597 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:44:38,598 - INFO - UserManagementScreen - user_management_screen:277 - ****** UserManagementScreen.setup_ui() (v1.12.27) ENTERED ******
2025-06-03 19:44:38,622 - INFO - UserManagementScreen - user_management_screen:310 - UserManagementScreen.setup_ui (v1.12.27) FINISHED.
2025-06-03 19:44:38,682 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:44:38,683 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:44:38,683 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:804 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:44:38,684 - INFO - UserManagementScreen - user_management_screen:816 - Loading users data for User Management tab (custom list)...
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - user_management_screen:832 - Loaded 2 users into custom list.
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:44:38,687 - INFO - UserManagementScreen - user_management_screen:231 - UserManagementScreen (v1.12.27) initialized for user: tm
2025-06-03 19:44:38,707 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:44:43,264 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:44:43,266 - INFO - UserManagementScreen - user_management_screen:1276 - Loading charge code categories/processes data...
2025-06-03 19:44:43,267 - INFO - UserManagementScreen - user_management_screen:1288 - CCC active_filter: active
2025-06-03 19:44:43,270 - INFO - UserManagementScreen - user_management_screen:1371 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:44:55,315 - INFO - UserManagementScreen - user_management_screen:315 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:44:55,315 - INFO - UserManagementScreen - user_management_screen:891 - Loading charge codes data for tab...
2025-06-03 19:44:55,316 - INFO - UserManagementScreen - user_management_screen:900 - Charge code status filter: active
2025-06-03 19:44:55,321 - INFO - UserManagementScreen - user_management_screen:964 - Loaded 4 charge codes.
2025-06-03 19:47:16,963 - INFO - UserManagementScreen - user_management_screen:1678 - User Management screen closing.
2025-06-03 19:47:17,006 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 19:53:01,500 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'tm' logout.
2025-06-03 19:53:01,500 - INFO - EDSIApplication - main:273 - User 'tm' logging out from Horse Management.
2025-06-03 19:53:01,503 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-03 19:53:01,503 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 19:53:01,503 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 19:53:01,505 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 19:53:01,529 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 19:53:01,533 - INFO - root - main:372 - Application exiting with code 0
2025-06-03 19:57:48,497 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-03 19:57:48,497 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-03 19:57:48,497 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-03 19:57:48,504 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-03 19:57:48,504 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-03 19:57:48,507 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-03 19:57:48,508 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-03 19:57:48,508 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-03 19:57:48,684 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-03 19:57:48,686 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-03 19:57:48,686 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-03 19:57:48,687 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-03 19:57:48,687 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-03 19:57:48,687 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-03 19:57:48,692 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-03 19:57:48,732 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-03 19:57:50,600 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-03 19:58:11,785 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-03 19:58:11,950 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-03 19:58:11,950 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-03 19:58:11,951 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-03 19:58:11,962 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-03 19:58:11,963 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-03 19:58:11,964 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-03 19:58:11,966 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-03 19:58:11,967 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-03 19:58:11,970 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-03 19:58:11,973 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-03 19:58:11,975 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-03 19:58:12,137 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-03 19:58:12,140 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-03 19:58:12,143 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-03 19:58:12,146 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-03 19:58:12,161 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-03 19:58:12,162 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-03 19:58:12,207 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-03 19:58:12,209 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-03 19:58:12,209 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-03 19:58:12,259 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-03 19:58:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-03 19:58:12,262 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-03 19:58:12,274 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-03 19:58:12,296 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-03 19:58:12,298 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-03 19:58:12,307 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-03 19:58:12,312 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-03 19:58:12,314 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-03 19:58:12,316 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-03 19:58:12,324 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-03 19:58:12,325 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-03 19:58:16,113 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-03 19:58:16,113 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-03 19:58:16,114 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-03 19:58:16,116 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-03 19:58:16,139 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-03 19:58:16,199 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-03 19:58:16,199 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-03 19:58:16,200 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-03 19:58:16,200 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-03 19:58:16,202 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-03 19:58:16,202 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-03 19:58:16,203 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-03 19:58:16,206 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-03 19:58:16,206 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-03 19:58:16,207 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-03 19:58:16,226 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-03 19:58:20,531 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-03 19:58:20,532 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-03 19:58:20,532 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-03 19:58:20,538 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-03 19:58:25,804 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-03 19:58:25,805 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-03 19:58:25,807 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-03 19:58:25,812 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 4 charge codes.
2025-06-03 19:58:43,364 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-03 19:58:43,374 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-03 20:16:38,364 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-03 20:16:38,365 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-03 20:16:38,367 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-03 20:16:38,367 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-03 20:16:38,384 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-03 20:16:38,390 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-03 20:16:38,396 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 17:35:49,782 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 17:35:49,782 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 17:35:49,783 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 17:35:49,783 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 17:35:49,799 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-04 17:35:49,799 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-04 17:35:49,884 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-04 17:35:49,885 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-04 17:35:49,885 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 17:35:50,073 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-04 17:35:50,075 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 17:35:50,075 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-04 17:35:50,076 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 17:35:50,076 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 17:35:50,076 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 17:35:50,089 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 17:35:50,131 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 17:35:51,715 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 17:36:07,642 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 17:36:07,804 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 17:36:07,804 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 17:36:07,806 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 17:36:07,817 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 17:36:07,818 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 17:36:07,819 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 17:36:07,826 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 17:36:07,826 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 17:36:09,036 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 17:36:09,039 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 17:36:09,040 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 17:36:09,044 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 17:36:09,060 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 17:36:09,061 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 17:36:09,062 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 17:36:09,106 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 17:36:09,107 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 17:36:09,107 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 17:36:09,162 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 17:36:09,166 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 17:36:09,166 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 17:36:09,182 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 17:36:09,217 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 17:36:09,218 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 17:36:09,226 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 17:36:09,232 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 17:36:09,233 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 17:36:09,236 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 17:36:09,244 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 17:36:09,244 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 17:36:12,447 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 17:36:12,447 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 17:36:12,449 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 17:36:12,450 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 17:36:12,473 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 17:36:12,531 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 17:36:12,533 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 17:36:12,534 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 17:36:12,539 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-04 17:36:12,560 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 17:36:17,101 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 17:36:17,101 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 17:36:17,103 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 17:36:17,107 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 17:36:19,526 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 17:36:19,527 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 17:36:19,528 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 17:36:19,533 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 4 charge codes.
2025-06-04 18:49:13,181 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: ADMIN
2025-06-04 18:49:13,183 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 18:49:13,184 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 18:49:13,185 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: tm
2025-06-04 18:49:13,185 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: None
2025-06-04 18:49:13,187 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 19:00:09,687 - INFO - UserManagementScreen - user_management_screen:1053 - User selected from list: ADMIN
2025-06-04 19:00:09,688 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 19:00:09,699 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-04 19:00:10,545 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 19:00:10,546 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 19:00:10,547 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 19:00:10,547 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:00:10,555 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 19:00:10,557 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:00:10,558 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:01:52,623 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:01:52,624 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:01:52,624 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:01:52,625 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:01:52,625 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:01:52,625 - INFO - DatabaseManager - database_config:71 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:01:52,633 - INFO - DatabaseManager - database_config:84 - Database engine and session factory created
2025-06-04 19:01:52,633 - INFO - DatabaseManager - database_config:115 - Creating database tables...
2025-06-04 19:01:52,635 - INFO - DatabaseManager - database_config:119 - Database tables created: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'invoices', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'transactions', 'transaction_details', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments']
2025-06-04 19:01:52,636 - INFO - DatabaseManager - database_config:170 - Database connection test successful
2025-06-04 19:01:52,636 - INFO - DatabaseManager - database_config:188 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:01:52,814 - INFO - DatabaseManager - database_config:274 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:01:52,816 - INFO - DatabaseManager - database_config:303 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:01:52,816 - INFO - DatabaseManager - database_config:88 - Database initialization completed successfully
2025-06-04 19:01:52,817 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:01:52,817 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:01:52,817 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:01:52,821 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:01:52,860 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:01:57,157 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:01:57,169 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:01:57,169 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:35:21,938 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:35:21,938 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:35:21,939 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:35:21,939 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:35:21,952 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:35:21,952 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:35:21,970 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:35:21,971 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:35:21,971 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:35:21,994 - ERROR - DatabaseManager - database_config:310 - Error ensuring default admin user: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\config\database_config.py", line 208, in _ensure_default_admin_user
    session.query(Role).filter(Role.name == admin_role_name).first()
    ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 288, in _set_entities
    self._raw_columns = [
                        ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in <listcomp>
    coercions.expect(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\coercions.py", line 406, in expect
    insp._post_inspect
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4240, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2403, in _post_configure_properties
    prop.init()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 579, in init
    self.do_init()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1637, in do_init
    self._setup_join_conditions()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1882, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2306, in __init__
    self._determine_joins()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2419, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1341, in _join_condition
    constraints = cls._joincond_scan_left_right(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1450, in _joincond_scan_left_right
    col = fk.get_referent(b)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3022, in get_referent
    return table.columns.corresponding_column(self.column)  # type: ignore
                                              ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1146, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3159, in column
    return self._resolve_column()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3198, in _resolve_column
    return self._link_to_col_by_colstring(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\schema.py", line 3120, in _link_to_col_by_colstring
    raise exc.NoReferencedColumnError(
sqlalchemy.exc.NoReferencedColumnError: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
2025-06-04 19:35:22,057 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:35:22,059 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:35:22,059 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:35:22,060 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:35:22,071 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:35:22,121 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:35:24,527 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:35:34,344 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:35:34,345 - ERROR - UserController - user_controller:110 - Database error during authentication for 'admin': One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Transaction(transactions)]'. Original exception was: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\user_controller.py", line 63, in authenticate_user
    session.query(User)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2912, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 288, in _set_entities
    self._raw_columns = [
                        ^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in <listcomp>
    coercions.expect(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\coercions.py", line 406, in expect
    insp._post_inspect
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1260, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2707, in _post_inspect
    self._check_configure()
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2386, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4199, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4236, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Transaction(transactions)]'. Original exception was: Could not initialize target column for ForeignKey 'charge_codes.charge_code_id' on table 'transactions': table 'charge_codes' has no column named 'charge_code_id'
2025-06-04 19:35:39,780 - WARNING - SmallLoginDialog - small_login_dialog:237 - Failed login attempt for user input: admin. Reason: An error occurred during login. Please try again.
2025-06-04 19:36:16,127 - INFO - EDSIApplication - main:202 - Login dialog closed. Splash screen remains active.
2025-06-04 19:36:17,213 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:36:17,222 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:36:17,223 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:38:10,551 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:38:10,552 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:38:10,552 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:38:10,559 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:38:10,559 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:38:10,562 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:38:10,563 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:38:10,563 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:38:10,744 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:38:10,746 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:38:10,746 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:38:10,746 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:38:10,746 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:38:10,747 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:38:10,752 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:38:10,792 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:38:17,457 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:38:26,593 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:38:26,753 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 19:38:26,754 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 19:38:26,755 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 19:38:26,764 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 19:38:26,765 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 19:38:26,766 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 19:38:26,771 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 19:38:26,772 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 19:38:27,962 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 19:38:27,965 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 19:38:27,966 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 19:38:27,970 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 19:38:27,986 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 19:38:27,987 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 19:38:27,988 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 19:38:28,031 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 19:38:28,032 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 19:38:28,032 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 19:38:28,092 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 19:38:28,096 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 19:38:28,096 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 19:38:28,111 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 19:38:28,133 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 19:38:28,134 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 19:38:28,141 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 19:38:28,149 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 19:38:28,149 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:38:28,152 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:38:28,161 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:38:28,162 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 19:38:33,597 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-04 19:38:33,598 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 19:38:33,602 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 19:38:40,963 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:38:40,964 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:38:40,967 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:59:14,938 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 19:59:14,939 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 19:59:14,941 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 19:59:14,941 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 19:59:14,942 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 19:59:14,942 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 19:59:14,967 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 19:59:14,968 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 19:59:31,707 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 19:59:31,707 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 19:59:31,707 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 19:59:31,708 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 19:59:31,708 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 19:59:31,708 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 19:59:31,715 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 19:59:31,715 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 19:59:31,718 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 19:59:31,719 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 19:59:31,719 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 19:59:31,899 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 19:59:31,901 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 19:59:31,901 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 19:59:31,902 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 19:59:31,902 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 19:59:31,902 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 19:59:31,907 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 19:59:31,954 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 19:59:37,745 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 19:59:47,020 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 19:59:47,183 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 19:59:47,183 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 19:59:47,184 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 19:59:47,196 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 19:59:47,196 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 19:59:47,196 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 19:59:47,197 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 19:59:47,201 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 19:59:47,202 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 19:59:47,347 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 19:59:47,350 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 19:59:47,351 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 19:59:47,355 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 19:59:47,372 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 19:59:47,373 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 19:59:47,373 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 19:59:47,415 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 19:59:47,416 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 19:59:47,416 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 19:59:47,469 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 19:59:47,472 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 19:59:47,472 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 19:59:47,486 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 19:59:47,511 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 19:59:47,512 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 19:59:47,518 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 19:59:47,526 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 19:59:47,527 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 19:59:47,529 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 19:59:47,537 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 19:59:47,537 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 19:59:58,738 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 1
2025-06-04 19:59:58,739 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 19:59:58,742 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 20:09:28,633 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 20:09:28,633 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 20:09:28,635 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 20:09:28,635 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:09:28,635 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:09:28,636 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:09:28,646 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:09:28,647 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:10:11,157 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:10:11,158 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:10:11,158 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:10:11,167 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:10:11,167 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:10:11,171 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:10:11,172 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:10:11,172 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:10:11,356 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:10:11,357 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:10:11,358 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:10:11,358 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:10:11,358 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:10:11,358 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:10:11,363 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:10:11,409 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:10:33,962 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:11:24,271 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-04 20:11:24,433 - INFO - UserController - user_controller:98 - User 'tm' authenticated successfully.
2025-06-04 20:11:24,434 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-04 20:11:24,435 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-04 20:11:24,444 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: tm
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:11:24,445 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:11:24,446 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:11:24,449 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:11:24,454 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:11:24,455 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:11:24,608 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:11:24,610 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:11:24,612 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:11:24,616 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:11:24,632 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:11:24,632 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:11:24,633 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:11:24,676 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:11:24,677 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:11:24,677 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:11:24,734 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:11:24,737 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:11:24,737 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:11:24,749 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:11:24,771 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:11:24,772 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:11:24,779 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:11:24,786 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:11:24,787 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:11:24,789 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:11:24,796 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:11:24,797 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:12:02,533 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 20:12:02,533 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 20:12:02,535 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 20:12:02,536 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 20:12:02,561 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 20:12:02,624 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 20:12:02,625 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:12:02,626 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 20:12:02,631 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: tm
2025-06-04 20:12:02,653 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 20:12:07,723 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:12:07,724 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:12:07,725 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:12:07,728 - ERROR - ChargeCodeController - charge_code_controller:221 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 219, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:12:07,748 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 0 charge codes.
2025-06-04 20:12:09,553 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:12:09,553 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:12:09,554 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:12:09,559 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:12:13,121 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:12:13,122 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:12:13,125 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 4 locations with detailed address.
2025-06-04 20:12:14,530 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:12:14,531 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:12:14,536 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:12:16,783 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:12:16,784 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:12:16,786 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 4 locations with detailed address.
2025-06-04 20:12:17,751 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:12:17,751 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:12:17,752 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:12:17,755 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:12:18,545 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:12:18,545 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:12:18,546 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:12:18,547 - ERROR - ChargeCodeController - charge_code_controller:221 - Error fetching all charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 219, in get_all_charge_codes
    return query.all()
           ^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_codes.category_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_code_categories_2.name ASC NULLS FIRST, charge_codes.code ASC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:12:18,549 - INFO - UserManagementScreen - user_management_screen:990 - Loaded 0 charge codes.
2025-06-04 20:12:19,263 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 4, new tab title:  Manage Owner List
2025-06-04 20:12:19,263 - INFO - UserManagementScreen - user_management_screen:998 - Loading master owners data for tab...
2025-06-04 20:12:19,265 - INFO - UserManagementScreen - user_management_screen:1038 - Loaded 3 master owners.
2025-06-04 20:12:24,586 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 20:12:24,594 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-04 20:12:54,657 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:12:54,657 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:12:54,658 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:12:54,659 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:12:54,670 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:12:54,672 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:12:54,672 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:15:52,590 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:15:52,590 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:15:52,591 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:15:52,591 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:15:52,598 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:15:52,598 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:15:52,601 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:15:52,602 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:15:52,603 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:15:52,789 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:15:52,791 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:15:52,791 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:15:52,791 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:15:52,791 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:15:52,792 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:15:52,796 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:15:52,866 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:15:55,012 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:16:04,877 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:16:05,039 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:16:05,040 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:16:05,041 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:16:05,051 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:16:05,051 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:16:05,051 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:16:05,052 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:16:05,058 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:16:05,059 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:16:05,202 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:16:05,205 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:16:05,206 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:16:05,210 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:16:05,227 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:16:05,228 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:16:05,271 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:16:05,273 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:16:05,273 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:16:05,333 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:16:05,336 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:16:05,336 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:16:05,356 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:16:05,378 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:16:05,379 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:16:05,387 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:16:05,394 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:16:05,395 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:16:05,399 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:16:05,409 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:16:05,409 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:18:32,105 - INFO - HorseUnifiedManagement - horse_unified_management:1736 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 20:18:32,105 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 20:18:32,106 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 20:18:32,107 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:18:32,107 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:18:32,107 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:18:32,126 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:18:32,128 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:18:36,472 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:18:36,472 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:18:36,473 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:18:36,473 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:18:36,480 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:18:36,480 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:18:36,484 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:18:36,485 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:18:36,485 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:18:36,666 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:18:36,668 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:18:36,668 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:18:36,668 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:18:36,668 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:18:36,669 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:18:36,673 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:18:36,716 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:18:38,577 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:18:49,252 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:18:49,413 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:18:49,413 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:18:49,415 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:18:49,425 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:18:49,426 - INFO - HorseUnifiedManagement - horse_unified_management:97 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:18:49,426 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:18:49,427 - INFO - HorseUnifiedManagement - horse_unified_management:157 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:18:49,434 - INFO - HorseUnifiedManagement - horse_unified_management:771 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:18:49,435 - INFO - HorseUnifiedManagement - horse_unified_management:778 - QTabWidget created and styled.
2025-06-04 20:18:49,573 - INFO - HorseUnifiedManagement - horse_unified_management:784 - BasicInfoTab created.
2025-06-04 20:18:49,576 - INFO - HorseUnifiedManagement - horse_unified_management:795 - OwnersTab created.
2025-06-04 20:18:49,578 - INFO - HorseUnifiedManagement - horse_unified_management:806 - LocationTab created.
2025-06-04 20:18:49,582 - INFO - HorseUnifiedManagement - horse_unified_management:821 - Tabs added.
2025-06-04 20:18:49,598 - INFO - HorseUnifiedManagement - horse_unified_management:1796 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1821 - Connecting BasicInfoTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1838 - Connecting OwnersTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1847 - Connecting LocationTab signals.
2025-06-04 20:18:49,599 - INFO - HorseUnifiedManagement - horse_unified_management:1855 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:18:49,600 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:18:49,641 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:18:49,642 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:18:49,643 - INFO - HorseUnifiedManagement - horse_unified_management:149 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:18:49,699 - INFO - HorseUnifiedManagement - horse_unified_management:175 - HorseUnifiedManagement showEvent: START
2025-06-04 20:18:49,702 - INFO - HorseUnifiedManagement - horse_unified_management:349 - display_empty_state: FINISHED
2025-06-04 20:18:49,703 - INFO - HorseUnifiedManagement - horse_unified_management:220 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:18:49,714 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:18:49,736 - INFO - HorseUnifiedManagement - horse_unified_management:487 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:18:49,737 - INFO - HorseUnifiedManagement - horse_unified_management:1373 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:18:49,743 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:18:49,749 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:18:49,750 - INFO - HorseUnifiedManagement - horse_unified_management:976 - load_horse_details: START for horse ID: 2
2025-06-04 20:18:49,753 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:18:49,760 - INFO - HorseUnifiedManagement - horse_unified_management:1034 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:18:49,760 - INFO - HorseUnifiedManagement - horse_unified_management:490 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:19:23,956 - WARNING - HorseUnifiedManagement - horse_unified_management:503 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:19:23,956 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:19:23,957 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:19:23,958 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:19:23,969 - WARNING - HorseUnifiedManagement - horse_unified_management:506 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:19:23,970 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:19:23,971 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:30:58,398 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:30:58,398 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:30:58,399 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:30:58,399 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:30:58,407 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:30:58,407 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:30:58,409 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:30:58,410 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:30:58,410 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:30:58,590 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:30:58,592 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:30:58,592 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:30:58,592 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:30:58,592 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:30:58,593 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:30:58,598 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:30:58,644 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:31:01,409 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:31:13,648 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:31:13,809 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:31:13,810 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:31:13,811 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:31:13,821 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:31:13,822 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:31:13,829 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:31:13,962 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 20:31:13,965 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 20:31:13,967 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 20:31:13,972 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 20:31:13,977 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 20:31:13,996 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:31:13,997 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:31:13,998 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:31:14,054 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:31:14,056 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:31:14,056 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:31:14,111 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 20:31:14,114 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:31:14,114 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:31:14,125 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:31:14,150 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:31:14,150 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:31:14,158 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 2 results.
2025-06-04 20:31:14,164 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 2 results.
2025-06-04 20:31:14,165 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 2
2025-06-04 20:31:14,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 2: Bay Breeze
2025-06-04 20:31:14,176 - ERROR - FinancialController - financial_controller:259 - Error retrieving transactions for horse ID 2: (sqlite3.OperationalError) no such column: transactions.id
[SQL: SELECT transactions.id AS transactions_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.transaction_type AS transactions_transaction_type, transactions.service_date AS transactions_service_date, transactions.billing_date AS transactions_billing_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_amount AS transactions_total_amount, transactions.administered_by_id AS transactions_administered_by_id, transactions.notes AS transactions_notes, transactions.print_on_statement AS transactions_print_on_statement, transactions.invoice_id AS transactions_invoice_id, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, owners_1.owner_id AS owners_1_owner_id, owners_1.account_number AS owners_1_account_number, owners_1.farm_name AS owners_1_farm_name, owners_1.first_name AS owners_1_first_name, owners_1.last_name AS owners_1_last_name, owners_1.address_line1 AS owners_1_address_line1, owners_1.address_line2 AS owners_1_address_line2, owners_1.city AS owners_1_city, owners_1.state_code AS owners_1_state_code, owners_1.zip_code AS owners_1_zip_code, owners_1.phone AS owners_1_phone, owners_1.mobile_phone AS owners_1_mobile_phone, owners_1.email AS owners_1_email, owners_1.is_active AS owners_1_is_active, owners_1.balance AS owners_1_balance, owners_1.credit_limit AS owners_1_credit_limit, owners_1.billing_terms AS owners_1_billing_terms, owners_1.service_charge_rate AS owners_1_service_charge_rate, owners_1.discount_rate AS owners_1_discount_rate, owners_1.notes AS owners_1_notes, owners_1.created_date AS owners_1_created_date, owners_1.modified_date AS owners_1_modified_date, owners_1.created_by AS owners_1_created_by, owners_1.modified_by AS owners_1_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN owners AS owners_1 ON owners_1.owner_id = transactions.owner_id LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes_1.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_id 
WHERE transactions.horse_id = ? ORDER BY transactions.service_date DESC, transactions.created_date DESC]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: transactions.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 253, in get_transactions_for_horse
    ).all()
      ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: transactions.id
[SQL: SELECT transactions.id AS transactions_id, transactions.horse_id AS transactions_horse_id, transactions.owner_id AS transactions_owner_id, transactions.charge_code_id AS transactions_charge_code_id, transactions.transaction_type AS transactions_transaction_type, transactions.service_date AS transactions_service_date, transactions.billing_date AS transactions_billing_date, transactions.description AS transactions_description, transactions.quantity AS transactions_quantity, transactions.unit_price AS transactions_unit_price, transactions.total_amount AS transactions_total_amount, transactions.administered_by_id AS transactions_administered_by_id, transactions.notes AS transactions_notes, transactions.print_on_statement AS transactions_print_on_statement, transactions.invoice_id AS transactions_invoice_id, transactions.created_date AS transactions_created_date, transactions.modified_date AS transactions_modified_date, transactions.created_by AS transactions_created_by, transactions.modified_by AS transactions_modified_by, owners_1.owner_id AS owners_1_owner_id, owners_1.account_number AS owners_1_account_number, owners_1.farm_name AS owners_1_farm_name, owners_1.first_name AS owners_1_first_name, owners_1.last_name AS owners_1_last_name, owners_1.address_line1 AS owners_1_address_line1, owners_1.address_line2 AS owners_1_address_line2, owners_1.city AS owners_1_city, owners_1.state_code AS owners_1_state_code, owners_1.zip_code AS owners_1_zip_code, owners_1.phone AS owners_1_phone, owners_1.mobile_phone AS owners_1_mobile_phone, owners_1.email AS owners_1_email, owners_1.is_active AS owners_1_is_active, owners_1.balance AS owners_1_balance, owners_1.credit_limit AS owners_1_credit_limit, owners_1.billing_terms AS owners_1_billing_terms, owners_1.service_charge_rate AS owners_1_service_charge_rate, owners_1.discount_rate AS owners_1_discount_rate, owners_1.notes AS owners_1_notes, owners_1.created_date AS owners_1_created_date, owners_1.modified_date AS owners_1_modified_date, owners_1.created_by AS owners_1_created_by, owners_1.modified_by AS owners_1_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by, charge_codes_1.id AS charge_codes_1_id, charge_codes_1.code AS charge_codes_1_code, charge_codes_1.alternate_code AS charge_codes_1_alternate_code, charge_codes_1.description AS charge_codes_1_description, charge_codes_1.category_id AS charge_codes_1_category_id, charge_codes_1.standard_charge AS charge_codes_1_standard_charge, charge_codes_1.is_active AS charge_codes_1_is_active, charge_codes_1.taxable AS charge_codes_1_taxable, charge_codes_1.created_date AS charge_codes_1_created_date, charge_codes_1.modified_date AS charge_codes_1_modified_date, charge_codes_1.created_by AS charge_codes_1_created_by, charge_codes_1.modified_by AS charge_codes_1_modified_by, users_1.user_id AS users_1_user_id, users_1.password_hash AS users_1_password_hash, users_1.user_name AS users_1_user_name, users_1.email AS users_1_email, users_1.is_active AS users_1_is_active, users_1.last_login AS users_1_last_login, users_1.printer_id AS users_1_printer_id, users_1.default_screen_colors AS users_1_default_screen_colors, users_1.created_date AS users_1_created_date, users_1.modified_date AS users_1_modified_date, users_1.created_by AS users_1_created_by, users_1.modified_by AS users_1_modified_by 
FROM transactions LEFT OUTER JOIN owners AS owners_1 ON owners_1.owner_id = transactions.owner_id LEFT OUTER JOIN charge_codes AS charge_codes_1 ON charge_codes_1.id = transactions.charge_code_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes_1.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id LEFT OUTER JOIN users AS users_1 ON users_1.user_id = transactions.administered_by_id 
WHERE transactions.horse_id = ? ORDER BY transactions.service_date DESC, transactions.created_date DESC]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:31:14,184 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 2
2025-06-04 20:31:14,185 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:31:25,039 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Bay Breeze
2025-06-04 20:31:25,057 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 20:31:25,059 - ERROR - FinancialController - financial_controller:283 - Error retrieving charge codes: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: charge_codes.id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\financial_controller.py", line 279, in get_charge_codes_for_lookup
    charge_codes = query.order_by(ChargeCode.code).all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: charge_codes.id
[SQL: SELECT charge_codes.id AS charge_codes_id, charge_codes.code AS charge_codes_code, charge_codes.alternate_code AS charge_codes_alternate_code, charge_codes.description AS charge_codes_description, charge_codes.category_id AS charge_codes_category_id, charge_codes.standard_charge AS charge_codes_standard_charge, charge_codes.is_active AS charge_codes_is_active, charge_codes.taxable AS charge_codes_taxable, charge_codes.created_date AS charge_codes_created_date, charge_codes.modified_date AS charge_codes_modified_date, charge_codes.created_by AS charge_codes_created_by, charge_codes.modified_by AS charge_codes_modified_by, charge_code_categories_1.category_id AS charge_code_categories_1_category_id, charge_code_categories_1.name AS charge_code_categories_1_name, charge_code_categories_1.parent_id AS charge_code_categories_1_parent_id, charge_code_categories_1.level AS charge_code_categories_1_level, charge_code_categories_1.is_active AS charge_code_categories_1_is_active, charge_code_categories_1.created_date AS charge_code_categories_1_created_date, charge_code_categories_1.modified_date AS charge_code_categories_1_modified_date, charge_code_categories_1.created_by AS charge_code_categories_1_created_by, charge_code_categories_1.modified_by AS charge_code_categories_1_modified_by, charge_code_categories_2.category_id AS charge_code_categories_2_category_id, charge_code_categories_2.name AS charge_code_categories_2_name, charge_code_categories_2.parent_id AS charge_code_categories_2_parent_id, charge_code_categories_2.level AS charge_code_categories_2_level, charge_code_categories_2.is_active AS charge_code_categories_2_is_active, charge_code_categories_2.created_date AS charge_code_categories_2_created_date, charge_code_categories_2.modified_date AS charge_code_categories_2_modified_date, charge_code_categories_2.created_by AS charge_code_categories_2_created_by, charge_code_categories_2.modified_by AS charge_code_categories_2_modified_by 
FROM charge_codes LEFT OUTER JOIN charge_code_categories AS charge_code_categories_2 ON charge_code_categories_2.category_id = charge_codes.category_id LEFT OUTER JOIN charge_code_categories AS charge_code_categories_1 ON charge_code_categories_1.category_id = charge_code_categories_2.parent_id 
WHERE charge_codes.is_active = 1 ORDER BY charge_codes.code]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-06-04 20:34:02,080 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 20:34:02,080 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 20:34:02,082 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 20:34:02,082 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 20:34:02,093 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 20:34:02,109 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 20:34:02,111 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 20:54:02,109 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 20:54:02,109 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 20:54:02,110 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 20:54:02,117 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 20:54:02,117 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 20:54:02,120 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 20:54:02,121 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 20:54:02,121 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 20:54:02,302 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 20:54:02,305 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 20:54:02,305 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 20:54:02,305 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 20:54:02,305 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 20:54:02,305 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 20:54:02,310 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 20:54:02,355 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 20:54:07,268 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 20:54:20,313 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 20:54:20,476 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 20:54:20,476 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 20:54:20,477 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 20:54:20,490 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 20:54:20,490 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 20:54:20,491 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 20:54:20,499 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 20:54:20,647 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 20:54:20,650 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 20:54:20,651 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 20:54:20,657 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 20:54:20,662 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 20:54:20,681 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 20:54:20,682 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 20:54:20,682 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 20:54:20,683 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 20:54:20,683 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 20:54:20,737 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 20:54:20,738 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 20:54:20,738 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 20:54:20,795 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 20:54:20,798 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:54:20,798 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 20:54:20,809 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 20:54:20,835 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 20:54:20,835 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 20:54:20,839 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-04 20:54:20,841 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-04 20:54:20,843 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 20:54:20,843 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 20:54:25,116 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 20:54:25,117 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 20:54:25,119 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 20:54:25,120 - INFO - UserManagementScreen - user_management_screen:284 - ****** UserManagementScreen.setup_ui() (v1.12.29) ENTERED ******
2025-06-04 20:54:25,143 - INFO - UserManagementScreen - user_management_screen:317 - UserManagementScreen.setup_ui (v1.12.29) FINISHED.
2025-06-04 20:54:25,204 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 20:54:25,205 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:819 - UserManagementScreen: Loading initial data for the first tab.
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 20:54:25,206 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 1 users into custom list.
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - base_view:322 - Status update: User Management Ready.
2025-06-04 20:54:25,210 - INFO - UserManagementScreen - user_management_screen:238 - UserManagementScreen (v1.12.29) initialized for user: ADMIN
2025-06-04 20:54:25,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 20:54:27,657 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-04 20:57:03,765 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: tm by ADMIN
2025-06-04 20:57:03,926 - INFO - UserController - user_controller:323 - User 'tm' created successfully by ADMIN.
2025-06-04 20:57:03,926 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-04 20:57:03,932 - INFO - UserManagementScreen - user_management_screen:831 - Loading users data for User Management tab (custom list)...
2025-06-04 20:57:03,935 - INFO - UserManagementScreen - user_management_screen:847 - Loaded 2 users into custom list.
2025-06-04 20:57:03,935 - INFO - UserManagementScreen - base_view:322 - Status update: User added successfully.
2025-06-04 20:57:13,544 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 20:57:13,544 - INFO - UserManagementScreen - user_management_screen:857 - Loading locations data for tab...
2025-06-04 20:57:13,548 - INFO - UserManagementScreen - user_management_screen:896 - Loaded 3 locations with detailed address.
2025-06-04 20:57:14,920 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 20:57:14,921 - INFO - UserManagementScreen - user_management_screen:1302 - Loading charge code categories/processes data...
2025-06-04 20:57:14,922 - INFO - UserManagementScreen - user_management_screen:1312 - CCC active_filter: active
2025-06-04 20:57:14,927 - INFO - UserManagementScreen - user_management_screen:1383 - Displayed 8 top-level categories in tree based on filter 'active'.
2025-06-04 20:57:16,929 - INFO - UserManagementScreen - user_management_screen:322 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 20:57:16,929 - INFO - UserManagementScreen - user_management_screen:906 - Loading charge codes data for tab...
2025-06-04 20:57:16,930 - INFO - UserManagementScreen - user_management_screen:915 - Charge code status filter: active
2025-06-04 20:57:16,933 - ERROR - UserManagementScreen - user_management_screen:992 - Error loading charge codes: 'ChargeCode' object has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 927, in load_charge_codes_data
    Qt.ItemDataRole.UserRole, c_obj.charge_code_id
                              ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCode' object has no attribute 'charge_code_id'
2025-06-04 20:57:16,934 - ERROR - UserManagementScreen - base_view:337 - Displaying Error: Load Error - Could not load charge codes: 'ChargeCode' object has no attribute 'charge_code_id'
2025-06-04 21:01:24,351 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 21:01:24,352 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 21:01:24,353 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 21:01:24,353 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 21:01:24,354 - INFO - UserManagementScreen - user_management_screen:1691 - User Management screen closing.
2025-06-04 21:01:24,369 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 21:01:24,372 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 21:01:24,373 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 21:19:14,745 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:19:14,745 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:19:14,746 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:19:14,746 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:19:14,753 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:19:14,754 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:19:14,757 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:19:14,758 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:19:14,758 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:19:14,937 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:19:14,939 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:19:14,939 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:19:14,939 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:19:14,940 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:19:14,940 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:19:14,944 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:19:14,995 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:19:16,779 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:19:27,221 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:19:27,382 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:19:27,382 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:19:27,383 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:19:27,394 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:19:27,394 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:19:27,395 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:19:27,396 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:19:27,401 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:19:27,580 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:19:27,583 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:19:27,585 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:19:27,590 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:19:27,595 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:19:27,617 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:19:27,617 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:19:27,618 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:19:27,619 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:19:27,619 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:19:27,674 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:19:27,676 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:19:27,676 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:19:27,748 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:19:27,751 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:19:27,752 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:19:27,765 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:19:27,787 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:19:27,787 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:19:27,791 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 0 results.
2025-06-04 21:19:27,794 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 0 results.
2025-06-04 21:19:27,796 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:19:27,796 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:19:35,313 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:19:35,313 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:19:35,314 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:19:35,315 - INFO - UserManagementScreen - user_management_screen:160 - Setting up UserManagementScreen UI...
2025-06-04 21:19:35,316 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
2025-06-04 21:19:45,681 - INFO - HorseUnifiedManagement - horse_unified_management:1065 - add_new_horse: START
2025-06-04 21:19:45,682 - INFO - BasicInfoTab - basic_info_tab:621 - BasicInfoTab set_new_mode: True
2025-06-04 21:19:45,689 - INFO - HorseUnifiedManagement - horse_unified_management:1102 - add_new_horse: FINISHED
2025-06-04 21:20:09,395 - INFO - HorseUnifiedManagement - horse_unified_management:1160 - save_changes: START
2025-06-04 21:20:09,396 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'reg_number' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,396 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'brand' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,397 - WARNING - HorseController - horse_controller:149 - HorseController.create_horse - Attribute 'band_tag' present in data but not in Horse model columns. It will be ignored for direct Horse instantiation.
2025-06-04 21:20:09,407 - INFO - HorseController - horse_controller:179 - Horse 'Soul Rebel' (ID: 1) created successfully by ADMIN.
2025-06-04 21:20:09,408 - INFO - HorseUnifiedManagement - horse_unified_management:1227 - save_changes: Save successful. Message: Horse 'Soul Rebel' created successfully.
2025-06-04 21:20:09,408 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Success - Horse 'Soul Rebel' created successfully.
2025-06-04 21:20:11,168 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:11,170 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:20:11,171 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:20:11,174 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:20:11,174 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:11,176 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:11,185 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:11,186 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:11,186 - INFO - HorseUnifiedManagement - horse_unified_management:1285 - save_changes: FINISHED
2025-06-04 21:20:13,668 - INFO - OwnersTab - owners_tab:347 - Initiating Link Existing Owner for: Soul Rebel
2025-06-04 21:20:15,117 - INFO - LinkExistingOwnerDialog - link_existing_owner_dialog:260 - Owner selected from search: ID 1, Display: Willow Creek Stables (John Smith) [WC001]
2025-06-04 21:20:16,177 - INFO - OwnersTab - owners_tab:369 - Linking owner ID 1 with 100.0% to horse ID 1
2025-06-04 21:20:16,186 - INFO - HorseController - horse_controller:493 - Owner ID 1 added to horse ID 1 by ADMIN.
2025-06-04 21:20:16,186 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Owner Linked - Owner successfully added to horse.
2025-06-04 21:20:17,819 - INFO - HorseUnifiedManagement - horse_unified_management:1121 - _on_owner_association_changed: Owner successfully added to horse.
2025-06-04 21:20:17,821 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:17,822 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:17,827 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:17,827 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:19,975 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-04 21:20:19,979 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 3 active locations initially.
2025-06-04 21:20:21,139 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:247 - Location selected: ID 2, Display: Quarantine Barn (Equineville, PA)
2025-06-04 21:20:22,450 - INFO - LocationTab - location_tab:307 - Attempting to assign Location ID 2 ('Quarantine Barn') to Horse ID 1
2025-06-04 21:20:22,456 - INFO - HorseController - horse_controller:613 - Horse ID 1 assigned to location ID 2 by ADMIN.
2025-06-04 21:20:22,456 - INFO - LocationTab - location_tab:324 - Successfully assigned Location ID 2 to Horse ID 1. Emitting signal.
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:915 - Received location_assignment_changed: {'id': 2, 'name': 'Quarantine Barn'}
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:918 - Location changed for horse ID 1. Reloading details.
2025-06-04 21:20:22,457 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:20:22,458 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:20:22,462 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:20:22,462 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:20:22,462 - INFO - HorseUnifiedManagement - base_view:329 - Displaying Info: Location Assigned - Horse location assigned successfully.
2025-06-04 21:20:29,644 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-04 21:20:29,647 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,653 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 21:20:29,656 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-04 21:20:29,656 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,659 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,660 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,660 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:29,661 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:20:53,415 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:20:53,415 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:20:53,416 - INFO - UserManagementScreen - user_management_screen:97 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:20:53,417 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:20:53,418 - INFO - UserManagementScreen - user_management_screen:160 - Setting up UserManagementScreen UI...
2025-06-04 21:20:53,418 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 100, in __init__
    super().__init__(parent)
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 161, in setup_ui
    super().setup_ui()
    ^^^^^^^^^^^^^^^^
AttributeError: 'super' object has no attribute 'setup_ui'
2025-06-04 21:27:44,050 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:27:44,051 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:27:44,051 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:27:44,058 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:27:44,058 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:27:44,061 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:27:44,062 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:27:44,062 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:27:44,242 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:27:44,244 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:27:44,244 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:27:44,245 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:27:44,245 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:27:44,245 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:27:44,249 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:27:44,294 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:27:46,191 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:27:55,534 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:27:55,695 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:27:55,696 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:27:55,697 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:27:55,708 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:27:55,708 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:27:55,709 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:27:55,710 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:27:55,716 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:27:55,876 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:27:55,879 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:27:55,880 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:27:55,886 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:27:55,891 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:27:55,914 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:27:55,914 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:27:55,915 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:27:55,972 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:27:55,975 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:27:55,975 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:27:56,032 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:27:56,035 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:27:56,036 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:27:56,042 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:27:56,066 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:27:56,066 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:27:56,073 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:27:56,078 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:27:56,079 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:27:56,082 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:27:56,091 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:27:56,095 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:27:56,095 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:27:59,066 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:27:59,066 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:27:59,068 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:27:59,069 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:27:59,069 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 21:27:59,077 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 21:28:17,312 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 21:28:17,313 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-04 21:28:17,314 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-04 21:28:17,314 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 21:28:17,325 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 21:28:17,327 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 21:28:17,327 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 21:31:24,807 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 21:31:24,807 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 21:31:24,807 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 21:31:24,808 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 21:31:24,808 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 21:31:24,808 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 21:31:24,815 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 21:31:24,815 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 21:31:24,819 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 21:31:24,820 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 21:31:24,820 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 21:31:25,000 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 21:31:25,002 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 21:31:25,002 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 21:31:25,002 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 21:31:25,002 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 21:31:25,003 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 21:31:25,007 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 21:31:25,058 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 21:31:26,847 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 21:31:35,306 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 21:31:35,468 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 21:31:35,468 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 21:31:35,470 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 21:31:35,481 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 21:31:35,481 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 21:31:35,482 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 21:31:35,484 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 21:31:35,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 21:31:35,485 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 21:31:35,491 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 21:31:35,650 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 21:31:35,653 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 21:31:35,655 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 21:31:35,660 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 21:31:35,666 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 21:31:35,686 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 21:31:35,687 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 21:31:35,688 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 21:31:35,746 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 21:31:35,747 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 21:31:35,747 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 21:31:35,806 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 21:31:35,808 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 21:31:35,809 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 21:31:35,820 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 21:31:35,839 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 21:31:35,839 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 21:31:35,846 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 21:31:35,851 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 21:31:35,851 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 21:31:35,854 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 21:31:35,863 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 21:31:35,866 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 21:31:35,866 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 21:31:43,846 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-04 21:31:43,849 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,856 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-04 21:31:43,859 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-04 21:31:43,860 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,863 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,863 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,864 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:31:43,865 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-04 21:32:02,872 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 21:32:02,873 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 21:32:02,874 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 21:32:02,875 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 21:32:02,884 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 22:01:50,015 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:01:50,015 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:01:50,016 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:01:50,016 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:01:50,023 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:01:50,024 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:01:50,028 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:01:50,030 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:01:50,030 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:01:50,214 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:01:50,215 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:01:50,215 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:01:50,216 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:01:50,216 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:01:50,216 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:01:50,221 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:01:50,269 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:01:51,898 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:02:02,571 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:02:02,734 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:02:02,734 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:02:02,735 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:02:02,747 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:02:02,748 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:02:02,749 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:02:02,749 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:02:02,754 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:02:02,922 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:02:02,926 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:02:02,929 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:02:02,933 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:02:02,938 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:02:02,958 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:02:02,959 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:02:02,960 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:02:03,017 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:02:03,019 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:02:03,019 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:02:03,085 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:02:03,087 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:02:03,088 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:02:03,100 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:02:03,121 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:02:03,121 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:02:03,129 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:02:03,133 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:02:03,134 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:02:03,136 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:02:03,146 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:02:03,148 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:02:03,149 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:02:08,411 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:02:08,412 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:02:08,413 - INFO - UserManagementScreen - user_management_screen:92 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:02:08,413 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:02:08,414 - INFO - UserManagementScreen - user_management_screen:155 - Setting up UserManagementScreen UI...
2025-06-04 22:02:08,422 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
Traceback (most recent call last):
  File "C:\Projects\EDMS\main.py", line 254, in show_user_management_screen
    self.user_management_screen = UserManagementScreen(self.current_user_id)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 95, in __init__
    super().__init__(
  File "C:\Projects\EDMS\views\base_view.py", line 101, in __init__
    self.setup_ui()  # This will call the setup_ui of the subclass
    ^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 170, in setup_ui
    categories_processes_tab_widget = self._create_categories_processes_tab()
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1001, in _create_categories_processes_tab
    self._active_filters.get(self.CATEGORY_PROCESS_TAB_INDEX, "active")
    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserManagementScreen' object has no attribute '_active_filters'
2025-06-04 22:04:56,184 - INFO - HorseUnifiedManagement - horse_unified_management:1660 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-04 22:04:56,184 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-04 22:04:56,186 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-04 22:04:56,186 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-04 22:04:56,187 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-04 22:04:56,187 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-04 22:04:56,197 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-04 22:04:56,198 - INFO - root - main:372 - Application exiting with code 0
2025-06-04 22:09:58,796 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:09:58,796 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:09:58,797 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:09:58,797 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:09:58,805 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:09:58,806 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:09:58,808 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:09:58,809 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:09:58,809 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:09:58,989 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:09:58,991 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:09:58,991 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:09:58,992 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:09:58,992 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:09:58,992 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:09:58,997 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:09:59,047 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:10:00,618 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:10:10,197 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:10:10,361 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:10:10,362 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:10:10,363 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:10:10,373 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:10:10,373 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:10:10,373 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:10:10,374 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:10:10,381 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:10:10,537 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:10:10,540 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:10:10,541 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:10:10,547 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:10:10,552 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:10:10,572 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:10:10,573 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:10:10,574 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:10:10,629 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:10:10,630 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:10:10,630 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:10:10,688 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:10:10,691 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:10:10,691 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:10:10,704 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:10:10,724 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:10:10,724 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:10:10,731 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:10:10,737 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:10:10,738 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:10:10,741 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:10:10,753 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:10:10,755 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:10:10,755 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:10:12,743 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:10:12,743 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:10:12,745 - INFO - UserManagementScreen - user_management_screen:98 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:10:12,745 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:10:12,746 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-04 22:10:12,781 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-04 22:10:12,781 - ERROR - UserManagementScreen - user_management_screen:541 - Error loading users: 'UserController' object has no attribute 'get_all_users_with_roles'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 509, in load_users_data
    users = self.user_controller.get_all_users_with_roles()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'get_all_users_with_roles'
2025-06-04 22:10:18,843 - INFO - UserManagementScreen - user_management_screen:195 - UserManagementScreen UI setup complete.
2025-06-04 22:10:18,925 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:10:18,926 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-04 22:10:18,936 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:10:29,710 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 547, in _add_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 547, in _add_user
    dialog = AddEditUserDialog(
             ^^^^^^^^^^^^^^^^^^
TypeError: AddEditUserDialog.__init__() got an unexpected keyword argument 'parent'
2025-06-04 22:19:42,202 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:19:42,202 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:19:42,202 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:19:42,203 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:19:42,203 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:19:42,203 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:19:42,210 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:19:42,210 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:19:42,213 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:19:42,213 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:19:42,214 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:19:42,396 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:19:42,398 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:19:42,398 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:19:42,398 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:19:42,398 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:19:42,399 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:19:42,404 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:19:42,453 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:19:52,594 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:20:20,770 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:20:20,931 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:20:20,931 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:20:20,932 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:20:20,944 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:20:20,944 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:20:20,945 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:20:20,946 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:20:20,953 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:20:21,112 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:20:21,115 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:20:21,117 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:20:21,122 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:20:21,127 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:20:21,146 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:20:21,146 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:20:21,147 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:20:21,205 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:20:21,206 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:20:21,207 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:20:21,264 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:20:21,267 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:20:21,267 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:20:21,280 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:20:21,303 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:20:21,304 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:20:21,311 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:20:21,317 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:20:21,318 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:20:21,321 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:20:21,330 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:20:21,333 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:20:21,333 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:20:30,421 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:20:30,422 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:20:30,423 - INFO - UserManagementScreen - user_management_screen:95 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:20:30,424 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:20:30,425 - INFO - UserManagementScreen - user_management_screen:157 - Setting up UserManagementScreen UI...
2025-06-04 22:20:30,463 - INFO - UserManagementScreen - user_management_screen:491 - Loading users data for tab...
2025-06-04 22:20:30,465 - INFO - UserManagementScreen - user_management_screen:527 - Loaded 2 users.
2025-06-04 22:20:30,466 - INFO - UserManagementScreen - user_management_screen:187 - UserManagementScreen UI setup complete.
2025-06-04 22:20:30,550 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:20:30,551 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:20:30,552 - INFO - UserManagementScreen - user_management_screen:154 - UserManagementScreen __init__ completed.
2025-06-04 22:20:30,578 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:20:35,308 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:20:35,309 - INFO - UserManagementScreen - user_management_screen:671 - Loading locations data for tab...
2025-06-04 22:20:35,310 - ERROR - UserManagementScreen - user_management_screen:719 - Error loading locations: 'LocationController' object has no attribute 'get_all_locations_detailed'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 676, in load_locations_data
    locations = self.location_controller.get_all_locations_detailed()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'get_all_locations_detailed'
2025-06-04 22:20:42,893 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:20:42,894 - INFO - UserManagementScreen - user_management_screen:875 - Loading charge code categories/processes data...
2025-06-04 22:20:42,895 - INFO - UserManagementScreen - user_management_screen:882 - CCC active_filter: active
2025-06-04 22:20:42,895 - ERROR - UserManagementScreen - user_management_screen:925 - Error loading categories/processes: ChargeCodeController.get_charge_code_categories() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 886, in load_categories_processes_data
    level1_categories = self.charge_code_controller.get_charge_code_categories(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ChargeCodeController.get_charge_code_categories() got an unexpected keyword argument 'status_filter'
2025-06-04 22:20:46,862 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:20:46,862 - INFO - UserManagementScreen - user_management_screen:1159 - Loading charge codes data for tab...
2025-06-04 22:20:46,864 - INFO - UserManagementScreen - user_management_screen:1165 - Charge code status filter: active
2025-06-04 22:20:46,864 - ERROR - UserManagementScreen - user_management_screen:1213 - Error loading charge codes: 'ChargeCodeController' object has no attribute 'get_all_charge_codes_with_category_path'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1169, in load_charge_codes_data
    self.charge_code_controller.get_all_charge_codes_with_category_path(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_all_charge_codes_with_category_path'
2025-06-04 22:20:52,171 - INFO - UserManagementScreen - user_management_screen:395 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:20:52,171 - INFO - UserManagementScreen - user_management_screen:1368 - Loading owners data for tab...
2025-06-04 22:20:52,172 - ERROR - UserManagementScreen - user_management_screen:1407 - Error loading owners: 'OwnerController' object has no attribute 'get_all_owners'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1373, in load_owners_data
    owners = self.owner_controller.get_all_owners()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OwnerController' object has no attribute 'get_all_owners'
2025-06-04 22:27:26,201 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:27:26,201 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:27:26,201 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:27:26,202 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:27:26,202 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:27:26,202 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:27:26,210 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:27:26,210 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:27:26,212 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:27:26,213 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:27:26,213 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:27:26,393 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:27:26,395 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:27:26,395 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:27:26,396 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:27:26,396 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:27:26,396 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:27:26,401 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:27:26,450 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:27:28,184 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:27:36,740 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:27:36,902 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:27:36,903 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:27:36,904 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:27:36,914 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:27:36,915 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:27:36,915 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:27:36,919 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:27:36,919 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:27:36,920 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:27:36,926 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:27:37,079 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:27:37,082 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:27:37,083 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:27:37,088 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:27:37,093 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:27:37,112 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:27:37,113 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:27:37,114 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:27:37,114 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:27:37,169 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:27:37,170 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:27:37,171 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:27:37,228 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:27:37,231 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:27:37,231 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:27:37,247 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:27:37,273 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:27:37,274 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:27:37,282 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:27:37,286 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:27:37,288 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:27:37,291 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:27:37,300 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:27:37,302 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:27:37,302 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:27:39,272 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:27:39,273 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:27:39,274 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:27:39,274 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:27:39,275 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:27:39,310 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:27:39,313 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:27:39,313 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:27:39,392 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:27:39,393 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:27:39,394 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:27:39,420 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:27:42,572 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:27:42,572 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:27:42,577 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:27:44,402 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:27:44,402 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:27:44,410 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:27:46,076 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:27:46,078 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:27:46,079 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:27:46,083 - INFO - UserManagementScreen - user_management_screen:1256 - Loaded 2 charge codes based on filter 'active'.
2025-06-04 22:27:47,545 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:27:47,546 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:27:47,548 - ERROR - UserManagementScreen - user_management_screen:1462 - Error loading owners: Parent instance <Owner at 0x2789610dbd0> is not bound to a Session; lazy load operation of attribute 'state' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1445, in load_owners_data
    hasattr(owner_obj, "state")
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\orm\strategies.py", line 918, in _load_for_state
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Owner at 0x2789610dbd0> is not bound to a Session; lazy load operation of attribute 'state' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-06-04 22:28:07,023 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:28:07,023 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:36:58,739 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:36:58,740 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:36:58,741 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:36:58,750 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:36:58,750 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:36:58,752 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:36:58,753 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:36:58,753 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:36:58,931 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:36:58,933 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:36:58,933 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:36:58,933 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:36:58,934 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:36:58,934 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:36:58,938 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:36:58,988 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:37:00,965 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:37:11,844 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:37:12,005 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:37:12,005 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:37:12,006 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:37:12,017 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:37:12,017 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:37:12,018 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:37:12,018 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:37:12,024 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:37:12,176 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:37:12,180 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:37:12,182 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:37:12,187 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:37:12,192 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:37:12,213 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:37:12,213 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:37:12,214 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:37:12,215 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:37:12,215 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:37:12,273 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:37:12,274 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:37:12,274 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:37:12,332 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:37:12,335 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:37:12,336 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:37:12,350 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:37:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:37:12,373 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:37:12,382 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:37:12,388 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:37:12,389 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:37:12,392 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:37:12,402 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:37:12,405 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:37:12,405 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:37:15,083 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:37:15,083 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:37:15,085 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:37:15,086 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:37:15,086 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:37:15,122 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:37:15,124 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:37:15,124 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:37:15,206 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:37:15,206 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:37:15,207 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:37:15,232 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:37:20,043 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-04 22:37:25,710 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-04 22:37:31,328 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:37:31,328 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:37:31,333 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:37:33,778 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-04 22:37:39,462 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:37:39,462 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:37:39,470 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:37:55,155 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1019, in _edit_selected_category_process
    category_to_edit = self.charge_code_controller.get_category_by_id(category_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1019, in _edit_selected_category_process
    category_to_edit = self.charge_code_controller.get_category_by_id(category_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargeCodeController' object has no attribute 'get_category_by_id'
2025-06-04 22:38:00,766 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:38:00,766 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:38:00,768 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:38:00,771 - INFO - UserManagementScreen - user_management_screen:1256 - Loaded 2 charge codes based on filter 'active'.
2025-06-04 22:38:02,256 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
2025-06-04 22:38:05,628 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1361, in _update_charge_code_action_buttons_state
    cc_obj = self.charge_code_controller.get_charge_code_by_id(charge_code_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\controllers\charge_code_controller.py", line 164, in get_charge_code_by_id
    .filter(ChargeCode.charge_code_id == charge_code_id)
            ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ChargeCode' has no attribute 'charge_code_id'
2025-06-04 22:38:08,396 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:38:08,396 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:38:08,399 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:38:08,399 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:38:12,463 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:38:12,463 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:38:26,239 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:38:26,240 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:51:45,154 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-04 22:51:45,155 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-04 22:51:45,155 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-04 22:51:45,163 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-04 22:51:45,163 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-04 22:51:45,166 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-04 22:51:45,167 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-04 22:51:45,167 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-04 22:51:45,346 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-04 22:51:45,348 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-04 22:51:45,348 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-04 22:51:45,349 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-04 22:51:45,349 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-04 22:51:45,349 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-04 22:51:45,354 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-04 22:51:45,405 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-04 22:51:46,937 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-04 22:51:59,212 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-04 22:51:59,374 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-04 22:51:59,375 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-04 22:51:59,376 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-04 22:51:59,388 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-04 22:51:59,389 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-04 22:51:59,389 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-04 22:51:59,390 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-04 22:51:59,398 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-04 22:51:59,561 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-04 22:51:59,565 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-04 22:51:59,566 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-04 22:51:59,571 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-04 22:51:59,577 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-04 22:51:59,597 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-04 22:51:59,598 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-04 22:51:59,599 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-04 22:51:59,600 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-04 22:51:59,600 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-04 22:51:59,655 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-04 22:51:59,656 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-04 22:51:59,656 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-04 22:51:59,714 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-04 22:51:59,717 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-04 22:51:59,717 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-04 22:51:59,730 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-04 22:51:59,753 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-04 22:51:59,754 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-04 22:51:59,762 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-04 22:51:59,767 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-04 22:51:59,768 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-04 22:51:59,771 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-04 22:51:59,780 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-04 22:51:59,783 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-04 22:51:59,783 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-04 22:52:03,609 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-04 22:52:03,609 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-04 22:52:03,610 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-04 22:52:03,611 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-04 22:52:03,646 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:03,649 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:03,649 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-04 22:52:03,726 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-04 22:52:03,727 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-04 22:52:03,727 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-04 22:52:03,751 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-04 22:52:07,161 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:52:07,162 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:52:07,166 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:52:07,166 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:52:10,845 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:52:10,846 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-04 22:52:20,188 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-04 22:52:20,188 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-04 22:52:20,190 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-04 22:52:20,193 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-04 22:52:33,176 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-04 22:52:33,176 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-04 22:52:33,183 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-04 22:52:35,188 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-04 22:52:35,189 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:52:35,191 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:52:38,083 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-04 22:52:40,054 - INFO - LocationController - location_controller:262 - Location 'West Wing Stalls' (ID: 3) updated by ADMIN.
2025-06-04 22:52:42,064 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-04 22:52:42,066 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-04 22:52:44,053 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-04 22:52:44,054 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:44,055 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:46,580 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-04 22:52:48,022 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: tm by ADMIN
2025-06-04 22:52:48,025 - INFO - UserController - user_controller:469 - User 'tm' updated successfully by ADMIN.
2025-06-04 22:52:48,025 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User updated successfully.
2025-06-04 22:52:48,031 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-04 22:52:48,032 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-04 22:52:52,115 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-04 22:52:52,116 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-04 22:52:52,118 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-04 22:52:52,120 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-04 22:52:59,005 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-04 22:52:59,006 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 17:04:42,481 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:04:42,481 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:04:42,482 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:04:42,482 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:04:42,496 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:04:42,496 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:04:42,526 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:04:42,527 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:04:42,527 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:04:42,721 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:04:42,723 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:04:42,723 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:04:42,723 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:04:42,723 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:04:42,724 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:04:42,735 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:04:42,785 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:04:44,490 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:04:56,408 - INFO - UserController - user_controller:55 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:04:56,569 - INFO - UserController - user_controller:98 - User 'ADMIN' authenticated successfully.
2025-06-05 17:04:56,570 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:04:56,571 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:04:56,584 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:04:56,584 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:04:56,585 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:04:56,585 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:04:56,597 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:04:58,014 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:04:58,017 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:04:58,019 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:04:58,023 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:04:58,028 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:04:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:04:58,048 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:04:58,049 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:04:58,050 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:04:58,107 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:04:58,108 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:04:58,108 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:04:58,178 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:04:58,181 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:04:58,182 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:04:58,194 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:04:58,224 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:04:58,225 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:04:58,234 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:04:58,241 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:04:58,241 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:04:58,244 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:04:58,255 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:04:58,258 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:04:58,258 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:05:16,647 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 17:05:16,649 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,655 - INFO - FinancialController - financial_controller:316 - Retrieved 2 active users for lookup.
2025-06-05 17:05:16,658 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-05 17:05:16,659 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,663 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,664 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,665 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:16,665 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 17:05:22,224 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:05:22,224 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:05:22,226 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:05:22,227 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:05:22,227 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:05:22,262 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:05:22,264 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 17:05:22,265 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:05:22,357 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:05:22,358 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:05:22,359 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:05:22,385 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:05:25,552 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 17:06:11,701 - INFO - AddEditUserDialog - add_edit_user_dialog:374 - Attempting to create new user: bc by ADMIN
2025-06-05 17:06:11,871 - INFO - UserController - user_controller:323 - User 'bc' created successfully by ADMIN.
2025-06-05 17:06:11,871 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User created successfully.
2025-06-05 17:06:11,877 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:06:11,878 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:06:26,785 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 606, in _toggle_selected_user_active_status
    success, message = self.user_controller.toggle_user_active_status(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 606, in _toggle_selected_user_active_status
    success, message = self.user_controller.toggle_user_active_status(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserController' object has no attribute 'toggle_user_active_status'
2025-06-05 17:08:24,018 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:08:24,018 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:08:24,018 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:08:24,019 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:08:24,019 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:08:24,019 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:08:24,027 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:08:24,027 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:08:24,030 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:08:24,031 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:08:24,031 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:08:24,211 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:08:24,212 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:08:24,213 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:08:24,213 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:08:24,213 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:08:24,214 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:08:24,218 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:08:24,270 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:08:26,222 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:08:33,977 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:08:34,140 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:08:34,140 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:08:34,141 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:08:34,152 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:08:34,152 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:08:34,153 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:08:34,154 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:08:34,154 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:08:34,155 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:08:34,161 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:08:34,330 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:08:34,333 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:08:34,334 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:08:34,339 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:08:34,343 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:08:34,362 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:08:34,363 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:08:34,364 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:08:34,419 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:08:34,420 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:08:34,421 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:08:34,477 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:08:34,480 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:08:34,480 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:08:34,490 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:08:34,514 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:08:34,514 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:08:34,522 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:08:34,527 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:08:34,527 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:08:34,530 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:08:34,539 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:08:34,544 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:08:34,544 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:08:36,295 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:08:36,295 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:08:36,296 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:08:36,296 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:08:36,297 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:08:36,332 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:36,335 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:36,335 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:08:36,410 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:08:36,411 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:08:36,412 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:08:36,435 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:08:42,055 - INFO - UserController - user_controller:633 - User 'bc' has been deactivated by tm.
2025-06-05 17:08:44,776 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:44,778 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:52,989 - INFO - UserController - user_controller:633 - User 'bc' has been activated by tm.
2025-06-05 17:08:54,398 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:08:54,400 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:08:57,826 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:08:57,826 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:08:57,829 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:09:05,384 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 782, in _toggle_selected_location_active_status
    self.location_controller.toggle_location_active_status(  # Corrected method name
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 782, in _toggle_selected_location_active_status
    self.location_controller.toggle_location_active_status(  # Corrected method name
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LocationController' object has no attribute 'toggle_location_active_status'
2025-06-05 17:10:23,506 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:10:23,506 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:10:23,507 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:10:23,507 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:10:23,515 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:10:23,516 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:10:23,518 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:10:23,519 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:10:23,519 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:10:23,702 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:10:23,703 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:10:23,704 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:10:23,704 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:10:23,704 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:10:23,704 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:10:23,709 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:10:23,763 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:10:25,313 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:10:32,995 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:10:33,154 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:10:33,155 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:10:33,156 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:10:33,162 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:10:33,163 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:10:33,164 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:10:33,164 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:10:33,165 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:10:33,165 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:10:33,169 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:10:33,324 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:10:33,327 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:10:33,328 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:10:33,333 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:10:33,338 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:10:33,357 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:10:33,358 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:10:33,410 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:10:33,412 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:10:33,412 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:10:33,469 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:10:33,472 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:10:33,473 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:10:33,488 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:10:33,511 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:10:33,511 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:10:33,519 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:10:33,524 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:10:33,525 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:10:33,528 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:10:33,538 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:10:33,541 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:10:33,541 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:10:35,821 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:10:35,821 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:10:35,822 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:10:35,823 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:10:35,857 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:10:35,859 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:10:35,859 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:10:35,934 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:10:35,935 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:10:35,936 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:10:35,959 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:10:39,405 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:10:39,406 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:10:39,410 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:10:43,146 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:10:59,078 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:11:08,676 - INFO - LocationController - location_controller:196 - Location 'Main Stable' (ID: 1) status changed to deactivated by tm.
2025-06-05 17:11:10,336 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:11:10,338 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:11:17,262 - INFO - LocationController - location_controller:196 - Location 'Main Stable' (ID: 1) status changed to activated by tm.
2025-06-05 17:11:21,300 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:11:21,303 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:11:22,541 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:11:54,308 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:11:58,297 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 462, in validate_and_accept
    is_valid, errors = self.controller.validate_location_data(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.validate_location_data() got an unexpected keyword argument 'location_id_to_check_for_unique'
2025-06-05 17:13:55,203 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:13:55,204 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:13:55,204 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:13:55,212 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:13:55,212 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:13:55,215 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:13:55,216 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:13:55,216 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:13:55,396 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:13:55,398 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:13:55,398 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:13:55,399 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:13:55,399 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:13:55,399 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:13:55,404 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:13:55,458 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:13:57,193 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:14:07,678 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:14:07,837 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:14:07,838 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:14:07,839 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:14:07,851 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:14:07,852 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:14:07,853 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:14:07,860 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:14:08,003 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:14:08,007 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:14:08,008 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:14:08,013 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:14:08,017 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:14:08,036 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:14:08,036 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:14:08,037 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:14:08,093 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:14:08,094 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:14:08,094 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:14:08,150 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:14:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:14:08,154 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:14:08,165 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:14:08,188 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:14:08,188 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:14:08,195 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:14:08,200 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:14:08,201 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:14:08,203 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:14:08,212 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:14:08,216 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:14:08,216 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:14:10,376 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:14:10,376 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:14:10,377 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:14:10,378 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:14:10,379 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:14:10,380 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:14:10,380 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:14:10,415 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:14:10,417 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:14:10,418 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:14:10,500 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:14:10,501 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:14:10,502 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:14:10,502 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:14:10,503 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:14:10,528 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:14:13,449 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:14:13,450 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:14:13,455 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:14:15,798 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:14:27,963 - ERROR - LocationController - location_controller:136 - Error creating location: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\location_controller.py", line 112, in create_location
    address_line2=location_data.get("address_line2", "").strip() or None,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-06-05 17:14:50,589 - ERROR - LocationController - location_controller:136 - Error creating location: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\location_controller.py", line 112, in create_location
    address_line2=location_data.get("address_line2", "").strip() or None,
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-06-05 17:16:55,754 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:16:55,754 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:16:55,755 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:16:55,755 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:16:55,763 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:16:55,763 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:16:55,766 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:16:55,949 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:16:55,951 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:16:55,951 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:16:55,951 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:16:55,951 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:16:55,952 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:16:55,956 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:16:56,007 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:16:58,292 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:17:07,589 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:17:07,751 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:17:07,752 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:17:07,752 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:17:07,762 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:17:07,762 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:17:07,763 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:17:07,764 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:17:07,771 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:17:07,934 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:17:07,937 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:17:07,938 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:17:07,943 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:17:07,948 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:17:07,968 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:17:07,969 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:17:08,025 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:17:08,027 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:17:08,027 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:17:08,087 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:17:08,090 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:17:08,090 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:17:08,102 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:17:08,123 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:17:08,124 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:17:08,131 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:17:08,138 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:17:08,139 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:17:08,141 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:17:08,151 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:17:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:17:08,153 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:17:10,569 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:17:10,569 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:17:10,570 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:17:10,571 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:17:10,571 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:17:10,572 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:17:10,572 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:17:10,608 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:17:10,611 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:17:10,611 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:17:10,688 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:17:10,689 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:17:10,690 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:17:10,715 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:17:12,113 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:17:12,113 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:17:12,118 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 17:17:13,347 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:17:34,170 - INFO - LocationController - location_controller:133 - Location 'ghgghfgh' created by ADMIN.
2025-06-05 17:17:36,313 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:17:36,315 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:17:39,350 - INFO - AddEditLocationDialog - add_edit_location_dialog:374 - Loaded 60 states into combobox.
2025-06-05 17:17:43,639 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:17:43,639 - ERROR - AddEditLocationDialog - add_edit_location_dialog:503 - Error during location save/update: not enough values to unpack (expected 3, got 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 480, in validate_and_accept
    success, message, _ = self.controller.update_location(
    ^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-06-05 17:17:54,244 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:17:54,244 - ERROR - AddEditLocationDialog - add_edit_location_dialog:503 - Error during location save/update: not enough values to unpack (expected 3, got 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 480, in validate_and_accept
    success, message, _ = self.controller.update_location(
    ^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 3, got 2)
2025-06-05 17:21:50,918 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:21:50,918 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:21:50,919 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:21:50,920 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:21:50,920 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:21:50,920 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:21:50,928 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:21:50,929 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:21:50,931 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:21:50,932 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:21:50,932 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:21:51,112 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:21:51,114 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:21:51,114 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:21:51,114 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:21:51,114 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:21:51,115 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:21:51,119 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:21:51,164 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:21:53,015 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:22:03,308 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:22:03,470 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:22:03,470 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:22:03,472 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:22:03,484 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:22:03,484 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:22:03,484 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:22:03,485 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:22:03,492 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:22:03,654 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:22:03,657 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:22:03,659 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:22:03,663 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:22:03,668 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:22:03,688 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:22:03,689 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:22:03,690 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:22:03,691 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:22:03,748 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:22:03,750 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:22:03,750 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:22:03,808 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:22:03,811 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:22:03,811 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:22:03,828 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:22:03,850 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:22:03,851 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:22:03,859 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:22:03,864 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:22:03,865 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:22:03,867 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:22:03,880 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:22:03,883 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:22:03,883 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:22:06,090 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:22:06,090 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:22:06,092 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:22:06,093 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:22:06,127 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:22:06,130 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:22:06,130 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:22:06,209 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:22:06,210 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:22:06,211 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:22:06,235 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:22:08,279 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:22:08,279 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:08,284 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:12,245 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:22:18,163 - INFO - LocationController - location_controller:175 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:22:19,559 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:19,561 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:22,546 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:22:27,550 - INFO - LocationController - location_controller:207 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to deactivated by ADMIN.
2025-06-05 17:22:29,864 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:29,867 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:22:47,721 - INFO - LocationController - location_controller:207 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to activated by ADMIN.
2025-06-05 17:22:50,567 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:22:50,568 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:24:37,019 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:24:37,019 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:37,022 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:45,786 - INFO - UserController - user_controller:633 - User 'bc' has been deactivated by ADMIN.
2025-06-05 17:24:47,823 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:47,824 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:52,921 - INFO - UserController - user_controller:633 - User 'bc' has been activated by ADMIN.
2025-06-05 17:24:54,326 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:24:54,329 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:24:58,692 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 17:24:58,692 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 17:24:58,699 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 17:25:03,932 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:25:03,933 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:25:03,934 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:25:03,937 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:25:11,181 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 17:25:11,181 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 17:25:11,185 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 17:25:11,185 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 17:25:20,059 - ERROR - OwnerController - owner_controller:616 - Error toggling active status for owner ID 2: name 'OwnerModel' is not defined
Traceback (most recent call last):
  File "C:\Projects\EDMS\controllers\owner_controller.py", line 600, in toggle_owner_active_status
    session.query(OwnerModel)
                  ^^^^^^^^^^
NameError: name 'OwnerModel' is not defined
2025-06-05 17:25:27,648 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 17:25:27,649 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 17:25:32,358 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:25:32,359 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:25:32,361 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:26:02,750 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:26:02,750 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:26:02,751 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:26:02,751 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:26:02,758 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:26:02,758 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:26:02,762 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:26:02,762 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:26:02,763 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:26:02,945 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:26:02,947 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:26:02,947 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:26:02,947 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:26:02,948 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:26:02,948 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:26:02,952 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:26:03,003 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:26:04,833 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:26:16,373 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:26:16,533 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:26:16,533 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:26:16,535 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:26:16,545 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:26:16,545 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:26:16,546 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:26:16,546 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:26:16,550 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:26:16,728 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:26:16,731 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:26:16,732 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:26:16,737 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:26:16,742 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:26:16,760 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:26:16,761 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:26:16,762 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:26:16,813 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:26:16,815 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:26:16,816 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:26:16,890 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:26:16,893 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:26:16,893 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:26:16,912 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:26:16,935 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:26:16,936 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:26:16,943 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:26:16,948 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:26:16,949 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:26:16,951 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:26:16,964 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:26:16,967 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:26:16,968 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:26:19,577 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:26:19,578 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:26:19,579 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:26:19,580 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:26:19,580 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:26:19,581 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:26:19,581 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:26:19,615 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:26:19,617 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:26:19,618 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:26:19,694 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:26:19,694 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:26:19,695 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:26:19,720 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:26:21,811 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:26:21,811 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:26:21,816 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:26:29,028 - INFO - LocationController - location_controller:213 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to deactivated by tm.
2025-06-05 17:26:31,310 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:26:31,312 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:26:34,862 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:26:43,064 - INFO - LocationController - location_controller:181 - Location 'West Wing Stalls' (ID: 3) updated by tm.
2025-06-05 17:26:43,064 - ERROR - AddEditLocationDialog - add_edit_location_dialog:460 - Error during location save/update: too many values to unpack (expected 2)
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\dialogs\add_edit_location_dialog.py", line 435, in validate_and_accept
    success, message = self.controller.update_location(
    ^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2025-06-05 17:29:01,444 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:29:01,444 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:29:01,445 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:29:01,446 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:29:01,457 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:29:01,461 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:29:01,462 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:35:01,610 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:35:01,611 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:35:01,612 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:35:01,612 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:35:01,620 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:35:01,620 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:35:01,623 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:35:01,624 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:35:01,625 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:35:01,804 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:35:01,807 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:35:01,807 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:35:01,807 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:35:01,807 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:35:01,808 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:35:01,812 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:35:01,858 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:35:03,813 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:35:17,526 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:35:17,686 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:35:17,687 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:35:17,688 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:35:17,701 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:35:17,701 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:35:17,701 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:35:17,702 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:35:17,702 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:35:17,703 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:35:17,710 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:35:17,873 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:35:17,875 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:35:17,877 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:35:17,882 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:35:17,887 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:35:17,906 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:35:17,907 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:35:17,908 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:35:17,908 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:35:17,964 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:35:17,965 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:35:17,965 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:35:18,030 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:35:18,033 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:35:18,033 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:35:18,043 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:35:18,069 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:35:18,069 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:35:18,076 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:35:18,081 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:35:18,081 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:35:18,083 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:35:18,093 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:35:18,095 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:35:18,096 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:35:23,604 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:35:23,604 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:35:23,606 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:35:23,606 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:35:23,607 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:35:23,642 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:35:23,644 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:35:23,645 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:35:23,725 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:35:23,726 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:35:23,727 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:35:23,753 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:35:25,425 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:35:25,425 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:25,430 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:36,693 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:35:42,666 - INFO - LocationController - location_controller:166 - Location 'ghgghfghfghfghgfh' (ID: 4) updated by ADMIN.
2025-06-05 17:35:44,213 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:44,216 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:49,859 - INFO - LocationController - location_controller:198 - Location 'ghgghfghfghfghgfh' (ID: 4) status changed to activated by ADMIN.
2025-06-05 17:35:51,224 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:35:51,225 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 4 locations.
2025-06-05 17:35:53,437 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 17:36:11,359 - INFO - LocationController - location_controller:124 - Location 'vbvvbbvc' created by ADMIN.
2025-06-05 17:36:12,993 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:36:12,995 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 5 locations.
2025-06-05 17:36:44,064 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 17:36:44,064 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 17:36:44,071 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 17:36:50,248 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:36:50,248 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:36:50,249 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:36:50,252 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:36:55,374 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 17:36:55,375 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 17:36:55,378 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 17:36:55,378 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 17:36:56,744 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 17:36:56,745 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 17:36:56,746 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 17:36:56,747 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 17:39:37,262 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:39:37,262 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 17:39:37,268 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 5 locations.
2025-06-05 17:44:15,948 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 17:44:17,203 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:44:17,203 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:44:17,205 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:44:17,205 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:44:17,225 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:44:17,228 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:44:17,230 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:44:22,054 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:44:22,054 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:44:22,055 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:44:22,055 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:44:22,062 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:44:22,062 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:44:22,065 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:44:22,066 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:44:22,066 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:44:22,245 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:44:22,247 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:44:22,247 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:44:22,247 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:44:22,247 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:44:22,248 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:44:22,252 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:44:22,298 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:44:23,953 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:44:34,270 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 17:44:34,433 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 17:44:34,433 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 17:44:34,434 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 17:44:34,445 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 17:44:34,446 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 17:44:34,446 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:44:34,447 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:44:34,454 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:44:34,613 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:44:34,616 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:44:34,617 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:44:34,622 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:44:34,628 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:44:34,649 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:44:34,650 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:44:34,709 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:44:34,710 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:44:34,710 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:44:34,768 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:44:34,771 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:44:34,771 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:44:34,783 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:44:34,804 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:44:34,804 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:44:34,811 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:44:34,816 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:44:34,817 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:44:34,819 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:44:34,828 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:44:34,831 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:44:34,831 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:44:36,909 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:44:36,909 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:44:36,911 - INFO - UserManagementScreen - user_management_screen:88 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 17:44:36,912 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:44:36,913 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:44:36,913 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:44:36,914 - INFO - UserManagementScreen - user_management_screen:154 - Setting up UserManagementScreen UI...
2025-06-05 17:44:36,926 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-05 17:44:36,930 - INFO - UserManagementScreen - user_management_screen:538 - Loaded 3 users.
2025-06-05 17:44:36,930 - INFO - UserManagementScreen - user_management_screen:184 - UserManagementScreen UI setup complete.
2025-06-05 17:44:36,990 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:44:36,991 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:44:36,993 - INFO - UserManagementScreen - user_management_screen:151 - UserManagementScreen __init__ completed.
2025-06-05 17:44:37,017 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 17:44:43,154 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:44:43,154 - INFO - UserManagementScreen - user_management_screen:691 - Loading locations data for tab...
2025-06-05 17:44:43,156 - INFO - UserManagementScreen - user_management_screen:700 - Location status filter: active
2025-06-05 17:44:43,157 - ERROR - UserManagementScreen - user_management_screen:751 - Error loading locations: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 704, in load_locations_data
    locations = self.location_controller.get_all_locations(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
2025-06-05 17:45:34,262 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 17:45:34,263 - INFO - UserManagementScreen - user_management_screen:504 - Loading users data for tab...
2025-06-05 17:45:34,266 - INFO - UserManagementScreen - user_management_screen:538 - Loaded 3 users.
2025-06-05 17:45:35,612 - INFO - UserManagementScreen - user_management_screen:405 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 17:45:35,613 - INFO - UserManagementScreen - user_management_screen:691 - Loading locations data for tab...
2025-06-05 17:45:35,614 - INFO - UserManagementScreen - user_management_screen:700 - Location status filter: active
2025-06-05 17:45:35,614 - ERROR - UserManagementScreen - user_management_screen:751 - Error loading locations: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 704, in load_locations_data
    locations = self.location_controller.get_all_locations(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: LocationController.get_all_locations() got an unexpected keyword argument 'status_filter'
2025-06-05 17:45:45,790 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 17:45:47,235 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 17:45:47,236 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 17:45:47,237 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 17:45:47,237 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 17:45:47,244 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 17:45:47,247 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 17:45:47,247 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 17:45:59,919 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 17:45:59,920 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 17:45:59,921 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 17:45:59,921 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 17:45:59,928 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 17:45:59,928 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 17:45:59,932 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 17:45:59,933 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 17:45:59,933 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 17:46:00,112 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 17:46:00,114 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 17:46:00,114 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 17:46:00,115 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 17:46:00,115 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 17:46:00,115 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 17:46:00,119 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 17:46:00,166 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 17:46:01,475 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 17:46:08,934 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'tm', password_attempt (first 3 chars): '123...'
2025-06-05 17:46:09,095 - INFO - UserController - user_controller:93 - User 'tm' authenticated successfully.
2025-06-05 17:46:09,095 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'tm' logged in successfully
2025-06-05 17:46:09,097 - INFO - EDSIApplication - main:174 - User 'tm' logged in successfully
2025-06-05 17:46:09,111 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: tm
2025-06-05 17:46:09,111 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: tm
2025-06-05 17:46:09,111 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 17:46:09,112 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 17:46:09,118 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 17:46:09,276 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 17:46:09,279 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 17:46:09,281 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 17:46:09,288 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 17:46:09,294 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 17:46:09,313 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 17:46:09,314 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 17:46:09,314 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 17:46:09,315 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 17:46:09,371 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 17:46:09,372 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 17:46:09,373 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 17:46:09,429 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 17:46:09,433 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 17:46:09,433 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 17:46:09,447 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 17:46:09,471 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 17:46:09,471 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 17:46:09,478 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 17:46:09,483 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 17:46:09,484 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 17:46:09,486 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 17:46:09,494 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 17:46:09,497 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 17:46:09,497 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 17:46:11,355 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 17:46:11,355 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 17:46:11,357 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: tm
2025-06-05 17:46:11,357 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 17:46:11,358 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 17:46:11,394 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 17:46:11,396 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 3 users.
2025-06-05 17:46:11,397 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 17:46:11,477 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 17:46:11,478 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 17:46:11,479 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 17:46:11,503 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:00:27,808 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:00:28,957 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:00:28,958 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:00:28,960 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:00:28,960 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:00:28,980 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:00:28,985 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:00:28,986 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:01:58,708 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:01:58,708 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:01:58,709 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:01:58,709 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:01:58,716 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:01:58,716 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:01:58,719 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:01:58,720 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:01:58,720 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:01:58,898 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:01:58,900 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:01:58,900 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:01:58,900 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:01:58,900 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:01:58,901 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:01:58,905 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:01:58,952 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:02:00,725 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:02:10,425 - INFO - UserController - user_controller:50 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:02:10,588 - INFO - UserController - user_controller:93 - User 'ADMIN' authenticated successfully.
2025-06-05 18:02:10,588 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:02:10,590 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:02:10,600 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:02:10,601 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:02:10,602 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:02:10,609 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:02:10,763 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:02:10,767 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:02:10,768 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:02:10,774 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:02:10,779 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:02:10,798 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:02:10,798 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:02:10,799 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:02:10,800 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:02:10,855 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:02:10,856 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:02:10,856 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:02:10,916 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:02:10,919 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:02:10,919 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:02:10,934 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:02:10,955 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:02:10,956 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:02:10,963 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:02:10,968 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:02:10,969 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:02:10,972 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:02:10,982 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:02:10,985 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:02:10,985 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:02:12,971 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:02:12,972 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:02:12,973 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:02:12,973 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:02:12,974 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:02:13,003 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:13,005 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:02:13,006 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:02:13,078 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:02:13,078 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:02:13,079 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:02:13,102 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:02:21,320 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: False, Audit User: ADMIN
2025-06-05 18:02:38,475 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:02:52,332 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:52,335 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 0 users.
2025-06-05 18:02:53,763 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:53,764 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:02:56,617 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:02:56,618 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:03:03,674 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:03:03,674 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:03:03,676 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:03:03,678 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:03:09,576 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:03:09,576 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:03:09,578 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:03:56,314 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:03:56,314 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:03:56,315 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:03:56,317 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:06,451 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 18:04:09,886 - INFO - AddEditLocationDialog - add_edit_location_dialog:343 - Loaded 60 states into combobox.
2025-06-05 18:04:16,099 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:16,099 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: inactive
2025-06-05 18:04:16,102 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 0 locations.
2025-06-05 18:04:17,730 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:17,730 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: all
2025-06-05 18:04:17,733 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:19,536 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:19,537 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:19,539 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:29,374 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:04:29,375 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:04:29,378 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:04:33,866 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:04:33,866 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:33,868 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:33,869 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:35,567 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:04:40,809 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:04:40,810 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:04:40,812 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:04:41,914 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:04:41,914 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:04:41,915 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:04:41,916 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:04:42,863 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:05:07,394 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 3, new tab title:  Manage Master Owners
2025-06-05 18:05:12,186 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 2, new tab title:  Manage Charge Codes
2025-06-05 18:05:12,913 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:05:12,914 - INFO - UserManagementScreen - user_management_screen:708 - Loading locations data for tab...
2025-06-05 18:05:12,915 - INFO - UserManagementScreen - user_management_screen:717 - Location status filter: active
2025-06-05 18:05:12,916 - INFO - UserManagementScreen - user_management_screen:766 - Loaded 5 locations.
2025-06-05 18:05:14,874 - INFO - UserManagementScreen - user_management_screen:374 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:05:14,874 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:14,877 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:46,027 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:46,028 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 0 users.
2025-06-05 18:05:47,065 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:47,066 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:48,746 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:05:48,748 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:05:53,337 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:09:19,461 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:09:19,461 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:09:19,463 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:09:19,463 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:09:19,486 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:09:19,489 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:09:19,491 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:09:24,121 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:09:24,122 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:09:24,123 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:09:24,123 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:09:24,131 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:09:24,131 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:09:24,134 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:09:24,135 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:09:24,135 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:09:24,317 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:09:24,319 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:09:24,319 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:09:24,320 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:09:24,320 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:09:24,320 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:09:24,325 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:09:24,372 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:09:25,966 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:09:34,746 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:09:34,906 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:09:34,907 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:09:34,907 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:09:34,918 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:09:34,918 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:09:34,919 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:09:34,927 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:09:35,093 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:09:35,097 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:09:35,098 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:09:35,104 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:09:35,109 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:09:35,131 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:09:35,132 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:09:35,133 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:09:35,134 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:09:35,192 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:09:35,193 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:09:35,193 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:09:35,251 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:09:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:09:35,255 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:09:35,267 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:09:35,292 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:09:35,292 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:09:35,299 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:09:35,305 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:09:35,305 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:09:35,308 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:09:35,316 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:09:35,319 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:09:35,319 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:09:41,409 - INFO - LocationTab - location_tab:271 - Initiating Assign Existing Location for horse: Soul Rebel
2025-06-05 18:09:41,414 - INFO - SelectExistingLocationDialog - select_existing_location_dialog:202 - Loaded 5 active locations initially.
2025-06-05 18:09:44,505 - INFO - LocationTab - location_tab:297 - Assign Existing Location dialog cancelled.
2025-06-05 18:09:47,855 - INFO - BillingTab - billing_tab:311 - Launching AddChargeDialog for horse: Soul Rebel
2025-06-05 18:09:47,858 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,864 - INFO - FinancialController - financial_controller:316 - Retrieved 3 active users for lookup.
2025-06-05 18:09:47,867 - INFO - FinancialController - financial_controller:280 - Retrieved 2 charge codes for lookup.
2025-06-05 18:09:47,868 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,871 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,872 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,873 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:47,874 - WARNING - AddChargeDialog - add_charge_dialog:144 - Checkbox icon not found at expected path: C:\Projects\EDMS\assets\icons\checkmark_light.svg
2025-06-05 18:09:52,420 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:09:52,421 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:09:52,422 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:09:52,423 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:09:52,424 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:09:52,453 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:09:52,456 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:09:52,456 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:09:52,542 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:09:52,543 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:09:52,577 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:10:07,938 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:10:16,001 - INFO - AddEditUserDialog - add_edit_user_dialog:367 - Attempting to update user ID: bc by ADMIN
2025-06-05 18:10:16,004 - INFO - UserController - user_controller:419 - User 'bc' updated successfully by ADMIN.
2025-06-05 18:10:16,004 - INFO - AddEditUserDialog - add_edit_user_dialog:382 - User operation successful: User updated successfully.
2025-06-05 18:10:16,010 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:10:16,012 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 3 users.
2025-06-05 18:10:23,612 - INFO - AddEditUserDialog - add_edit_user_dialog:103 - AddEditUserDialog initialized. Edit mode: True, Audit User: ADMIN
2025-06-05 18:20:18,782 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:20:18,782 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:20:18,783 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:20:18,783 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:20:18,798 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:20:18,798 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:20:18,836 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:20:18,837 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:20:18,837 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:20:19,031 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:20:19,033 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:20:19,033 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:20:19,034 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:20:19,034 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:20:19,034 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:20:19,045 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:20:19,097 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:20:21,919 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:20:31,465 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:20:31,624 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:20:31,624 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:20:31,625 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:20:31,632 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:20:31,632 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:20:31,633 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:20:31,645 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:20:32,969 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:20:32,973 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:20:32,974 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:20:32,978 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:20:32,983 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:20:33,002 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:20:33,003 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:20:33,056 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:20:33,057 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:20:33,057 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:20:33,121 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:20:33,125 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:20:33,125 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:20:33,137 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:20:33,158 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:20:33,158 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:20:33,165 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:20:33,172 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:20:33,173 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:20:33,175 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:20:33,184 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:20:33,187 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:20:33,187 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:20:35,799 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:20:35,799 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:20:35,801 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:20:35,802 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:20:35,802 - INFO - UserManagementScreen - user_management_screen:165 - Setting up UserManagementScreen UI...
2025-06-05 18:20:35,823 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:35,824 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:35,826 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 3 users.
2025-06-05 18:20:35,827 - INFO - UserManagementScreen - user_management_screen:188 - UserManagementScreen UI setup complete.
2025-06-05 18:20:35,895 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:20:35,896 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:20:35,897 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:20:35,925 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:20:46,132 - INFO - UserController - user_controller:600 - User 'bc' has been deactivated by ADMIN.
2025-06-05 18:20:48,214 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:48,214 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:48,217 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:20:52,249 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:52,249 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:20:52,252 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 1 users.
2025-06-05 18:20:55,439 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:20:55,439 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:20:55,441 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:21:01,624 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:01,625 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:21:01,627 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 1 users.
2025-06-05 18:21:07,296 - INFO - UserController - user_controller:532 - User 'bc' permanently deleted by admin 'ADMIN'.
2025-06-05 18:21:09,259 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:09,259 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: inactive
2025-06-05 18:21:09,262 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 0 users.
2025-06-05 18:21:11,532 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:21:11,532 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:21:11,536 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:21:16,940 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:21:16,940 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:16,942 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:16,945 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 5 locations.
2025-06-05 18:21:26,835 - INFO - LocationController - location_controller:248 - Location 'ghgghfghfghfghgfh' (ID: 4) deleted by ADMIN.
2025-06-05 18:21:28,692 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:28,692 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:28,695 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 4 locations.
2025-06-05 18:21:33,805 - INFO - LocationController - location_controller:201 - Location 'vbvvbbvc' (ID: 5) status changed to deactivated by ADMIN.
2025-06-05 18:21:35,391 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:35,391 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:35,392 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:21:37,555 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:37,555 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: inactive
2025-06-05 18:21:37,558 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 1 locations.
2025-06-05 18:21:41,890 - INFO - LocationController - location_controller:248 - Location 'vbvvbbvc' (ID: 5) deleted by ADMIN.
2025-06-05 18:21:43,330 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:43,330 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: inactive
2025-06-05 18:21:43,332 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 0 locations.
2025-06-05 18:21:56,821 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:21:56,821 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:21:56,823 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:22:04,085 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 2, new tab title:  Manage Master Owners
2025-06-05 18:27:00,460 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:00,460 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:00,463 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:00,464 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:01,991 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:01,992 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:01,993 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:01,994 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:03,487 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:03,488 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:03,489 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:03,490 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:06,767 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:06,767 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:06,768 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:06,769 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:15,228 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:15,229 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:15,231 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:15,232 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:22,324 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:27:22,325 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:27:22,326 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:27:22,327 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:27:26,626 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 0, new tab title:  Manage Users
2025-06-05 18:27:26,627 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:27:26,628 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:27:26,630 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:27:36,017 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 2, new tab title:  Manage Master Owners
2025-06-05 18:27:38,048 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:401 - Loaded 60 states into combobox.
2025-06-05 18:27:38,049 - INFO - AddEditOwnerDialog - add_edit_owner_dialog:417 - Loaded 7 billing terms.
2025-06-05 18:32:59,531 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:33:00,617 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:33:00,617 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:33:00,619 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:33:00,619 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:33:00,628 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:33:00,631 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:33:00,632 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:52:00,304 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:52:00,304 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:52:00,304 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:52:00,305 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:52:00,305 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:52:00,305 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:52:00,312 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:52:00,312 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:52:00,315 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:52:00,316 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:52:00,316 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:52:00,501 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:52:00,503 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:52:00,503 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:52:00,504 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:52:00,504 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:52:00,504 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:52:00,510 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:52:00,560 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:52:02,776 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:52:13,223 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:52:13,383 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:52:13,384 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:52:13,385 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:52:13,396 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:52:13,396 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:52:13,397 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:52:13,397 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:52:13,404 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:52:13,563 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:52:13,566 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:52:13,568 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:52:13,573 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:52:13,579 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:52:13,600 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:52:13,601 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:52:13,601 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:52:13,602 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:52:13,660 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:52:13,662 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:52:13,662 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:52:13,724 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:52:13,727 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:52:13,727 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:52:13,741 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:52:13,764 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:52:13,764 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:52:13,771 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:52:13,776 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:52:13,776 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:52:13,779 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:52:13,788 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:52:13,790 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:52:13,791 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:52:18,591 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:52:18,591 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:52:18,594 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:52:18,595 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:52:18,595 - INFO - UserManagementScreen - user_management_screen:165 - Setting up UserManagementScreen UI...
2025-06-05 18:52:18,619 - INFO - UserManagementScreen - user_management_screen:458 - Loading users data for tab...
2025-06-05 18:52:18,619 - INFO - UserManagementScreen - user_management_screen:465 - User status filter: active
2025-06-05 18:52:18,621 - INFO - UserManagementScreen - user_management_screen:508 - Loaded 2 users.
2025-06-05 18:52:18,621 - INFO - UserManagementScreen - user_management_screen:188 - UserManagementScreen UI setup complete.
2025-06-05 18:52:18,693 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:52:18,693 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:52:18,694 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:52:18,694 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:52:18,695 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:52:18,725 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:52:23,183 - INFO - UserManagementScreen - user_management_screen:364 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:52:23,186 - INFO - UserManagementScreen - user_management_screen:681 - Loading locations data for tab...
2025-06-05 18:52:23,187 - INFO - UserManagementScreen - user_management_screen:690 - Location status filter: active
2025-06-05 18:52:23,191 - INFO - UserManagementScreen - user_management_screen:739 - Loaded 3 locations.
2025-06-05 18:53:07,960 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:53:08,882 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:53:08,882 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:53:08,884 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:53:08,884 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:53:08,904 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:53:08,911 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:53:08,913 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:53:14,029 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:53:14,029 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:53:14,030 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:53:14,030 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:53:14,037 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:53:14,038 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:53:14,040 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:53:14,041 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:53:14,041 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:53:14,223 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:53:14,225 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:53:14,225 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:53:14,226 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:53:14,226 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:53:14,226 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:53:14,231 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:53:14,277 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:53:15,805 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:53:25,097 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:53:25,258 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:53:25,258 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:53:25,260 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:53:25,271 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:53:25,272 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:53:25,272 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:53:25,273 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:53:25,279 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:53:25,435 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:53:25,437 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:53:25,439 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:53:25,444 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:53:25,449 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:53:25,469 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:53:25,469 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:53:25,470 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:53:25,523 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:53:25,524 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:53:25,524 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:53:25,582 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:53:25,585 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:53:25,586 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:53:25,599 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:53:25,618 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:53:25,619 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:53:25,625 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:53:25,631 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:53:25,631 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:53:25,634 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:53:25,644 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:53:25,647 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:53:25,648 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:53:27,563 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:53:27,563 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:53:27,565 - INFO - UserManagementScreen - user_management_screen:89 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:53:27,565 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:53:27,566 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:53:27,567 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:53:27,567 - INFO - UserManagementScreen - user_management_screen:164 - Setting up UserManagementScreen UI...
2025-06-05 18:53:27,598 - INFO - UserManagementScreen - user_management_screen:468 - Loading users data for tab...
2025-06-05 18:53:27,601 - INFO - UserManagementScreen - user_management_screen:521 - Loaded 2 users.
2025-06-05 18:53:27,601 - INFO - UserManagementScreen - user_management_screen:194 - UserManagementScreen UI setup complete.
2025-06-05 18:53:27,675 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:53:27,676 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:53:27,677 - INFO - UserManagementScreen - user_management_screen:161 - UserManagementScreen __init__ completed.
2025-06-05 18:53:27,704 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:53:49,215 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:53:50,912 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:53:50,913 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:53:50,914 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:53:50,915 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:53:50,925 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:53:50,927 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:53:50,928 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 18:54:12,239 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 18:54:12,239 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 18:54:12,240 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 18:54:12,240 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 18:54:12,248 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 18:54:12,248 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 18:54:12,251 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 18:54:12,252 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 18:54:12,252 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 18:54:12,434 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 18:54:12,436 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 18:54:12,436 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 18:54:12,437 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 18:54:12,439 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 18:54:12,439 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 18:54:12,443 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 18:54:12,491 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 18:54:14,096 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 18:54:25,341 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 18:54:25,504 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 18:54:25,504 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 18:54:25,505 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 18:54:25,521 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 18:54:25,521 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 18:54:25,522 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 18:54:25,522 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 18:54:25,523 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 18:54:25,523 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 18:54:25,528 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 18:54:25,680 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 18:54:25,683 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 18:54:25,685 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 18:54:25,689 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 18:54:25,694 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 18:54:25,713 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 18:54:25,713 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 18:54:25,714 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 18:54:25,715 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 18:54:25,715 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 18:54:25,768 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 18:54:25,769 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 18:54:25,770 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 18:54:25,828 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 18:54:25,832 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 18:54:25,832 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 18:54:25,844 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 18:54:25,864 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 18:54:25,865 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 18:54:25,872 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 18:54:25,877 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 18:54:25,878 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 18:54:25,881 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 18:54:25,889 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 18:54:25,893 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 18:54:25,893 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 18:54:27,939 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 18:54:27,939 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 18:54:27,941 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 18:54:27,941 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 18:54:27,942 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 18:54:27,976 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 18:54:27,978 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 18:54:27,979 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 18:54:28,055 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 18:54:28,055 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 18:54:28,056 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 18:54:28,079 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 18:54:33,862 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 18:54:33,862 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 18:54:33,867 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 18:54:34,827 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 18:54:34,827 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 18:54:34,834 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 18:54:37,029 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 18:54:37,029 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 18:54:37,030 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 18:54:37,034 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 18:54:42,825 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 18:54:42,825 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 18:54:42,828 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 18:54:42,829 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 18:54:47,646 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 18:54:53,359 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 18:54:53,360 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 18:54:53,361 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 18:54:53,361 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 18:54:53,372 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 18:54:53,375 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 18:54:53,375 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:22:00,342 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:22:00,342 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:22:00,343 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:22:00,343 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:22:00,344 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:22:00,344 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:22:00,352 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:22:00,352 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:22:00,355 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:22:00,356 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:22:00,356 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:22:00,540 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:22:00,542 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:22:00,542 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:22:00,543 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:22:00,543 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:22:00,543 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:22:00,547 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:22:00,597 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:22:02,255 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 19:22:18,724 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 19:22:18,886 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 19:22:18,886 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 19:22:18,888 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 19:22:18,899 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 19:22:18,900 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 19:22:18,901 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 19:22:18,902 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 19:22:18,908 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 19:22:19,101 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 19:22:19,105 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 19:22:19,106 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 19:22:19,111 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 19:22:19,117 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 19:22:19,138 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 19:22:19,139 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 19:22:19,140 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 19:22:19,141 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 19:22:19,141 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 19:22:19,196 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 19:22:19,198 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 19:22:19,198 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 19:22:19,255 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 19:22:19,258 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 19:22:19,258 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 19:22:19,273 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 19:22:19,292 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 19:22:19,292 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 19:22:19,300 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 19:22:19,306 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 19:22:19,310 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 19:22:19,312 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 19:22:19,322 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 19:22:19,324 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 19:22:19,325 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 19:22:21,040 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 19:22:21,041 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 19:22:21,042 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 19:22:21,042 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 19:22:21,043 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 19:22:21,078 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:22:21,081 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:22:21,081 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 19:22:21,161 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 19:22:21,162 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 19:22:21,188 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 19:22:26,022 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:22:26,022 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:22:26,025 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:22:26,028 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:22:30,631 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:22:30,631 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:22:30,639 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:24:59,761 - CRITICAL - GlobalExceptionHook - main:54 - Unhandled exception: TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1033, in _edit_selected_category_process
    dialog = AddEditChargeCodeCategoryDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1033, in _edit_selected_category_process
    dialog = AddEditChargeCodeCategoryDialog(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AddEditChargeCodeCategoryDialog.__init__() got an unexpected keyword argument 'level'
2025-06-05 19:25:24,137 - INFO - EDSIApplication - main:265 - User Management Screen was closed and its instance destroyed.
2025-06-05 19:25:25,587 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 19:25:25,588 - INFO - EDSIApplication - main:280 - Main application screen (Horse Management) is closing.
2025-06-05 19:25:25,589 - INFO - EDSIApplication - main:282 - Main screen closed by user; initiating application quit.
2025-06-05 19:25:25,590 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:25:25,599 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 19:25:25,602 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:25:25,603 - INFO - root - main:372 - Application exiting with code 0
2025-06-05 19:35:16,805 - INFO - root - main:126 - Logging configured (Console and File)
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:79 - Starting EDSI Veterinary Management System v2.0.3
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:80 - Python version: 3.11.4 (tags/v3.11.4:d2340ef, Jun  7 2023, 05:45:37) [MSC v.1934 64 bit (AMD64)]
2025-06-05 19:35:16,805 - INFO - EDSIApplication - main:81 - PySide6 version: 3.11.4150.1013
2025-06-05 19:35:16,806 - INFO - EDSIApplication - main:132 - Initializing database...
2025-06-05 19:35:16,806 - INFO - DatabaseManager - database_config:75 - Initializing database: sqlite:///C:\Projects\EDMS\edsi_database.db
2025-06-05 19:35:16,813 - INFO - DatabaseManager - database_config:88 - Database engine and session factory created
2025-06-05 19:35:16,813 - INFO - DatabaseManager - database_config:119 - Creating database tables...
2025-06-05 19:35:16,816 - INFO - DatabaseManager - database_config:123 - Database tables created/verified: ['roles', 'user_roles', 'users', 'horse_owners', 'horse_locations', 'horses', 'owners', 'owner_billing_history', 'owner_payments', 'state_provinces', 'charge_code_categories', 'charge_codes', 'veterinarians', 'locations', 'procedures', 'drugs', 'treatment_logs', 'communication_logs', 'documents', 'reminders', 'appointments', 'transactions', 'invoices']
2025-06-05 19:35:16,817 - INFO - DatabaseManager - database_config:184 - Database connection test successful
2025-06-05 19:35:16,817 - INFO - DatabaseManager - database_config:202 - Ensuring default ADMIN user exists with bcrypt password.
2025-06-05 19:35:16,999 - INFO - DatabaseManager - database_config:277 - ADMIN user credentials, status, and name are correct.
2025-06-05 19:35:17,001 - INFO - DatabaseManager - database_config:305 - Default ADMIN user ready (Username: ADMIN, Password: admin1234)
2025-06-05 19:35:17,001 - INFO - DatabaseManager - database_config:92 - Database initialization completed successfully
2025-06-05 19:35:17,001 - INFO - EDSIApplication - main:137 - Database initialized successfully
2025-06-05 19:35:17,001 - INFO - EDSIApplication - main:148 - Showing splash screen
2025-06-05 19:35:17,001 - INFO - SplashScreen - splash_screen:73 - Attempting to load splash image from: C:\Projects\EDMS\assets\splash_screen.jpg
2025-06-05 19:35:17,006 - INFO - SplashScreen - splash_screen:129 - Splash screen UI setup complete.
2025-06-05 19:35:17,054 - INFO - EDSIApplication - main:345 - Starting EDSI Veterinary Management System event loop
2025-06-05 19:35:18,593 - INFO - EDSIApplication - main:156 - Showing login dialog
2025-06-05 19:35:27,695 - INFO - UserController - user_controller:42 - UserController.authenticate_user received login_id: 'admin', password_attempt (first 3 chars): 'adm...'
2025-06-05 19:35:27,855 - INFO - UserController - user_controller:79 - User 'ADMIN' authenticated successfully.
2025-06-05 19:35:27,855 - INFO - SmallLoginDialog - small_login_dialog:226 - User 'ADMIN' logged in successfully
2025-06-05 19:35:27,856 - INFO - EDSIApplication - main:174 - User 'ADMIN' logged in successfully
2025-06-05 19:35:27,867 - INFO - EDSIApplication - main:209 - Showing Horse Management screen for user: ADMIN
2025-06-05 19:35:27,867 - INFO - HorseUnifiedManagement - horse_unified_management:113 - HorseUnifiedManagement __init__ started for user: ADMIN
2025-06-05 19:35:27,867 - INFO - HorseUnifiedManagement - base_view:80 - BaseView __init__ for HorseUnifiedManagement started.
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - base_view:90 - BaseView __init__ for HorseUnifiedManagement: central_widget created.
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - base_view:98 - BaseView __init__ for HorseUnifiedManagement: Calling overridden setup_ui().
2025-06-05 19:35:27,868 - INFO - HorseUnifiedManagement - horse_unified_management:177 - HorseUnifiedManagement.setup_ui: EXECUTION CONFIRMED.
2025-06-05 19:35:27,874 - INFO - HorseUnifiedManagement - horse_unified_management:839 - --- HORSEUNIFIEDMANAGEMENT.SETUP_HORSE_TABS START ---
2025-06-05 19:35:28,037 - INFO - HorseUnifiedManagement - horse_unified_management:852 - BasicInfoTab created.
2025-06-05 19:35:28,040 - INFO - HorseUnifiedManagement - horse_unified_management:864 - OwnersTab created.
2025-06-05 19:35:28,042 - INFO - HorseUnifiedManagement - horse_unified_management:876 - LocationTab created.
2025-06-05 19:35:28,047 - INFO - HorseUnifiedManagement - horse_unified_management:886 - BillingTab created.
2025-06-05 19:35:28,051 - INFO - HorseUnifiedManagement - horse_unified_management:903 - Tabs added.
2025-06-05 19:35:28,071 - INFO - HorseUnifiedManagement - horse_unified_management:1719 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS START ---
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1741 - Connecting BasicInfoTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1757 - Connecting OwnersTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1765 - Connecting LocationTab signals.
2025-06-05 19:35:28,072 - INFO - HorseUnifiedManagement - horse_unified_management:1773 - Connecting BillingTab signals (if any needed by parent).
2025-06-05 19:35:28,073 - INFO - HorseUnifiedManagement - horse_unified_management:1776 - --- HORSEUNIFIEDMANAGEMENT.SETUP_CONNECTIONS END ---
2025-06-05 19:35:28,073 - INFO - HorseUnifiedManagement - horse_unified_management:194 - HorseUnifiedManagement.setup_ui: All components initialized.
2025-06-05 19:35:28,128 - INFO - HorseUnifiedManagement - base_view:310 - Dark theme palette and global styles applied for HorseUnifiedManagement.
2025-06-05 19:35:28,129 - INFO - HorseUnifiedManagement - base_view:140 - BaseView __init__ for HorseUnifiedManagement finished.
2025-06-05 19:35:28,130 - INFO - HorseUnifiedManagement - horse_unified_management:172 - HorseUnifiedManagement screen __init__ finished (initial data load deferred).
2025-06-05 19:35:28,195 - INFO - HorseUnifiedManagement - horse_unified_management:197 - HorseUnifiedManagement showEvent: START
2025-06-05 19:35:28,198 - INFO - HorseUnifiedManagement - horse_unified_management:393 - display_empty_state: FINISHED
2025-06-05 19:35:28,198 - INFO - HorseUnifiedManagement - horse_unified_management:242 - HorseUnifiedManagement showEvent: FINISHED - screen should be visible.
2025-06-05 19:35:28,211 - INFO - EDSIApplication - main:223 - Horse Management Screen shown.
2025-06-05 19:35:28,244 - INFO - HorseUnifiedManagement - horse_unified_management:547 - load_initial_data: START - Attempting to load horses.
2025-06-05 19:35:28,245 - INFO - HorseUnifiedManagement - horse_unified_management:1348 - load_horses: Filter status: 'active', Search: ''
2025-06-05 19:35:28,254 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: active) found 1 results.
2025-06-05 19:35:28,259 - INFO - HorseController - horse_controller:368 - Search for horses (term: '', owner: 'None', status: all) found 1 results.
2025-06-05 19:35:28,260 - INFO - HorseUnifiedManagement - horse_unified_management:1037 - load_horse_details: START for horse ID: 1
2025-06-05 19:35:28,263 - INFO - HorseController - horse_controller:304 - Retrieved horse ID 1: Soul Rebel
2025-06-05 19:35:28,276 - INFO - FinancialController - financial_controller:254 - Retrieved 0 transactions for horse ID 1.
2025-06-05 19:35:28,279 - INFO - HorseUnifiedManagement - horse_unified_management:1062 - load_horse_details: FINISHED for horse ID: 1
2025-06-05 19:35:28,279 - INFO - HorseUnifiedManagement - horse_unified_management:550 - load_initial_data: FINISHED - load_horses call completed.
2025-06-05 19:35:35,930 - INFO - EDSIApplication - main:226 - Setup icon clicked, attempting to show User Management Screen.
2025-06-05 19:35:35,930 - INFO - EDSIApplication - main:252 - Creating new User Management Screen instance.
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - user_management_screen:94 - UserManagementScreen __init__ called for user: ADMIN
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - base_view:80 - BaseView __init__ for UserManagementScreen started.
2025-06-05 19:35:35,932 - INFO - UserManagementScreen - base_view:90 - BaseView __init__ for UserManagementScreen: central_widget created.
2025-06-05 19:35:35,933 - INFO - UserManagementScreen - base_view:98 - BaseView __init__ for UserManagementScreen: Calling overridden setup_ui().
2025-06-05 19:35:35,933 - INFO - UserManagementScreen - user_management_screen:156 - Setting up UserManagementScreen UI...
2025-06-05 19:35:35,969 - INFO - UserManagementScreen - user_management_screen:490 - Loading users data for tab...
2025-06-05 19:35:35,971 - INFO - UserManagementScreen - user_management_screen:524 - Loaded 2 users.
2025-06-05 19:35:35,971 - INFO - UserManagementScreen - user_management_screen:186 - UserManagementScreen UI setup complete.
2025-06-05 19:35:36,046 - INFO - UserManagementScreen - base_view:310 - Dark theme palette and global styles applied for UserManagementScreen.
2025-06-05 19:35:36,047 - INFO - UserManagementScreen - base_view:135 - BaseView __init__ for UserManagementScreen: Default QStatusBar created and set.
2025-06-05 19:35:36,047 - INFO - UserManagementScreen - base_view:322 - Status update: Ready
2025-06-05 19:35:36,048 - INFO - UserManagementScreen - base_view:140 - BaseView __init__ for UserManagementScreen finished.
2025-06-05 19:35:36,048 - INFO - UserManagementScreen - user_management_screen:153 - UserManagementScreen __init__ completed.
2025-06-05 19:35:36,073 - INFO - EDSIApplication - main:262 - User Management Screen shown.
2025-06-05 19:35:40,573 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 1, new tab title:  Manage Locations
2025-06-05 19:35:40,574 - INFO - UserManagementScreen - user_management_screen:670 - Loading locations data for tab...
2025-06-05 19:35:40,582 - INFO - UserManagementScreen - user_management_screen:720 - Loaded 3 locations.
2025-06-05 19:35:42,061 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:35:42,062 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:35:42,070 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:36:12,779 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 3, new tab title:  Manage Charge Codes
2025-06-05 19:36:12,779 - INFO - UserManagementScreen - user_management_screen:1198 - Loading charge codes data for tab...
2025-06-05 19:36:12,781 - INFO - UserManagementScreen - user_management_screen:1204 - Charge code status filter: active
2025-06-05 19:36:12,784 - ERROR - UserManagementScreen - user_management_screen:1260 - Error loading charge codes: 'dict' object has no attribute 'name'
Traceback (most recent call last):
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in load_charge_codes_data
    category_path_str = " > ".join([p.name for p in path_objects])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\EDMS\views\admin\user_management_screen.py", line 1229, in <listcomp>
    category_path_str = " > ".join([p.name for p in path_objects])
                                    ^^^^^^
AttributeError: 'dict' object has no attribute 'name'
2025-06-05 19:36:16,600 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 4, new tab title:  Manage Master Owners
2025-06-05 19:36:16,600 - INFO - UserManagementScreen - user_management_screen:1415 - Loading owners data for tab...
2025-06-05 19:36:16,608 - INFO - OwnerController - owner_controller:64 - Retrieved 2 master owners (include_inactive=False).
2025-06-05 19:36:16,608 - INFO - UserManagementScreen - user_management_screen:1460 - Loaded 2 owners.
2025-06-05 19:36:22,468 - INFO - UserManagementScreen - user_management_screen:394 - Tab changed to index: 2, new tab title:  Manage Categories/Processes
2025-06-05 19:36:22,468 - INFO - UserManagementScreen - user_management_screen:880 - Loading charge code categories/processes data...
2025-06-05 19:36:22,475 - INFO - UserManagementScreen - user_management_screen:959 - Displayed categories in tree (UI filter: 'active').
2025-06-05 19:40:28,414 - INFO - HorseUnifiedManagement - horse_unified_management:1660 - handle_logout_request_from_menu: User 'ADMIN' logout.
2025-06-05 19:40:28,414 - INFO - EDSIApplication - main:273 - User 'ADMIN' logging out from Horse Management.
2025-06-05 19:40:28,416 - INFO - EDSIApplication - main:276 - Logout requested. Application will now exit.
2025-06-05 19:40:28,416 - INFO - EDSIApplication - main:286 - Application quit requested.
2025-06-05 19:40:28,419 - WARNING - HorseUnifiedManagement - horse_unified_management:563 - HorseUnifiedManagement closeEvent. Type: 19
2025-06-05 19:40:28,419 - WARNING - HorseUnifiedManagement - horse_unified_management:566 - HorseUnifiedManagement finished processing closeEvent.
2025-06-05 19:40:28,447 - INFO - EDSIApplication - main:348 - Application finished with exit code: 0
2025-06-05 19:40:28,449 - INFO - root - main:372 - Application exiting with code 0
